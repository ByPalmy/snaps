(()=>{var e={12:e=>{e.exports=a,a.default=a,a.stable=d,a.stableStringify=d;var t="[...]",r="[Circular]",n=[],o=[];function i(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function a(e,t,r,a){var s;void 0===a&&(a=i()),c(e,"",0,[],void 0,0,a);try{s=0===o.length?JSON.stringify(e,t,r):JSON.stringify(e,f(t),r)}catch(e){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==n.length;){var u=n.pop();4===u.length?Object.defineProperty(u[0],u[1],u[3]):u[0][u[1]]=u[2]}}return s}function s(e,t,r,i){var a=Object.getOwnPropertyDescriptor(i,r);void 0!==a.get?a.configurable?(Object.defineProperty(i,r,{value:e}),n.push([i,r,t,a])):o.push([t,r,e]):(i[r]=e,n.push([i,r,t]))}function c(e,n,o,i,a,u,d){var l;if(u+=1,"object"==typeof e&&null!==e){for(l=0;l<i.length;l++)if(i[l]===e)return void s(r,e,n,a);if(void 0!==d.depthLimit&&u>d.depthLimit)return void s(t,e,n,a);if(void 0!==d.edgesLimit&&o+1>d.edgesLimit)return void s(t,e,n,a);if(i.push(e),Array.isArray(e))for(l=0;l<e.length;l++)c(e[l],l,l,i,e,u,d);else{var f=Object.keys(e);for(l=0;l<f.length;l++){var h=f[l];c(e[h],h,l,i,e,u,d)}}i.pop()}}function u(e,t){return e<t?-1:e>t?1:0}function d(e,t,r,a){void 0===a&&(a=i());var s,c=l(e,"",0,[],void 0,0,a)||e;try{s=0===o.length?JSON.stringify(c,t,r):JSON.stringify(c,f(t),r)}catch(e){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==n.length;){var u=n.pop();4===u.length?Object.defineProperty(u[0],u[1],u[3]):u[0][u[1]]=u[2]}}return s}function l(e,o,i,a,c,d,f){var h;if(d+=1,"object"==typeof e&&null!==e){for(h=0;h<a.length;h++)if(a[h]===e)return void s(r,e,o,c);try{if("function"==typeof e.toJSON)return}catch(e){return}if(void 0!==f.depthLimit&&d>f.depthLimit)return void s(t,e,o,c);if(void 0!==f.edgesLimit&&i+1>f.edgesLimit)return void s(t,e,o,c);if(a.push(e),Array.isArray(e))for(h=0;h<e.length;h++)l(e[h],h,h,a,e,d,f);else{var p={},g=Object.keys(e).sort(u);for(h=0;h<g.length;h++){var m=g[h];l(e[m],m,h,a,e,d,f),p[m]=e[m]}if(void 0===c)return p;n.push([c,o,e]),c[o]=p}a.pop()}}function f(e){return e=void 0!==e?e:function(e,t){return t},function(t,r){if(o.length>0)for(var n=0;n<o.length;n++){var i=o[n];if(i[1]===t&&i[0]===r){r=i[2],o.splice(n,1);break}}return e.call(this,t,r)}}}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{"use strict";function e(e){return Boolean(e)&&"object"==typeof e&&!Array.isArray(e)}r.r(n),r.d(n,{onRpcRequest:()=>jn});const t=(e,t)=>Object.hasOwnProperty.call(e,t);var o;!function(e){e[e.Null=4]="Null",e[e.Comma=1]="Comma",e[e.Wrapper=1]="Wrapper",e[e.True=4]="True",e[e.False=5]="False",e[e.Quote=1]="Quote",e[e.Colon=1]="Colon",e[e.Date=24]="Date"}(o=o||(o={}));function i(e){if("object"!=typeof e||null===e)return!1;try{let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch(e){return!1}}class a extends TypeError{constructor(e,t){let r;const{message:n,explanation:o,...i}=e,{path:a}=e,s=0===a.length?n:`At path: ${a.join(".")} -- ${n}`;super(o??s),null!=o&&(this.cause=s),Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}}function s(e){return"object"==typeof e&&null!==e}function c(e){return"symbol"==typeof e?e.toString():"string"==typeof e?JSON.stringify(e):`${e}`}function u(e,t,r,n){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});const{path:o,branch:i}=t,{type:a}=r,{refinement:s,message:u=`Expected a value of type \`${a}\`${s?` with refinement \`${s}\``:""}, but received: \`${c(n)}\``}=e;return{value:n,type:a,refinement:s,key:o[o.length-1],path:o,branch:i,...e,message:u}}function*d(e,t,r,n){(function(e){return s(e)&&"function"==typeof e[Symbol.iterator]})(e)||(e=[e]);for(const o of e){const e=u(o,t,r,n);e&&(yield e)}}function*l(e,t,r={}){const{path:n=[],branch:o=[e],coerce:i=!1,mask:a=!1}=r,c={path:n,branch:o};if(i&&(e=t.coercer(e,c),a&&"type"!==t.type&&s(t.schema)&&s(e)&&!Array.isArray(e)))for(const r in e)void 0===t.schema[r]&&delete e[r];let u="valid";for(const n of t.validator(e,c))n.explanation=r.message,u="not_valid",yield[n,void 0];for(let[d,f,h]of t.entries(e,c)){const t=l(f,h,{path:void 0===d?n:[...n,d],branch:void 0===d?o:[...o,f],coerce:i,mask:a,message:r.message});for(const r of t)r[0]?(u=null===r[0].refinement||void 0===r[0].refinement?"not_valid":"not_refined",yield[r[0],void 0]):i&&(f=r[1],void 0===d?e=f:e instanceof Map?e.set(d,f):e instanceof Set?e.add(f):s(e)&&(void 0!==f||d in e)&&(e[d]=f))}if("not_valid"!==u)for(const n of t.refiner(e,c))n.explanation=r.message,u="not_refined",yield[n,void 0];"valid"===u&&(yield[void 0,e])}class f{constructor(e){const{type:t,schema:r,validator:n,refiner:o,coercer:i=(e=>e),entries:a=function*(){}}=e;this.type=t,this.schema=r,this.entries=a,this.coercer=i,this.validator=n?(e,t)=>d(n(e,t),t,this,e):()=>[],this.refiner=o?(e,t)=>d(o(e,t),t,this,e):()=>[]}assert(e,t){return h(e,this,t)}create(e,t){return p(e,this,t)}is(e){return g(e,this)}mask(e,t){return function(e,t,r){const n=m(e,t,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}(e,this,t)}validate(e,t={}){return m(e,this,t)}}function h(e,t,r){const n=m(e,t,{message:r});if(n[0])throw n[0]}function p(e,t,r){const n=m(e,t,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function g(e,t){return!m(e,t)[0]}function m(e,t,r={}){const n=l(e,t,r),o=function(e){const{done:t,value:r}=e.next();return t?void 0:r}(n);if(o[0]){return[new a(o[0],(function*(){for(const e of n)e[0]&&(yield e[0])})),void 0]}return[void 0,o[1]]}function y(...e){const t="type"===e[0]?.type,r=e.map((({schema:e})=>e)),n=Object.assign({},...r);return t?function(e){const t=Object.keys(e);return new f({type:"type",schema:e,*entries(r){if(s(r))for(const n of t)yield[n,r[n],e[n]]},validator:e=>s(e)||`Expected an object, but received: ${c(e)}`,coercer:e=>s(e)?{...e}:e})}(n):$(n)}function v(e,t){return new f({type:e,schema:null,validator:t})}function w(e){let t;return new f({type:"lazy",schema:null,*entries(r,n){t??(t=e()),yield*t.entries(r,n)},validator:(r,n)=>(t??(t=e()),t.validator(r,n)),coercer:(r,n)=>(t??(t=e()),t.coercer(r,n)),refiner:(r,n)=>(t??(t=e()),t.refiner(r,n))})}function b(e){return new f({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[r,n]of t.entries())yield[r,n,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${c(e)}`})}function A(){return v("boolean",(e=>"boolean"==typeof e))}function E(e){const t=c(e),r=typeof e;return new f({type:"literal",schema:"string"===r||"number"===r||"boolean"===r?e:null,validator:r=>r===e||`Expected the literal \`${t}\`, but received: ${c(r)}`})}function x(){return v("never",(()=>!1))}function P(e){return new f({...e,validator:(t,r)=>null===t||e.validator(t,r),refiner:(t,r)=>null===t||e.refiner(t,r)})}function S(){return v("number",(e=>"number"==typeof e&&!isNaN(e)||`Expected a number, but received: ${c(e)}`))}function $(e){const t=e?Object.keys(e):[],r=x();return new f({type:"object",schema:e??null,*entries(n){if(e&&s(n)){const o=new Set(Object.keys(n));for(const r of t)o.delete(r),yield[r,n[r],e[r]];for(const e of o)yield[e,n[e],r]}},validator:e=>s(e)||`Expected an object, but received: ${c(e)}`,coercer:e=>s(e)?{...e}:e})}function M(e){return new f({...e,validator:(t,r)=>void 0===t||e.validator(t,r),refiner:(t,r)=>void 0===t||e.refiner(t,r)})}function N(e,t){return new f({type:"record",schema:null,*entries(r){if(s(r))for(const n in r){const o=r[n];yield[n,n,e],yield[n,o,t]}},validator:e=>s(e)||`Expected an object, but received: ${c(e)}`})}function k(){return v("string",(e=>"string"==typeof e||`Expected a string, but received: ${c(e)}`))}function O(e){const t=x();return new f({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(e.length,r.length);for(let o=0;o<n;o++)yield[o,r[o],e[o]||t]}},validator:e=>Array.isArray(e)||`Expected an array, but received: ${c(e)}`})}function R(e){const t=e.map((e=>e.type)).join(" | ");return new f({type:"union",schema:null,coercer(t){for(const r of e){const[e,n]=r.validate(t,{coerce:!0});if(!e)return n}return t},validator(r,n){const o=[];for(const t of e){const[...e]=l(r,t,n),[i]=e;if(!i?.[0])return[];for(const[t]of e)t&&o.push(t)}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${c(r)}`,...o]}})}function F(){return v("unknown",(()=>!0))}function I(e,t,r){return new f({...e,coercer:(n,o)=>g(n,t)?e.coercer(r(n,o),o):e.coercer(n,o)})}function z(e){return function(e){return function(e){return"object"==typeof e&&null!==e&&"message"in e}(e)&&"string"==typeof e.message?e.message:null==e?"":String(e)}(e).replace(/\.$/u,"")}function C(e,t){return r=e,Boolean("string"==typeof r?.prototype?.constructor?.name)?new e({message:t}):e({message:t});var r}class j extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}}function T(e,t="Assertion failed.",r=j){if(!e){if(t instanceof Error)throw t;throw C(r,t)}}function J(e,t,r="Assertion failed",n=j){try{h(e,t)}catch(e){throw C(n,`${r}: ${z(e)}.`)}}const U=e=>$(e);function D({path:e,branch:r}){const n=e[e.length-1];return t(r[r.length-2],n)}function B(e){return new f({...e,type:`optional ${e.type}`,validator:(t,r)=>!D(r)||e.validator(t,r),refiner:(t,r)=>!D(r)||e.refiner(t,r)})}const L=R([E(null),A(),v("finite number",(e=>g(e,S())&&Number.isFinite(e))),k(),b(w((()=>L))),N(k(),w((()=>L)))]),q=I(L,v("any",(()=>!0)),(e=>(J(e,L),JSON.parse(JSON.stringify(e,((e,t)=>{if("__proto__"!==e&&"constructor"!==e)return t}))))));function Q(e){try{return function(e){p(e,q)}(e),!0}catch{return!1}}const V=E("2.0"),W=P(R([S(),k()])),_=U({code:v("integer",(e=>"number"==typeof e&&!isNaN(e)&&Number.isInteger(e)||`Expected an integer, but received: ${c(e)}`)),message:k(),data:B(q),stack:B(k())}),G=R([N(k(),q),b(q)]);U({id:W,jsonrpc:V,method:k(),params:B(G)}),U({jsonrpc:V,method:k(),params:B(G)});$({id:W,jsonrpc:V,result:M(F()),error:M(_)});const H=U({id:W,jsonrpc:V,result:q}),Y=U({id:W,jsonrpc:V,error:_});R([H,Y]);function Z(e,t){return K(e,"pattern",(r=>t.test(r)||`Expected a ${e.type} matching \`/${t.source}/\` but received "${r}"`))}function K(e,t,r){return new f({...e,*refiner(n,o){yield*e.refiner(n,o);const i=d(r(n,o),o,e,n);for(const e of i)yield{...e,refinement:t}}})}var X={invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},ee={userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901},te={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}},re=X.internal,ne="Unspecified error message. This is a bug, please report it.",oe=(ie(re),"Unspecified server error.");function ie(e,r=ne){if(function(e){return Number.isInteger(e)}(e)){const r=e.toString();if(t(te,r))return te[r].message;if(function(e){return e>=-32099&&e<=-32e3}(e))return oe}return r}function ae(t){return Array.isArray(t)?t.map((t=>Q(t)?t:e(t)?se(t):null)):e(t)?se(t):Q(t)?t:null}function se(e){return Object.getOwnPropertyNames(e).reduce(((t,r)=>{const n=e[r];return Q(n)&&(t[r]=n),t}),{})}var ce=r(12),ue=class extends Error{constructor(e,t,r){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!t||"string"!=typeof t)throw new Error('"message" must be a non-empty string.');super(t),this.code=e,void 0!==r&&(this.data=r)}serialize(){const e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data,i(this.data)&&(e.data.cause=ae(this.data.cause))),this.stack&&(e.stack=this.stack),e}toString(){return ce(this.serialize(),le,2)}},de=class extends ue{constructor(e,t,r){if(!function(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,t,r)}};function le(e,t){if("[Circular]"!==t)return t}var fe=e=>Ne(X.parse,e),he=e=>Ne(X.invalidRequest,e),pe=e=>Ne(X.invalidParams,e),ge=e=>Ne(X.methodNotFound,e),me=e=>Ne(X.internal,e),ye=e=>Ne(X.invalidInput,e),ve=e=>Ne(X.resourceNotFound,e),we=e=>Ne(X.resourceUnavailable,e),be=e=>Ne(X.transactionRejected,e),Ae=e=>Ne(X.methodNotSupported,e),Ee=e=>Ne(X.limitExceeded,e),xe=e=>ke(ee.userRejectedRequest,e),Pe=e=>ke(ee.unauthorized,e),Se=e=>ke(ee.unsupportedMethod,e),$e=e=>ke(ee.disconnected,e),Me=e=>ke(ee.chainDisconnected,e);function Ne(e,t){const[r,n]=Oe(t);return new ue(e,r??ie(e),n)}function ke(e,t){const[r,n]=Oe(t);return new de(e,r??ie(e),n)}function Oe(e){if(e){if("string"==typeof e)return[e];if("object"==typeof e&&!Array.isArray(e)){const{message:t,data:r}=e;if(t&&"string"!=typeof t)throw new Error("Must specify string message.");return[t??void 0,r]}}return[]}function Re(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function Fe(...e){const t=(e,t)=>r=>e(t(r)),r=Array.from(e).reverse().reduce(((e,r)=>e?t(e,r.encode):r.encode),void 0),n=e.reduce(((e,r)=>e?t(e,r.decode):r.decode),void 0);return{encode:r,decode:n}}function Ie(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("alphabet.encode input should be an array of numbers");return t.map((t=>{if(Re(t),t<0||t>=e.length)throw new Error(`Digit index outside alphabet: ${t} (alphabet: ${e.length})`);return e[t]}))},decode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("alphabet.decode input should be array of strings");return t.map((t=>{if("string"!=typeof t)throw new Error(`alphabet.decode: not string element=${t}`);const r=e.indexOf(t);if(-1===r)throw new Error(`Unknown letter: "${t}". Allowed: ${e}`);return r}))}}}function ze(e=""){if("string"!=typeof e)throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("join.encode input should be array of strings");for(let e of t)if("string"!=typeof e)throw new Error(`join.encode: non-string input=${e}`);return t.join(e)},decode:t=>{if("string"!=typeof t)throw new Error("join.decode input should be string");return t.split(e)}}}function Ce(e,t="="){if(Re(e),"string"!=typeof t)throw new Error("padding chr should be string");return{encode(r){if(!Array.isArray(r)||r.length&&"string"!=typeof r[0])throw new Error("padding.encode input should be array of strings");for(let e of r)if("string"!=typeof e)throw new Error(`padding.encode: non-string input=${e}`);for(;r.length*e%8;)r.push(t);return r},decode(r){if(!Array.isArray(r)||r.length&&"string"!=typeof r[0])throw new Error("padding.encode input should be array of strings");for(let e of r)if("string"!=typeof e)throw new Error(`padding.decode: non-string input=${e}`);let n=r.length;if(n*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;n>0&&r[n-1]===t;n--)if(!((n-1)*e%8))throw new Error("Invalid padding: string has too much padding");return r.slice(0,n)}}}function je(e){if("function"!=typeof e)throw new Error("normalize fn should be function");return{encode:e=>e,decode:t=>e(t)}}function Te(e,t,r){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(r<2)throw new Error(`convertRadix: wrong to=${r}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let n=0;const o=[],i=Array.from(e);for(i.forEach((e=>{if(Re(e),e<0||e>=t)throw new Error(`Wrong integer: ${e}`)}));;){let e=0,a=!0;for(let o=n;o<i.length;o++){const s=i[o],c=t*e+s;if(!Number.isSafeInteger(c)||t*e/t!==e||c-s!=t*e)throw new Error("convertRadix: carry overflow");e=c%r;const u=Math.floor(c/r);if(i[o]=u,!Number.isSafeInteger(u)||u*r+e!==c)throw new Error("convertRadix: carry overflow");a&&(u?a=!1:n=o)}if(o.push(e),a)break}for(let t=0;t<e.length-1&&0===e[t];t++)o.push(0);return o.reverse()}const Je=(e,t)=>t?Je(t,e%t):e,Ue=(e,t)=>e+(t-Je(e,t));function De(e,t,r,n){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(Ue(t,r)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${r} carryBits=${Ue(t,r)}`);let o=0,i=0;const a=2**r-1,s=[];for(const n of e){if(Re(n),n>=2**t)throw new Error(`convertRadix2: invalid data word=${n} from=${t}`);if(o=o<<t|n,i+t>32)throw new Error(`convertRadix2: carry overflow pos=${i} from=${t}`);for(i+=t;i>=r;i-=r)s.push((o>>i-r&a)>>>0);o&=2**i-1}if(o=o<<r-i&a,!n&&i>=t)throw new Error("Excess padding");if(!n&&o)throw new Error(`Non-zero padding: ${o}`);return n&&i>0&&s.push(o>>>0),s}function Be(e){return Re(e),{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return Te(Array.from(t),256,e)},decode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("radix.decode input should be array of strings");return Uint8Array.from(Te(t,e,256))}}}function Le(e,t=!1){if(Re(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(Ue(8,e)>32||Ue(e,8)>32)throw new Error("radix2: carry overflow");return{encode:r=>{if(!(r instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return De(Array.from(r),8,e,!t)},decode:r=>{if(!Array.isArray(r)||r.length&&"number"!=typeof r[0])throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(De(r,e,8,t))}}}const qe=Fe(Le(4),Ie("0123456789ABCDEF"),ze("")),Qe=Fe(Le(5),Ie("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),Ce(5),ze("")),Ve=(Fe(Le(5),Ie("0123456789ABCDEFGHIJKLMNOPQRSTUV"),Ce(5),ze("")),Fe(Le(5),Ie("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),ze(""),je((e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")))),Fe(Le(6),Ie("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),Ce(6),ze(""))),We=Fe(Le(6),Ie("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),Ce(6),ze("")),_e=(Fe(Le(6),Ie("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),ze("")),e=>Fe(Be(58),Ie(e),ze(""))),Ge=_e("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),He=[0,2,3,5,6,7,9,10,11],Ye={encode(e){let t="";for(let r=0;r<e.length;r+=8){const n=e.subarray(r,r+8);t+=Ge.encode(n).padStart(He[n.length],"1")}return t},decode(e){let t=[];for(let r=0;r<e.length;r+=11){const n=e.slice(r,r+11),o=He.indexOf(n.length),i=Ge.decode(n);for(let e=0;e<i.length-o;e++)if(0!==i[e])throw new Error("base58xmr: wrong padding");t=t.concat(Array.from(i.slice(i.length-o)))}return Uint8Array.from(t)}};Fe(Ie("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),ze(""));const Ze={encode:e=>(new TextDecoder).decode(e),decode:e=>(new TextEncoder).encode(e)};Fe(Le(4),Ie("0123456789abcdef"),ze(""),je((e=>{if("string"!=typeof e||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()})));!function(){const e=[]}();function Ke(e){return e instanceof Uint8Array}function Xe(e){T(Ke(e),"Value must be a Uint8Array.")}Z(k(),/^(?:0x)?[0-9a-f]+$/iu),Z(k(),/^0x[0-9a-f]+$/iu),Z(k(),/^0x[0-9a-f]{40}$/u);const et=Z(k(),/^0x[0-9a-fA-F]{40}$/u);var tt,rt,nt,ot,it=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},at=(e,t,r)=>(it(e,t,"read from private field"),r?r.call(e):t.get(e)),st=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},ct=(e,t,r,n)=>(it(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),ut=class extends Error{constructor(r,n={}){const o=function(r){if(e(r)&&t(r,"message")&&"string"==typeof r.message)return r.message;return String(r)}(r);super(o),st(this,tt,void 0),st(this,rt,void 0),st(this,nt,void 0),st(this,ot,void 0),ct(this,rt,o),ct(this,tt,function(r){if(e(r)&&t(r,"code")&&"number"==typeof r.code&&Number.isInteger(r.code))return r.code;return-32603}(r));const i={...ht(r),...n};Object.keys(i).length>0&&ct(this,nt,i),ct(this,ot,super.stack)}get name(){return"SnapError"}get code(){return at(this,tt)}get message(){return at(this,rt)}get data(){return at(this,nt)}get stack(){return at(this,ot)}toJSON(){return{code:lt,message:ft,data:{cause:{code:this.code,message:this.message,stack:this.stack,...this.data?{data:this.data}:{}}}}}serialize(){return this.toJSON()}};function dt(e){return class extends ut{constructor(t,r){if("object"==typeof t){const r=e();return void super({code:r.code,message:r.message,data:t})}const n=e(t);super({code:n.code,message:n.message,data:r})}}}tt=new WeakMap,rt=new WeakMap,nt=new WeakMap,ot=new WeakMap;var lt=-31002,ft="Snap Error";function ht(r){return e(r)&&t(r,"data")&&"object"==typeof r.data&&null!==r.data&&Q(r.data)&&!Array.isArray(r.data)?r.data:{}}function pt(e){return v(JSON.stringify(e),E(e).validator)}function gt(e){return pt(e)}function mt(e){return function([e,...t]){const r=R([e,...t]);return new f({...r,schema:[e,...t]})}(e)}function yt(){return K(k(),"SVG",(e=>!!e.includes("<svg")||"Value is not a valid SVG."))}dt(me),dt(ye),dt(pe),dt(he),dt(Ee);var vt=dt(ge);dt(Ae),dt(fe),dt(ve),dt(we),dt(be),dt(Me),dt($e),dt(Pe),dt(Se),dt(xe);function wt(e,t,r=[]){return(...n)=>{if(1===n.length&&i(n[0])){const r={...n[0],type:e};return J(r,t,`Invalid ${e} component`),r}const o=r.reduce(((e,t,r)=>void 0!==n[r]?{...e,[t]:n[r]}:e),{type:e});return J(o,t,`Invalid ${e} component`),o}}var bt,At,Et,xt,Pt,St=((bt=St||{}).Copyable="copyable",bt.Divider="divider",bt.Heading="heading",bt.Panel="panel",bt.Spinner="spinner",bt.Text="text",bt.Image="image",bt.Row="row",bt.Address="address",bt.Button="button",bt.Input="input",bt.Form="form",bt),$t=$({type:k()}),Mt=y($t,$({value:F()})),Nt=y(Mt,$({type:E("address"),value:et})),kt=(wt("address",Nt,["value"]),y(Mt,$({type:E("copyable"),value:k(),sensitive:M(A())}))),Ot=(wt("copyable",kt,["value","sensitive"]),y($t,$({type:E("divider")}))),Rt=(wt("divider",Ot),y(Mt,$({type:E("heading"),value:k()}))),Ft=(wt("heading",Rt,["value"]),y($t,$({type:E("image"),value:yt()}))),It=wt("image",Ft,["value"]),zt=((At=zt||{}).Primary="primary",At.Secondary="secondary",At),Ct=((Et=Ct||{}).Button="button",Et.Submit="submit",Et),jt=y(Mt,$({type:E("button"),value:k(),variant:M(R([gt("primary"),gt("secondary")])),buttonType:M(R([gt("button"),gt("submit")])),name:M(k())})),Tt=(wt("button",jt,["value","buttonType","name","variant"]),(xt=Tt||{}).Text="text",xt.Number="number",xt.Password="password",xt),Jt=y(Mt,$({type:E("input"),value:M(k()),name:k(),inputType:M(R([gt("text"),gt("password"),gt("number")])),placeholder:M(k()),label:M(k()),error:M(k())})),Ut=(wt("input",Jt,["name","inputType","placeholder","value","label"]),R([Jt,jt])),Dt=y($t,$({type:E("form"),children:b(Ut),name:k()})),Bt=(wt("form",Dt,["name","children"]),y(Mt,$({type:E("text"),value:k(),markdown:M(A())}))),Lt=wt("text",Bt,["value","markdown"]),qt=((Pt=qt||{}).Default="default",Pt.Critical="critical",Pt.Warning="warning",Pt),Qt=R([Ft,Bt,Nt]),Vt=y(Mt,$({type:E("row"),variant:M(R([gt("default"),gt("critical"),gt("warning")])),label:k(),value:Qt})),Wt=(wt("row",Vt,["label","value","variant"]),y($t,$({type:E("spinner")}))),_t=(wt("spinner",Wt),y($t,$({children:b(w((()=>Yt)))}))),Gt=y(_t,$({type:E("panel")})),Ht=wt("panel",Gt,["children"]),Yt=R([kt,Ot,Rt,Ft,Gt,Wt,Bt,Vt,Nt,Jt,Dt,jt]);async function Zt(e,t){const r=await async function(e,t){if("function"!=typeof fetch)throw new Error(`Failed to fetch image data from "${e}": Using this function requires the "endowment:network-access" permission.`);return fetch(e,t).then((async t=>{if(!t.ok)throw new Error(`Failed to fetch image data from "${e}": ${t.status} ${t.statusText}`);const r=await t.blob();return T("image/jpeg"===r.type||"image/png"===r.type,"Expected image data to be a JPEG or PNG image."),r}))}(e,t),n=new Uint8Array(await r.arrayBuffer());return`data:${r.type};base64,${function(e){return Xe(e),Ve.encode(e)}(n)}`}async function Kt(e,{width:t,height:r=t,request:n}){T("number"==typeof t&&t>0,"Expected width to be a number greater than 0."),T("number"==typeof r&&r>0,"Expected height to be a number greater than 0.");const o=await Zt(e,n),i=`width="${t}" height="${r}"`;return It(`<svg ${i.trim()} xmlns="http://www.w3.org/2000/svg"><image ${i.trim()} href="${o}" /></svg>`)}var Xt,er,tr,rr,nr,or,ir=((Xt=ir||{}).Critical="critical",Xt),ar=((er=ar||{}).ButtonClickEvent="ButtonClickEvent",er.FormSubmitEvent="FormSubmitEvent",er.InputChangeEvent="InputChangeEvent",er.FileUploadEvent="FileUploadEvent",er),sr=$({type:k(),name:M(k())}),cr=y(sr,$({type:E("ButtonClickEvent"),name:M(k())})),ur=$({name:k(),size:S(),contentType:k(),contents:k()}),dr=y(sr,$({type:E("FormSubmitEvent"),value:N(k(),P(R([k(),ur,A()]))),name:k()})),lr=y(sr,$({type:E("InputChangeEvent"),name:k(),value:R([k(),A()])})),fr=(R([cr,dr,lr,y(sr,$({type:E("FileUploadEvent"),name:k(),file:P(ur)}))]),(tr=fr||{}).Alert="alert",tr.Confirmation="confirmation",tr.Prompt="prompt",tr),hr=((rr=hr||{}).Base64="base64",rr.Hex="hex",rr.Utf8="utf8",rr),pr=((nr=pr||{}).ClearState="clear",nr.GetState="get",nr.UpdateState="update",nr),gr=((or=gr||{}).InApp="inApp",or.Native="native",or),mr=mt([k(),S()]),yr=vr([k()]);$({type:k(),props:N(k(),q),key:P(mr)});function vr(e){return function(e){const t=mt([e,b(w((()=>t)))]);return t}(P(mt([...e,A()])))}function wr(e,t={}){return $({type:pt(e),props:$(t),key:P(mr)})}var br,Ar=wr("Button",{children:yr,name:M(k()),type:M(mt([pt("button"),pt("submit")])),variant:M(mt([pt("primary"),pt("destructive")])),disabled:M(A())}),Er=wr("Checkbox",{name:k(),checked:M(A()),label:M(k()),variant:M(mt([pt("default"),pt("toggle")]))}),xr=wr("Input",{name:k(),type:M(mt([pt("text"),pt("password"),pt("number")])),value:M(k()),placeholder:M(k())}),Pr=wr("Option",{value:k(),children:k()}),Sr=wr("Dropdown",{name:k(),value:M(k()),children:vr([Pr])}),$r=wr("FileInput",{name:k(),accept:mt([M(b(k()))]),compact:M(A())}),Mr=[xr,Ar],Nr=[xr,Sr,$r,Er],kr=(mt([...Nr,...Mr]),mt([O(Mr),...Nr])),Or=wr("Field",{label:M(k()),error:M(k()),children:kr}),Rr=wr("Form",{children:vr([Or,w((()=>Zr))]),name:k()}),Fr=wr("Bold",{children:vr([k(),w((()=>Ir))])}),Ir=wr("Italic",{children:vr([k(),w((()=>Fr))])}),zr=mt([Fr,Ir]),Cr=wr("Address",{address:et}),jr=wr("Box",{children:vr([w((()=>Zr))]),direction:M(mt([pt("horizontal"),pt("vertical")])),alignment:M(mt([pt("start"),pt("center"),pt("end"),pt("space-between"),pt("space-around")]))}),Tr=wr("Footer",{children:mt([O([Ar,Ar]),Ar])}),Jr=wr("Container",{children:mt([O([jr,Tr]),jr])}),Ur=wr("Copyable",{value:k(),sensitive:M(A())}),Dr=wr("Divider"),Br=wr("Value",{value:k(),extra:k()}),Lr=wr("Heading",{children:yr}),qr=wr("Image",{src:yt(),alt:M(k())}),Qr=wr("Link",{href:k(),children:vr([zr,k()])}),Vr=wr("Text",{children:vr([k(),Fr,Ir,Qr]),alignment:M(mt([pt("start"),pt("center"),pt("end")]))}),Wr=mt([Vr,Fr,Ir,Qr,qr,A()]),_r=mt([Vr,Fr,Ir,Qr,k()]),Gr=wr("Tooltip",{children:P(Wr),content:_r}),Hr=wr("Row",{label:k(),children:mt([Cr,qr,Vr,Br]),variant:M(mt([pt("default"),pt("warning"),pt("critical")])),tooltip:M(k())}),Yr=wr("Spinner"),Zr=mt([Cr,Fr,jr,Ar,Ur,Dr,Sr,$r,Rr,Lr,xr,qr,Ir,Qr,Hr,Yr,Vr,Gr,Er]),Kr=Zr,Xr=(mt([Ar,xr,$r,Or,Rr,Fr,Ir,Cr,jr,Ur,Dr,Lr,qr,Qr,Hr,Yr,Vr,Sr,Pr,Br,Gr,Er,Tr,Jr]),R([ur,k(),A()])),en=N(k(),P(Xr)),tn=(N(k(),R([en,P(Xr)])),R([Yt,Kr]),N(k(),q),(br=tn||{})[br.Border=-1]="Border",br[br.Data=0]="Data",br[br.Function=1]="Function",br[br.Position=2]="Position",br[br.Timing=3]="Timing",br[br.Alignment=4]="Alignment",br),rn=Object.defineProperty,nn=(e,t,r)=>(((e,t,r)=>{t in e?rn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r})(e,"symbol"!=typeof t?t+"":t,r),r);const on=[1,0],an=[2,3],sn=[3,2],cn={L:[0,1],M:on,Q:an,H:sn},un=/^[0-9]*$/,dn=/^[A-Z0-9 $%*+.\/:-]*$/,ln="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",fn=1,hn=40,pn=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],gn=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]];class mn{constructor(e,t,r,n){if(this.version=e,this.ecc=t,nn(this,"size"),nn(this,"mask"),nn(this,"modules",[]),nn(this,"types",[]),e<fn||e>hn)throw new RangeError("Version value out of range");if(n<-1||n>7)throw new RangeError("Mask value out of range");this.size=4*e+17;const o=Array.from({length:this.size},(()=>!1));for(let e=0;e<this.size;e++)this.modules.push(o.slice()),this.types.push(o.map((()=>0)));this.drawFunctionPatterns();const i=this.addEccAndInterleave(r);if(this.drawCodewords(i),-1===n){let e=1e9;for(let t=0;t<8;t++){this.applyMask(t),this.drawFormatBits(t);const r=this.getPenaltyScore();r<e&&(n=t,e=r),this.applyMask(t)}}this.mask=n,this.applyMask(n),this.drawFormatBits(n)}getModule(e,t){return e>=0&&e<this.size&&t>=0&&t<this.size&&this.modules[t][e]}drawFunctionPatterns(){for(let e=0;e<this.size;e++)this.setFunctionModule(6,e,e%2==0,tn.Timing),this.setFunctionModule(e,6,e%2==0,tn.Timing);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const e=this.getAlignmentPatternPositions(),t=e.length;for(let r=0;r<t;r++)for(let n=0;n<t;n++)0===r&&0===n||0===r&&n===t-1||r===t-1&&0===n||this.drawAlignmentPattern(e[r],e[n]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(e){const t=this.ecc[1]<<3|e;let r=t;for(let e=0;e<10;e++)r=r<<1^1335*(r>>>9);const n=21522^(t<<10|r);for(let e=0;e<=5;e++)this.setFunctionModule(8,e,vn(n,e));this.setFunctionModule(8,7,vn(n,6)),this.setFunctionModule(8,8,vn(n,7)),this.setFunctionModule(7,8,vn(n,8));for(let e=9;e<15;e++)this.setFunctionModule(14-e,8,vn(n,e));for(let e=0;e<8;e++)this.setFunctionModule(this.size-1-e,8,vn(n,e));for(let e=8;e<15;e++)this.setFunctionModule(8,this.size-15+e,vn(n,e));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let e=this.version;for(let t=0;t<12;t++)e=e<<1^7973*(e>>>11);const t=this.version<<12|e;for(let e=0;e<18;e++){const r=vn(t,e),n=this.size-11+e%3,o=Math.floor(e/3);this.setFunctionModule(n,o,r),this.setFunctionModule(o,n,r)}}drawFinderPattern(e,t){for(let r=-4;r<=4;r++)for(let n=-4;n<=4;n++){const o=Math.max(Math.abs(n),Math.abs(r)),i=e+n,a=t+r;i>=0&&i<this.size&&a>=0&&a<this.size&&this.setFunctionModule(i,a,2!==o&&4!==o,tn.Position)}}drawAlignmentPattern(e,t){for(let r=-2;r<=2;r++)for(let n=-2;n<=2;n++)this.setFunctionModule(e+n,t+r,1!==Math.max(Math.abs(n),Math.abs(r)),tn.Alignment)}setFunctionModule(e,t,r,n=tn.Function){this.modules[t][e]=r,this.types[t][e]=n}addEccAndInterleave(e){const t=this.version,r=this.ecc;if(e.length!==Fn(t,r))throw new RangeError("Invalid argument");const n=gn[r[0]][t],o=pn[r[0]][t],i=Math.floor(Rn(t)/8),a=n-i%n,s=Math.floor(i/n),c=[],u=function(e){if(e<1||e>255)throw new RangeError("Degree out of range");const t=[];for(let r=0;r<e-1;r++)t.push(0);t.push(1);let r=1;for(let n=0;n<e;n++){for(let e=0;e<t.length;e++)t[e]=zn(t[e],r),e+1<t.length&&(t[e]^=t[e+1]);r=zn(r,2)}return t}(o);for(let t=0,r=0;t<n;t++){const n=e.slice(r,r+s-o+(t<a?0:1));r+=n.length;const i=In(n,u);t<a&&n.push(0),c.push(n.concat(i))}const d=[];for(let e=0;e<c[0].length;e++)c.forEach(((t,r)=>{(e!==s-o||r>=a)&&d.push(t[e])}));return d}drawCodewords(e){if(e.length!==Math.floor(Rn(this.version)/8))throw new RangeError("Invalid argument");let t=0;for(let r=this.size-1;r>=1;r-=2){6===r&&(r=5);for(let n=0;n<this.size;n++)for(let o=0;o<2;o++){const i=r-o,a=0==(r+1&2)?this.size-1-n:n;!this.types[a][i]&&t<8*e.length&&(this.modules[a][i]=vn(e[t>>>3],7-(7&t)),t++)}}}applyMask(e){if(e<0||e>7)throw new RangeError("Mask value out of range");for(let t=0;t<this.size;t++)for(let r=0;r<this.size;r++){let n;switch(e){case 0:n=(r+t)%2==0;break;case 1:n=t%2==0;break;case 2:n=r%3==0;break;case 3:n=(r+t)%3==0;break;case 4:n=(Math.floor(r/3)+Math.floor(t/2))%2==0;break;case 5:n=r*t%2+r*t%3==0;break;case 6:n=(r*t%2+r*t%3)%2==0;break;case 7:n=((r+t)%2+r*t%3)%2==0;break;default:throw new Error("Unreachable")}!this.types[t][r]&&n&&(this.modules[t][r]=!this.modules[t][r])}}getPenaltyScore(){let e=0;for(let t=0;t<this.size;t++){let r=!1,n=0;const o=[0,0,0,0,0,0,0];for(let i=0;i<this.size;i++)this.modules[t][i]===r?(n++,5===n?e+=3:n>5&&e++):(this.finderPenaltyAddHistory(n,o),r||(e+=40*this.finderPenaltyCountPatterns(o)),r=this.modules[t][i],n=1);e+=40*this.finderPenaltyTerminateAndCount(r,n,o)}for(let t=0;t<this.size;t++){let r=!1,n=0;const o=[0,0,0,0,0,0,0];for(let i=0;i<this.size;i++)this.modules[i][t]===r?(n++,5===n?e+=3:n>5&&e++):(this.finderPenaltyAddHistory(n,o),r||(e+=40*this.finderPenaltyCountPatterns(o)),r=this.modules[i][t],n=1);e+=40*this.finderPenaltyTerminateAndCount(r,n,o)}for(let t=0;t<this.size-1;t++)for(let r=0;r<this.size-1;r++){const n=this.modules[t][r];n===this.modules[t][r+1]&&n===this.modules[t+1][r]&&n===this.modules[t+1][r+1]&&(e+=3)}let t=0;for(const e of this.modules)t=e.reduce(((e,t)=>e+(t?1:0)),t);const r=this.size*this.size;return e+=10*(Math.ceil(Math.abs(20*t-10*r)/r)-1),e}getAlignmentPatternPositions(){if(1===this.version)return[];{const e=Math.floor(this.version/7)+2,t=32===this.version?26:2*Math.ceil((4*this.version+4)/(2*e-2)),r=[6];for(let n=this.size-7;r.length<e;n-=t)r.splice(1,0,n);return r}}finderPenaltyCountPatterns(e){const t=e[1],r=t>0&&e[2]===t&&e[3]===3*t&&e[4]===t&&e[5]===t;return(r&&e[0]>=4*t&&e[6]>=t?1:0)+(r&&e[6]>=4*t&&e[0]>=t?1:0)}finderPenaltyTerminateAndCount(e,t,r){return e&&(this.finderPenaltyAddHistory(t,r),t=0),t+=this.size,this.finderPenaltyAddHistory(t,r),this.finderPenaltyCountPatterns(r)}finderPenaltyAddHistory(e,t){0===t[0]&&(e+=this.size),t.pop(),t.unshift(e)}}function yn(e,t,r){if(t<0||t>31||e>>>t!=0)throw new RangeError("Value out of range");for(let n=t-1;n>=0;n--)r.push(e>>>n&1)}function vn(e,t){return 0!=(e>>>t&1)}class wn{constructor(e,t,r){if(this.mode=e,this.numChars=t,this.bitData=r,t<0)throw new RangeError("Invalid argument");this.bitData=r.slice()}getData(){return this.bitData.slice()}}const bn=[1,10,12,14],An=[2,9,11,13],En=[4,8,16,16];function xn(e,t){return e[Math.floor((t+7)/17)+1]}function Pn(e){const t=[];for(const r of e)yn(r,8,t);return new wn(En,e.length,t)}function Sn(e){if(!Mn(e))throw new RangeError("String contains non-numeric characters");const t=[];for(let r=0;r<e.length;){const n=Math.min(e.length-r,3);yn(Number.parseInt(e.substring(r,r+n),10),3*n+1,t),r+=n}return new wn(bn,e.length,t)}function $n(e){if(!Nn(e))throw new RangeError("String contains unencodable characters in alphanumeric mode");const t=[];let r;for(r=0;r+2<=e.length;r+=2){let n=45*ln.indexOf(e.charAt(r));n+=ln.indexOf(e.charAt(r+1)),yn(n,11,t)}return r<e.length&&yn(ln.indexOf(e.charAt(r)),6,t),new wn(An,e.length,t)}function Mn(e){return un.test(e)}function Nn(e){return dn.test(e)}function kn(e,t){let r=0;for(const n of e){const e=xn(n.mode,t);if(n.numChars>=1<<e)return Number.POSITIVE_INFINITY;r+=4+e+n.bitData.length}return r}function On(e){e=encodeURI(e);const t=[];for(let r=0;r<e.length;r++)"%"!==e.charAt(r)?t.push(e.charCodeAt(r)):(t.push(Number.parseInt(e.substring(r+1,r+3),16)),r+=2);return t}function Rn(e){if(e<fn||e>hn)throw new RangeError("Version number out of range");let t=(16*e+128)*e+64;if(e>=2){const r=Math.floor(e/7)+2;t-=(25*r-10)*r-55,e>=7&&(t-=36)}return t}function Fn(e,t){return Math.floor(Rn(e)/8)-pn[t[0]][e]*gn[t[0]][e]}function In(e,t){const r=t.map((e=>0));for(const n of e){const e=n^r.shift();r.push(0),t.forEach(((t,n)=>r[n]^=zn(t,e)))}return r}function zn(e,t){if(e>>>8!=0||t>>>8!=0)throw new RangeError("Byte out of range");let r=0;for(let n=7;n>=0;n--)r=r<<1^285*(r>>>7),r^=(t>>>n&1)*e;return r}function Cn(e,t){const{ecc:r="L",boostEcc:n=!1,minVersion:o=1,maxVersion:i=40,maskPattern:a=-1,border:s=1}=t||{},c="string"==typeof e?""===(u=e)?[]:Mn(u)?[Sn(u)]:Nn(u)?[$n(u)]:[Pn(On(u))]:Array.isArray(e)?[Pn(e)]:void 0;var u;if(!c)throw new Error("uqr only supports encoding string and binary data, but got: "+typeof e);const d=function(e,t,r=1,n=40,o=-1,i=!0){if(!(fn<=r&&r<=n&&n<=hn)||o<-1||o>7)throw new RangeError("Invalid value");let a,s;for(a=r;;a++){const r=8*Fn(a,t),o=kn(e,a);if(o<=r){s=o;break}if(a>=n)throw new RangeError("Data too long")}for(const e of[on,an,sn])i&&s<=8*Fn(a,e)&&(t=e);const c=[];for(const t of e){yn(t.mode[0],4,c),yn(t.numChars,xn(t.mode,a),c);for(const e of t.getData())c.push(e)}const u=8*Fn(a,t);yn(0,Math.min(4,u-c.length),c),yn(0,(8-c.length%8)%8,c);for(let e=236;c.length<u;e^=253)yn(e,8,c);const d=Array.from({length:Math.ceil(c.length/8)},(()=>0));return c.forEach(((e,t)=>d[t>>>3]|=e<<7-(7&t))),new mn(a,t,d,o)}(c,cn[r],o,i,a,n),l=function(e,t=1){if(!t)return e;const{size:r}=e,n=r+2*t;e.size=n,e.data.forEach((e=>{for(let r=0;r<t;r++)e.unshift(!1),e.push(!1)}));for(let r=0;r<t;r++)e.data.unshift(Array.from({length:n},(e=>!1))),e.data.push(Array.from({length:n},(e=>!1)));const o=tn.Border;e.types.forEach((e=>{for(let r=0;r<t;r++)e.unshift(o),e.push(o)}));for(let r=0;r<t;r++)e.types.unshift(Array.from({length:n},(e=>o))),e.types.push(Array.from({length:n},(e=>o)));return e}({version:d.version,maskPattern:d.mask,size:d.size,data:d.modules,types:d.types},s);return t?.invert&&(l.data=l.data.map((e=>e.map((e=>!e))))),t?.onEncoded?.(l),l}const jn=async({request:e})=>{switch(e.method){case"getQrCode":{const{data:t}=e.params,r=function(e,t={}){const r=Cn(e,t),{pixelSize:n=10,whiteColor:o="white",blackColor:i="black"}=t,a=r.size*n,s=r.size*n;let c=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 ${s} ${a}">`;const u=[];for(let e=0;e<r.size;e++)for(let t=0;t<r.size;t++){const o=t*n,i=e*n;r.data[e][t]&&u.push(`M${o},${i}h${n}v${n}h-${n}z`)}return c+=`<rect fill="${o}" width="${s}" height="${a}"/>`,c+=`<path fill="${i}" d="${u.join("")}"/>`,c+="</svg>",c}(t);return await snap.request({method:"snap_dialog",params:{type:fr.Alert,content:Ht([Lt(`The following is a QR code for the data "${t}":`),It(r)])}})}case"getCat":return await snap.request({method:"snap_dialog",params:{type:fr.Alert,content:Ht([Lt("Enjoy your cat!"),await Kt("https://cataas.com/cat",{width:400})])}});case"getSvgIcon":return await snap.request({method:"snap_dialog",params:{type:fr.Alert,content:Ht([Lt("Here is an SVG icon:"),It('<svg width="24" height="25" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path\n    d="M17.037 0H6.975C2.605 0 0 2.617 0 6.987v10.05c0 4.37 2.605 6.975 6.975 6.975h10.05c4.37 0 6.975-2.605 6.975-6.976V6.988C24.012 2.617 21.407 0 17.037 0ZM11.49 17.757c0 .36-.18.684-.492.876a.975.975 0 0 1-.54.156 1.11 1.11 0 0 1-.469-.108l-4.202-2.1a1.811 1.811 0 0 1-.985-1.61v-3.973c0-.36.18-.685.493-.877a1.04 1.04 0 0 1 1.008-.048l4.202 2.101a1.8 1.8 0 0 1 .997 1.609v3.974h-.012Zm-.252-6.423L6.723 8.896a1.045 1.045 0 0 1-.528-.924c0-.384.204-.744.528-.924l4.515-2.438a1.631 1.631 0 0 1 1.524 0l4.515 2.438c.324.18.528.528.528.924s-.204.744-.528.924l-4.515 2.438c-.24.132-.504.192-.768.192a1.54 1.54 0 0 1-.756-.192Zm7.972 3.638c0 .684-.385 1.308-.997 1.608l-4.202 2.101c-.144.072-.3.108-.468.108a.975.975 0 0 1-.54-.156 1.017 1.017 0 0 1-.493-.876v-3.974c0-.684.384-1.309.997-1.609l4.202-2.101a1.04 1.04 0 0 1 1.008.048c.313.192.493.516.493.877v3.974Z"\n    fill="#24272A"/>\n</svg>\n')])}});case"getPngIcon":return await snap.request({method:"snap_dialog",params:{type:fr.Alert,content:Ht([Lt("Here is a PNG icon:"),It('<svg xmlns="http://www.w3.org/2000/svg"><image href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAT1JREFUSEvFVlsOgjAQnMWrkPgIdxBOppzMegeDmnAVraELUmD7QDTyQQiUnWE7swPBOtJNlkM/DnyLcvtZ+ForEJ2BRNW3i+rWU3eRbnZHaLTFw+W8KwhlfauOhmZz+mrxnroBIW7L87SQs/w6JQXNY9/2ObqVWlG63p6CG2r1dN6eGYCddrenYbwqbVWM14Y64AYQWLuI+ED+CMAifutZYt8b021K8QvqezX0xwhoWJj3yRAQ5C4AaFXfr8VwhLQuJ5TQes+qmwpAUmQUALvdMiQlhaSsRQAGpPEM0bmbMxPJCp6K/oL3zAKwEADoNlk0lRdgalrZBw55GkMJAD65+kfFRJ5DgEgfxA27JqlY563uTfKFUi92mn4aFoTy94Hz88icFyCRvRqHfg+S5cAz7+dNZEGedPyrMgqoF8b24YhI7DvLAAAAAElFTkSuQmCC" /></svg>')])}});default:throw new vt({method:e.method})}}})();var o=exports;for(var i in n)o[i]=n[i];n.__esModule&&Object.defineProperty(o,"__esModule",{value:!0})})();