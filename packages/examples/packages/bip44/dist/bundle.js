(()=>{var e={695:(e,t,n)=>{"use strict";t.OI=t.oy=void 0;const r=n(23),i=n(707),o=n(30),a=n(63),s=n(846),c=n(980);function d(e){if("string"!=typeof e)throw new TypeError("Invalid mnemonic type: "+typeof e);return e.normalize("NFKD")}function f(e){const t=d(e),n=t.split(" ");if(![12,15,18,21,24].includes(n.length))throw new Error("Invalid mnemonic");return{nfkd:t,words:n}}function u(e){r.default.bytes(e,16,20,24,28,32)}const l=e=>{const t=8-e.length/4;return new Uint8Array([(0,o.sha256)(e)[0]>>t<<t])};function h(e){if(!Array.isArray(e)||2048!==e.length||"string"!=typeof e[0])throw new Error("Worlist: expected array of 2048 strings");return e.forEach((e=>{if("string"!=typeof e)throw new Error(`Wordlist: non-string element: ${e}`)})),c.utils.chain(c.utils.checksum(1,l),c.utils.radix2(11,!0),c.utils.alphabet(e))}function p(e,t){let n;if("string"==typeof e){const{words:r}=f(e);n=h(t).decode(r)}else n=h(t).decode(Array.from(new Uint16Array(e.buffer)).map((e=>t[e])));return u(n),n}function b(e,t){u(e);const n=h(t).encode(e).map((e=>t.indexOf(e)));return new Uint8Array(new Uint16Array(n).buffer)}t.oy=p;const y=e=>d(`mnemonic${e}`);function g(e,t){let n;return n="string"==typeof e?(new TextEncoder).encode(f(e).nfkd):(new TextEncoder).encode(Array.from(new Uint16Array(e.buffer)).map((e=>t[e])).join(" ")),n}t.OI=function(e,t,n=""){const r=g(e,t);return(0,i.pbkdf2Async)(a.sha512,r,y(n),{c:2048,dkLen:64})}},983:(e,t)=>{"use strict";t.U=void 0,t.U="abandon\nability\nable\nabout\nabove\nabsent\nabsorb\nabstract\nabsurd\nabuse\naccess\naccident\naccount\naccuse\nachieve\nacid\nacoustic\nacquire\nacross\nact\naction\nactor\nactress\nactual\nadapt\nadd\naddict\naddress\nadjust\nadmit\nadult\nadvance\nadvice\naerobic\naffair\nafford\nafraid\nagain\nage\nagent\nagree\nahead\naim\nair\nairport\naisle\nalarm\nalbum\nalcohol\nalert\nalien\nall\nalley\nallow\nalmost\nalone\nalpha\nalready\nalso\nalter\nalways\namateur\namazing\namong\namount\namused\nanalyst\nanchor\nancient\nanger\nangle\nangry\nanimal\nankle\nannounce\nannual\nanother\nanswer\nantenna\nantique\nanxiety\nany\napart\napology\nappear\napple\napprove\napril\narch\narctic\narea\narena\nargue\narm\narmed\narmor\narmy\naround\narrange\narrest\narrive\narrow\nart\nartefact\nartist\nartwork\nask\naspect\nassault\nasset\nassist\nassume\nasthma\nathlete\natom\nattack\nattend\nattitude\nattract\nauction\naudit\naugust\naunt\nauthor\nauto\nautumn\naverage\navocado\navoid\nawake\naware\naway\nawesome\nawful\nawkward\naxis\nbaby\nbachelor\nbacon\nbadge\nbag\nbalance\nbalcony\nball\nbamboo\nbanana\nbanner\nbar\nbarely\nbargain\nbarrel\nbase\nbasic\nbasket\nbattle\nbeach\nbean\nbeauty\nbecause\nbecome\nbeef\nbefore\nbegin\nbehave\nbehind\nbelieve\nbelow\nbelt\nbench\nbenefit\nbest\nbetray\nbetter\nbetween\nbeyond\nbicycle\nbid\nbike\nbind\nbiology\nbird\nbirth\nbitter\nblack\nblade\nblame\nblanket\nblast\nbleak\nbless\nblind\nblood\nblossom\nblouse\nblue\nblur\nblush\nboard\nboat\nbody\nboil\nbomb\nbone\nbonus\nbook\nboost\nborder\nboring\nborrow\nboss\nbottom\nbounce\nbox\nboy\nbracket\nbrain\nbrand\nbrass\nbrave\nbread\nbreeze\nbrick\nbridge\nbrief\nbright\nbring\nbrisk\nbroccoli\nbroken\nbronze\nbroom\nbrother\nbrown\nbrush\nbubble\nbuddy\nbudget\nbuffalo\nbuild\nbulb\nbulk\nbullet\nbundle\nbunker\nburden\nburger\nburst\nbus\nbusiness\nbusy\nbutter\nbuyer\nbuzz\ncabbage\ncabin\ncable\ncactus\ncage\ncake\ncall\ncalm\ncamera\ncamp\ncan\ncanal\ncancel\ncandy\ncannon\ncanoe\ncanvas\ncanyon\ncapable\ncapital\ncaptain\ncar\ncarbon\ncard\ncargo\ncarpet\ncarry\ncart\ncase\ncash\ncasino\ncastle\ncasual\ncat\ncatalog\ncatch\ncategory\ncattle\ncaught\ncause\ncaution\ncave\nceiling\ncelery\ncement\ncensus\ncentury\ncereal\ncertain\nchair\nchalk\nchampion\nchange\nchaos\nchapter\ncharge\nchase\nchat\ncheap\ncheck\ncheese\nchef\ncherry\nchest\nchicken\nchief\nchild\nchimney\nchoice\nchoose\nchronic\nchuckle\nchunk\nchurn\ncigar\ncinnamon\ncircle\ncitizen\ncity\ncivil\nclaim\nclap\nclarify\nclaw\nclay\nclean\nclerk\nclever\nclick\nclient\ncliff\nclimb\nclinic\nclip\nclock\nclog\nclose\ncloth\ncloud\nclown\nclub\nclump\ncluster\nclutch\ncoach\ncoast\ncoconut\ncode\ncoffee\ncoil\ncoin\ncollect\ncolor\ncolumn\ncombine\ncome\ncomfort\ncomic\ncommon\ncompany\nconcert\nconduct\nconfirm\ncongress\nconnect\nconsider\ncontrol\nconvince\ncook\ncool\ncopper\ncopy\ncoral\ncore\ncorn\ncorrect\ncost\ncotton\ncouch\ncountry\ncouple\ncourse\ncousin\ncover\ncoyote\ncrack\ncradle\ncraft\ncram\ncrane\ncrash\ncrater\ncrawl\ncrazy\ncream\ncredit\ncreek\ncrew\ncricket\ncrime\ncrisp\ncritic\ncrop\ncross\ncrouch\ncrowd\ncrucial\ncruel\ncruise\ncrumble\ncrunch\ncrush\ncry\ncrystal\ncube\nculture\ncup\ncupboard\ncurious\ncurrent\ncurtain\ncurve\ncushion\ncustom\ncute\ncycle\ndad\ndamage\ndamp\ndance\ndanger\ndaring\ndash\ndaughter\ndawn\nday\ndeal\ndebate\ndebris\ndecade\ndecember\ndecide\ndecline\ndecorate\ndecrease\ndeer\ndefense\ndefine\ndefy\ndegree\ndelay\ndeliver\ndemand\ndemise\ndenial\ndentist\ndeny\ndepart\ndepend\ndeposit\ndepth\ndeputy\nderive\ndescribe\ndesert\ndesign\ndesk\ndespair\ndestroy\ndetail\ndetect\ndevelop\ndevice\ndevote\ndiagram\ndial\ndiamond\ndiary\ndice\ndiesel\ndiet\ndiffer\ndigital\ndignity\ndilemma\ndinner\ndinosaur\ndirect\ndirt\ndisagree\ndiscover\ndisease\ndish\ndismiss\ndisorder\ndisplay\ndistance\ndivert\ndivide\ndivorce\ndizzy\ndoctor\ndocument\ndog\ndoll\ndolphin\ndomain\ndonate\ndonkey\ndonor\ndoor\ndose\ndouble\ndove\ndraft\ndragon\ndrama\ndrastic\ndraw\ndream\ndress\ndrift\ndrill\ndrink\ndrip\ndrive\ndrop\ndrum\ndry\nduck\ndumb\ndune\nduring\ndust\ndutch\nduty\ndwarf\ndynamic\neager\neagle\nearly\nearn\nearth\neasily\neast\neasy\necho\necology\neconomy\nedge\nedit\neducate\neffort\negg\neight\neither\nelbow\nelder\nelectric\nelegant\nelement\nelephant\nelevator\nelite\nelse\nembark\nembody\nembrace\nemerge\nemotion\nemploy\nempower\nempty\nenable\nenact\nend\nendless\nendorse\nenemy\nenergy\nenforce\nengage\nengine\nenhance\nenjoy\nenlist\nenough\nenrich\nenroll\nensure\nenter\nentire\nentry\nenvelope\nepisode\nequal\nequip\nera\nerase\nerode\nerosion\nerror\nerupt\nescape\nessay\nessence\nestate\neternal\nethics\nevidence\nevil\nevoke\nevolve\nexact\nexample\nexcess\nexchange\nexcite\nexclude\nexcuse\nexecute\nexercise\nexhaust\nexhibit\nexile\nexist\nexit\nexotic\nexpand\nexpect\nexpire\nexplain\nexpose\nexpress\nextend\nextra\neye\neyebrow\nfabric\nface\nfaculty\nfade\nfaint\nfaith\nfall\nfalse\nfame\nfamily\nfamous\nfan\nfancy\nfantasy\nfarm\nfashion\nfat\nfatal\nfather\nfatigue\nfault\nfavorite\nfeature\nfebruary\nfederal\nfee\nfeed\nfeel\nfemale\nfence\nfestival\nfetch\nfever\nfew\nfiber\nfiction\nfield\nfigure\nfile\nfilm\nfilter\nfinal\nfind\nfine\nfinger\nfinish\nfire\nfirm\nfirst\nfiscal\nfish\nfit\nfitness\nfix\nflag\nflame\nflash\nflat\nflavor\nflee\nflight\nflip\nfloat\nflock\nfloor\nflower\nfluid\nflush\nfly\nfoam\nfocus\nfog\nfoil\nfold\nfollow\nfood\nfoot\nforce\nforest\nforget\nfork\nfortune\nforum\nforward\nfossil\nfoster\nfound\nfox\nfragile\nframe\nfrequent\nfresh\nfriend\nfringe\nfrog\nfront\nfrost\nfrown\nfrozen\nfruit\nfuel\nfun\nfunny\nfurnace\nfury\nfuture\ngadget\ngain\ngalaxy\ngallery\ngame\ngap\ngarage\ngarbage\ngarden\ngarlic\ngarment\ngas\ngasp\ngate\ngather\ngauge\ngaze\ngeneral\ngenius\ngenre\ngentle\ngenuine\ngesture\nghost\ngiant\ngift\ngiggle\nginger\ngiraffe\ngirl\ngive\nglad\nglance\nglare\nglass\nglide\nglimpse\nglobe\ngloom\nglory\nglove\nglow\nglue\ngoat\ngoddess\ngold\ngood\ngoose\ngorilla\ngospel\ngossip\ngovern\ngown\ngrab\ngrace\ngrain\ngrant\ngrape\ngrass\ngravity\ngreat\ngreen\ngrid\ngrief\ngrit\ngrocery\ngroup\ngrow\ngrunt\nguard\nguess\nguide\nguilt\nguitar\ngun\ngym\nhabit\nhair\nhalf\nhammer\nhamster\nhand\nhappy\nharbor\nhard\nharsh\nharvest\nhat\nhave\nhawk\nhazard\nhead\nhealth\nheart\nheavy\nhedgehog\nheight\nhello\nhelmet\nhelp\nhen\nhero\nhidden\nhigh\nhill\nhint\nhip\nhire\nhistory\nhobby\nhockey\nhold\nhole\nholiday\nhollow\nhome\nhoney\nhood\nhope\nhorn\nhorror\nhorse\nhospital\nhost\nhotel\nhour\nhover\nhub\nhuge\nhuman\nhumble\nhumor\nhundred\nhungry\nhunt\nhurdle\nhurry\nhurt\nhusband\nhybrid\nice\nicon\nidea\nidentify\nidle\nignore\nill\nillegal\nillness\nimage\nimitate\nimmense\nimmune\nimpact\nimpose\nimprove\nimpulse\ninch\ninclude\nincome\nincrease\nindex\nindicate\nindoor\nindustry\ninfant\ninflict\ninform\ninhale\ninherit\ninitial\ninject\ninjury\ninmate\ninner\ninnocent\ninput\ninquiry\ninsane\ninsect\ninside\ninspire\ninstall\nintact\ninterest\ninto\ninvest\ninvite\ninvolve\niron\nisland\nisolate\nissue\nitem\nivory\njacket\njaguar\njar\njazz\njealous\njeans\njelly\njewel\njob\njoin\njoke\njourney\njoy\njudge\njuice\njump\njungle\njunior\njunk\njust\nkangaroo\nkeen\nkeep\nketchup\nkey\nkick\nkid\nkidney\nkind\nkingdom\nkiss\nkit\nkitchen\nkite\nkitten\nkiwi\nknee\nknife\nknock\nknow\nlab\nlabel\nlabor\nladder\nlady\nlake\nlamp\nlanguage\nlaptop\nlarge\nlater\nlatin\nlaugh\nlaundry\nlava\nlaw\nlawn\nlawsuit\nlayer\nlazy\nleader\nleaf\nlearn\nleave\nlecture\nleft\nleg\nlegal\nlegend\nleisure\nlemon\nlend\nlength\nlens\nleopard\nlesson\nletter\nlevel\nliar\nliberty\nlibrary\nlicense\nlife\nlift\nlight\nlike\nlimb\nlimit\nlink\nlion\nliquid\nlist\nlittle\nlive\nlizard\nload\nloan\nlobster\nlocal\nlock\nlogic\nlonely\nlong\nloop\nlottery\nloud\nlounge\nlove\nloyal\nlucky\nluggage\nlumber\nlunar\nlunch\nluxury\nlyrics\nmachine\nmad\nmagic\nmagnet\nmaid\nmail\nmain\nmajor\nmake\nmammal\nman\nmanage\nmandate\nmango\nmansion\nmanual\nmaple\nmarble\nmarch\nmargin\nmarine\nmarket\nmarriage\nmask\nmass\nmaster\nmatch\nmaterial\nmath\nmatrix\nmatter\nmaximum\nmaze\nmeadow\nmean\nmeasure\nmeat\nmechanic\nmedal\nmedia\nmelody\nmelt\nmember\nmemory\nmention\nmenu\nmercy\nmerge\nmerit\nmerry\nmesh\nmessage\nmetal\nmethod\nmiddle\nmidnight\nmilk\nmillion\nmimic\nmind\nminimum\nminor\nminute\nmiracle\nmirror\nmisery\nmiss\nmistake\nmix\nmixed\nmixture\nmobile\nmodel\nmodify\nmom\nmoment\nmonitor\nmonkey\nmonster\nmonth\nmoon\nmoral\nmore\nmorning\nmosquito\nmother\nmotion\nmotor\nmountain\nmouse\nmove\nmovie\nmuch\nmuffin\nmule\nmultiply\nmuscle\nmuseum\nmushroom\nmusic\nmust\nmutual\nmyself\nmystery\nmyth\nnaive\nname\nnapkin\nnarrow\nnasty\nnation\nnature\nnear\nneck\nneed\nnegative\nneglect\nneither\nnephew\nnerve\nnest\nnet\nnetwork\nneutral\nnever\nnews\nnext\nnice\nnight\nnoble\nnoise\nnominee\nnoodle\nnormal\nnorth\nnose\nnotable\nnote\nnothing\nnotice\nnovel\nnow\nnuclear\nnumber\nnurse\nnut\noak\nobey\nobject\noblige\nobscure\nobserve\nobtain\nobvious\noccur\nocean\noctober\nodor\noff\noffer\noffice\noften\noil\nokay\nold\nolive\nolympic\nomit\nonce\none\nonion\nonline\nonly\nopen\nopera\nopinion\noppose\noption\norange\norbit\norchard\norder\nordinary\norgan\norient\noriginal\norphan\nostrich\nother\noutdoor\nouter\noutput\noutside\noval\noven\nover\nown\nowner\noxygen\noyster\nozone\npact\npaddle\npage\npair\npalace\npalm\npanda\npanel\npanic\npanther\npaper\nparade\nparent\npark\nparrot\nparty\npass\npatch\npath\npatient\npatrol\npattern\npause\npave\npayment\npeace\npeanut\npear\npeasant\npelican\npen\npenalty\npencil\npeople\npepper\nperfect\npermit\nperson\npet\nphone\nphoto\nphrase\nphysical\npiano\npicnic\npicture\npiece\npig\npigeon\npill\npilot\npink\npioneer\npipe\npistol\npitch\npizza\nplace\nplanet\nplastic\nplate\nplay\nplease\npledge\npluck\nplug\nplunge\npoem\npoet\npoint\npolar\npole\npolice\npond\npony\npool\npopular\nportion\nposition\npossible\npost\npotato\npottery\npoverty\npowder\npower\npractice\npraise\npredict\nprefer\nprepare\npresent\npretty\nprevent\nprice\npride\nprimary\nprint\npriority\nprison\nprivate\nprize\nproblem\nprocess\nproduce\nprofit\nprogram\nproject\npromote\nproof\nproperty\nprosper\nprotect\nproud\nprovide\npublic\npudding\npull\npulp\npulse\npumpkin\npunch\npupil\npuppy\npurchase\npurity\npurpose\npurse\npush\nput\npuzzle\npyramid\nquality\nquantum\nquarter\nquestion\nquick\nquit\nquiz\nquote\nrabbit\nraccoon\nrace\nrack\nradar\nradio\nrail\nrain\nraise\nrally\nramp\nranch\nrandom\nrange\nrapid\nrare\nrate\nrather\nraven\nraw\nrazor\nready\nreal\nreason\nrebel\nrebuild\nrecall\nreceive\nrecipe\nrecord\nrecycle\nreduce\nreflect\nreform\nrefuse\nregion\nregret\nregular\nreject\nrelax\nrelease\nrelief\nrely\nremain\nremember\nremind\nremove\nrender\nrenew\nrent\nreopen\nrepair\nrepeat\nreplace\nreport\nrequire\nrescue\nresemble\nresist\nresource\nresponse\nresult\nretire\nretreat\nreturn\nreunion\nreveal\nreview\nreward\nrhythm\nrib\nribbon\nrice\nrich\nride\nridge\nrifle\nright\nrigid\nring\nriot\nripple\nrisk\nritual\nrival\nriver\nroad\nroast\nrobot\nrobust\nrocket\nromance\nroof\nrookie\nroom\nrose\nrotate\nrough\nround\nroute\nroyal\nrubber\nrude\nrug\nrule\nrun\nrunway\nrural\nsad\nsaddle\nsadness\nsafe\nsail\nsalad\nsalmon\nsalon\nsalt\nsalute\nsame\nsample\nsand\nsatisfy\nsatoshi\nsauce\nsausage\nsave\nsay\nscale\nscan\nscare\nscatter\nscene\nscheme\nschool\nscience\nscissors\nscorpion\nscout\nscrap\nscreen\nscript\nscrub\nsea\nsearch\nseason\nseat\nsecond\nsecret\nsection\nsecurity\nseed\nseek\nsegment\nselect\nsell\nseminar\nsenior\nsense\nsentence\nseries\nservice\nsession\nsettle\nsetup\nseven\nshadow\nshaft\nshallow\nshare\nshed\nshell\nsheriff\nshield\nshift\nshine\nship\nshiver\nshock\nshoe\nshoot\nshop\nshort\nshoulder\nshove\nshrimp\nshrug\nshuffle\nshy\nsibling\nsick\nside\nsiege\nsight\nsign\nsilent\nsilk\nsilly\nsilver\nsimilar\nsimple\nsince\nsing\nsiren\nsister\nsituate\nsix\nsize\nskate\nsketch\nski\nskill\nskin\nskirt\nskull\nslab\nslam\nsleep\nslender\nslice\nslide\nslight\nslim\nslogan\nslot\nslow\nslush\nsmall\nsmart\nsmile\nsmoke\nsmooth\nsnack\nsnake\nsnap\nsniff\nsnow\nsoap\nsoccer\nsocial\nsock\nsoda\nsoft\nsolar\nsoldier\nsolid\nsolution\nsolve\nsomeone\nsong\nsoon\nsorry\nsort\nsoul\nsound\nsoup\nsource\nsouth\nspace\nspare\nspatial\nspawn\nspeak\nspecial\nspeed\nspell\nspend\nsphere\nspice\nspider\nspike\nspin\nspirit\nsplit\nspoil\nsponsor\nspoon\nsport\nspot\nspray\nspread\nspring\nspy\nsquare\nsqueeze\nsquirrel\nstable\nstadium\nstaff\nstage\nstairs\nstamp\nstand\nstart\nstate\nstay\nsteak\nsteel\nstem\nstep\nstereo\nstick\nstill\nsting\nstock\nstomach\nstone\nstool\nstory\nstove\nstrategy\nstreet\nstrike\nstrong\nstruggle\nstudent\nstuff\nstumble\nstyle\nsubject\nsubmit\nsubway\nsuccess\nsuch\nsudden\nsuffer\nsugar\nsuggest\nsuit\nsummer\nsun\nsunny\nsunset\nsuper\nsupply\nsupreme\nsure\nsurface\nsurge\nsurprise\nsurround\nsurvey\nsuspect\nsustain\nswallow\nswamp\nswap\nswarm\nswear\nsweet\nswift\nswim\nswing\nswitch\nsword\nsymbol\nsymptom\nsyrup\nsystem\ntable\ntackle\ntag\ntail\ntalent\ntalk\ntank\ntape\ntarget\ntask\ntaste\ntattoo\ntaxi\nteach\nteam\ntell\nten\ntenant\ntennis\ntent\nterm\ntest\ntext\nthank\nthat\ntheme\nthen\ntheory\nthere\nthey\nthing\nthis\nthought\nthree\nthrive\nthrow\nthumb\nthunder\nticket\ntide\ntiger\ntilt\ntimber\ntime\ntiny\ntip\ntired\ntissue\ntitle\ntoast\ntobacco\ntoday\ntoddler\ntoe\ntogether\ntoilet\ntoken\ntomato\ntomorrow\ntone\ntongue\ntonight\ntool\ntooth\ntop\ntopic\ntopple\ntorch\ntornado\ntortoise\ntoss\ntotal\ntourist\ntoward\ntower\ntown\ntoy\ntrack\ntrade\ntraffic\ntragic\ntrain\ntransfer\ntrap\ntrash\ntravel\ntray\ntreat\ntree\ntrend\ntrial\ntribe\ntrick\ntrigger\ntrim\ntrip\ntrophy\ntrouble\ntruck\ntrue\ntruly\ntrumpet\ntrust\ntruth\ntry\ntube\ntuition\ntumble\ntuna\ntunnel\nturkey\nturn\nturtle\ntwelve\ntwenty\ntwice\ntwin\ntwist\ntwo\ntype\ntypical\nugly\numbrella\nunable\nunaware\nuncle\nuncover\nunder\nundo\nunfair\nunfold\nunhappy\nuniform\nunique\nunit\nuniverse\nunknown\nunlock\nuntil\nunusual\nunveil\nupdate\nupgrade\nuphold\nupon\nupper\nupset\nurban\nurge\nusage\nuse\nused\nuseful\nuseless\nusual\nutility\nvacant\nvacuum\nvague\nvalid\nvalley\nvalve\nvan\nvanish\nvapor\nvarious\nvast\nvault\nvehicle\nvelvet\nvendor\nventure\nvenue\nverb\nverify\nversion\nvery\nvessel\nveteran\nviable\nvibrant\nvicious\nvictory\nvideo\nview\nvillage\nvintage\nviolin\nvirtual\nvirus\nvisa\nvisit\nvisual\nvital\nvivid\nvocal\nvoice\nvoid\nvolcano\nvolume\nvote\nvoyage\nwage\nwagon\nwait\nwalk\nwall\nwalnut\nwant\nwarfare\nwarm\nwarrior\nwash\nwasp\nwaste\nwater\nwave\nway\nwealth\nweapon\nwear\nweasel\nweather\nweb\nwedding\nweekend\nweird\nwelcome\nwest\nwet\nwhale\nwhat\nwheat\nwheel\nwhen\nwhere\nwhip\nwhisper\nwide\nwidth\nwife\nwild\nwill\nwin\nwindow\nwine\nwing\nwink\nwinner\nwinter\nwire\nwisdom\nwise\nwish\nwitness\nwolf\nwoman\nwonder\nwood\nwool\nword\nwork\nworld\nworry\nworth\nwrap\nwreck\nwrestle\nwrist\nwrite\nwrong\nyard\nyear\nyellow\nyou\nyoung\nyouth\nzebra\nzero\nzone\nzoo".split("\n")},23:(e,t)=>{"use strict";function n(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function r(e){if("boolean"!=typeof e)throw new Error(`Expected boolean, not ${e}`)}function i(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function o(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");n(e.outputLen),n(e.blockLen)}function a(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function s(e,t){i(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}Object.defineProperty(t,"__esModule",{value:!0}),t.output=t.exists=t.hash=t.bytes=t.bool=t.number=void 0,t.number=n,t.bool=r,t.bytes=i,t.hash=o,t.exists=a,t.output=s;const c={number:n,bool:r,bytes:i,hash:o,exists:a,output:s};t.default=c},350:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHA2=void 0;const r=n(23),i=n(846);class o extends i.Hash{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,i.createView)(this.buffer)}update(e){(0,r.exists)(this);const{view:t,buffer:n,blockLen:o}=this,a=(e=(0,i.toBytes)(e)).length;for(let r=0;r<a;){const s=Math.min(o-this.pos,a-r);if(s!==o)n.set(e.subarray(r,r+s),this.pos),this.pos+=s,r+=s,this.pos===o&&(this.process(t,0),this.pos=0);else{const t=(0,i.createView)(e);for(;o<=a-r;r+=o)this.process(t,r)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,r.exists)(this),(0,r.output)(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:o,isLE:a}=this;let{pos:s}=this;t[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>o-s&&(this.process(n,0),s=0);for(let e=s;e<o;e++)t[e]=0;!function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),a=Number(n>>i&o),s=Number(n&o),c=r?4:0,d=r?0:4;e.setUint32(t+c,a,r),e.setUint32(t+d,s,r)}(n,o-8,BigInt(8*this.length),a),this.process(n,0);const c=(0,i.createView)(e),d=this.outputLen;if(d%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const f=d/4,u=this.get();if(f>u.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<f;e++)c.setUint32(4*e,u[e],a)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:o,pos:a}=this;return e.length=r,e.pos=a,e.finished=i,e.destroyed=o,r%t&&e.buffer.set(n),e}}t.SHA2=o},568:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.add5L=t.add5H=t.add4H=t.add4L=t.add3H=t.add3L=t.add=t.rotlBL=t.rotlBH=t.rotlSL=t.rotlSH=t.rotr32L=t.rotr32H=t.rotrBL=t.rotrBH=t.rotrSL=t.rotrSH=t.shrSL=t.shrSH=t.toBig=t.split=t.fromBig=void 0;const n=BigInt(2**32-1),r=BigInt(32);function i(e,t=!1){return t?{h:Number(e&n),l:Number(e>>r&n)}:{h:0|Number(e>>r&n),l:0|Number(e&n)}}function o(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let o=0;o<e.length;o++){const{h:a,l:s}=i(e[o],t);[n[o],r[o]]=[a,s]}return[n,r]}t.fromBig=i,t.split=o;const a=(e,t)=>BigInt(e>>>0)<<r|BigInt(t>>>0);t.toBig=a;const s=(e,t,n)=>e>>>n;t.shrSH=s;const c=(e,t,n)=>e<<32-n|t>>>n;t.shrSL=c;const d=(e,t,n)=>e>>>n|t<<32-n;t.rotrSH=d;const f=(e,t,n)=>e<<32-n|t>>>n;t.rotrSL=f;const u=(e,t,n)=>e<<64-n|t>>>n-32;t.rotrBH=u;const l=(e,t,n)=>e>>>n-32|t<<64-n;t.rotrBL=l;const h=(e,t)=>t;t.rotr32H=h;const p=(e,t)=>e;t.rotr32L=p;const b=(e,t,n)=>e<<n|t>>>32-n;t.rotlSH=b;const y=(e,t,n)=>t<<n|e>>>32-n;t.rotlSL=y;const g=(e,t,n)=>t<<n-32|e>>>64-n;t.rotlBH=g;const w=(e,t,n)=>e<<n-32|t>>>64-n;function m(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:0|i}}t.rotlBL=w,t.add=m;const v=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0);t.add3L=v;const x=(e,t,n,r)=>t+n+r+(e/2**32|0)|0;t.add3H=x;const E=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0);t.add4L=E;const B=(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0;t.add4H=B;const A=(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0);t.add5L=A;const I=(e,t,n,r,i,o)=>t+n+r+i+o+(e/2**32|0)|0;t.add5H=I;const S={fromBig:i,split:o,toBig:a,shrSH:s,shrSL:c,rotrSH:d,rotrSL:f,rotrBH:u,rotrBL:l,rotr32H:h,rotr32L:p,rotlSH:b,rotlSL:y,rotlBH:g,rotlBL:w,add:m,add3L:v,add3H:x,add4L:E,add4H:B,add5H:I,add5L:A};t.default=S},808:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.crypto=void 0,t.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},180:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hmac=t.HMAC=void 0;const r=n(23),i=n(846);class o extends i.Hash{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,(0,r.hash)(e);const n=(0,i.toBytes)(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,a=new Uint8Array(o);a.set(n.length>o?e.create().update(n).digest():n);for(let e=0;e<a.length;e++)a[e]^=54;this.iHash.update(a),this.oHash=e.create();for(let e=0;e<a.length;e++)a[e]^=106;this.oHash.update(a),a.fill(0)}update(e){return(0,r.exists)(this),this.iHash.update(e),this}digestInto(e){(0,r.exists)(this),(0,r.bytes)(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:o,outputLen:a}=this;return e.finished=r,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}t.HMAC=o;t.hmac=(e,t,n)=>new o(e,t).update(n).digest(),t.hmac.create=(e,t)=>new o(e,t)},707:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pbkdf2Async=t.pbkdf2=void 0;const r=n(23),i=n(180),o=n(846);function a(e,t,n,a){(0,r.hash)(e);const s=(0,o.checkOpts)({dkLen:32,asyncTick:10},a),{c,dkLen:d,asyncTick:f}=s;if((0,r.number)(c),(0,r.number)(d),(0,r.number)(f),c<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const u=(0,o.toBytes)(t),l=(0,o.toBytes)(n),h=new Uint8Array(d),p=i.hmac.create(e,u),b=p._cloneInto().update(l);return{c,dkLen:d,asyncTick:f,DK:h,PRF:p,PRFSalt:b}}function s(e,t,n,r,i){return e.destroy(),t.destroy(),r&&r.destroy(),i.fill(0),n}t.pbkdf2=function(e,t,n,r){const{c:i,dkLen:c,DK:d,PRF:f,PRFSalt:u}=a(e,t,n,r);let l;const h=new Uint8Array(4),p=(0,o.createView)(h),b=new Uint8Array(f.outputLen);for(let e=1,t=0;t<c;e++,t+=f.outputLen){const n=d.subarray(t,t+f.outputLen);p.setInt32(0,e,!1),(l=u._cloneInto(l)).update(h).digestInto(b),n.set(b.subarray(0,n.length));for(let e=1;e<i;e++){f._cloneInto(l).update(b).digestInto(b);for(let e=0;e<n.length;e++)n[e]^=b[e]}}return s(f,u,d,l,b)},t.pbkdf2Async=async function(e,t,n,r){const{c:i,dkLen:c,asyncTick:d,DK:f,PRF:u,PRFSalt:l}=a(e,t,n,r);let h;const p=new Uint8Array(4),b=(0,o.createView)(p),y=new Uint8Array(u.outputLen);for(let e=1,t=0;t<c;e++,t+=u.outputLen){const n=f.subarray(t,t+u.outputLen);b.setInt32(0,e,!1),(h=l._cloneInto(h)).update(p).digestInto(y),n.set(y.subarray(0,n.length)),await(0,o.asyncLoop)(i-1,d,(()=>{u._cloneInto(h).update(y).digestInto(y);for(let e=0;e<n.length;e++)n[e]^=y[e]}))}return s(u,l,f,h,y)}},30:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sha224=t.sha256=void 0;const r=n(350),i=n(846),o=(e,t,n)=>e&t^e&n^t&n,a=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),s=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),c=new Uint32Array(64);class d extends r.SHA2{constructor(){super(64,32,8,!1),this.A=0|s[0],this.B=0|s[1],this.C=0|s[2],this.D=0|s[3],this.E=0|s[4],this.F=0|s[5],this.G=0|s[6],this.H=0|s[7]}get(){const{A:e,B:t,C:n,D:r,E:i,F:o,G:a,H:s}=this;return[e,t,n,r,i,o,a,s]}set(e,t,n,r,i,o,a,s){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|o,this.G=0|a,this.H=0|s}process(e,t){for(let n=0;n<16;n++,t+=4)c[n]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=c[e-15],n=c[e-2],r=(0,i.rotr)(t,7)^(0,i.rotr)(t,18)^t>>>3,o=(0,i.rotr)(n,17)^(0,i.rotr)(n,19)^n>>>10;c[e]=o+c[e-7]+r+c[e-16]|0}let{A:n,B:r,C:s,D:d,E:f,F:u,G:l,H:h}=this;for(let e=0;e<64;e++){const t=h+((0,i.rotr)(f,6)^(0,i.rotr)(f,11)^(0,i.rotr)(f,25))+((p=f)&u^~p&l)+a[e]+c[e]|0,b=((0,i.rotr)(n,2)^(0,i.rotr)(n,13)^(0,i.rotr)(n,22))+o(n,r,s)|0;h=l,l=u,u=f,f=d+t|0,d=s,s=r,r=n,n=t+b|0}var p;n=n+this.A|0,r=r+this.B|0,s=s+this.C|0,d=d+this.D|0,f=f+this.E|0,u=u+this.F|0,l=l+this.G|0,h=h+this.H|0,this.set(n,r,s,d,f,u,l,h)}roundClean(){c.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class f extends d{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}t.sha256=(0,i.wrapConstructor)((()=>new d)),t.sha224=(0,i.wrapConstructor)((()=>new f))},63:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sha384=t.sha512_256=t.sha512_224=t.sha512=t.SHA512=void 0;const r=n(350),i=n(568),o=n(846),[a,s]=i.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))),c=new Uint32Array(80),d=new Uint32Array(80);class f extends r.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:i,Cl:o,Dh:a,Dl:s,Eh:c,El:d,Fh:f,Fl:u,Gh:l,Gl:h,Hh:p,Hl:b}=this;return[e,t,n,r,i,o,a,s,c,d,f,u,l,h,p,b]}set(e,t,n,r,i,o,a,s,c,d,f,u,l,h,p,b){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|i,this.Cl=0|o,this.Dh=0|a,this.Dl=0|s,this.Eh=0|c,this.El=0|d,this.Fh=0|f,this.Fl=0|u,this.Gh=0|l,this.Gl=0|h,this.Hh=0|p,this.Hl=0|b}process(e,t){for(let n=0;n<16;n++,t+=4)c[n]=e.getUint32(t),d[n]=e.getUint32(t+=4);for(let e=16;e<80;e++){const t=0|c[e-15],n=0|d[e-15],r=i.default.rotrSH(t,n,1)^i.default.rotrSH(t,n,8)^i.default.shrSH(t,n,7),o=i.default.rotrSL(t,n,1)^i.default.rotrSL(t,n,8)^i.default.shrSL(t,n,7),a=0|c[e-2],s=0|d[e-2],f=i.default.rotrSH(a,s,19)^i.default.rotrBH(a,s,61)^i.default.shrSH(a,s,6),u=i.default.rotrSL(a,s,19)^i.default.rotrBL(a,s,61)^i.default.shrSL(a,s,6),l=i.default.add4L(o,u,d[e-7],d[e-16]),h=i.default.add4H(l,r,f,c[e-7],c[e-16]);c[e]=0|h,d[e]=0|l}let{Ah:n,Al:r,Bh:o,Bl:f,Ch:u,Cl:l,Dh:h,Dl:p,Eh:b,El:y,Fh:g,Fl:w,Gh:m,Gl:v,Hh:x,Hl:E}=this;for(let e=0;e<80;e++){const t=i.default.rotrSH(b,y,14)^i.default.rotrSH(b,y,18)^i.default.rotrBH(b,y,41),B=i.default.rotrSL(b,y,14)^i.default.rotrSL(b,y,18)^i.default.rotrBL(b,y,41),A=b&g^~b&m,I=y&w^~y&v,S=i.default.add5L(E,B,I,s[e],d[e]),k=i.default.add5H(S,x,t,A,a[e],c[e]),L=0|S,O=i.default.rotrSH(n,r,28)^i.default.rotrBH(n,r,34)^i.default.rotrBH(n,r,39),H=i.default.rotrSL(n,r,28)^i.default.rotrBL(n,r,34)^i.default.rotrBL(n,r,39),C=n&o^n&u^o&u,P=r&f^r&l^f&l;x=0|m,E=0|v,m=0|g,v=0|w,g=0|b,w=0|y,({h:b,l:y}=i.default.add(0|h,0|p,0|k,0|L)),h=0|u,p=0|l,u=0|o,l=0|f,o=0|n,f=0|r;const U=i.default.add3L(L,H,P);n=i.default.add3H(U,k,O,C),r=0|U}({h:n,l:r}=i.default.add(0|this.Ah,0|this.Al,0|n,0|r)),({h:o,l:f}=i.default.add(0|this.Bh,0|this.Bl,0|o,0|f)),({h:u,l}=i.default.add(0|this.Ch,0|this.Cl,0|u,0|l)),({h,l:p}=i.default.add(0|this.Dh,0|this.Dl,0|h,0|p)),({h:b,l:y}=i.default.add(0|this.Eh,0|this.El,0|b,0|y)),({h:g,l:w}=i.default.add(0|this.Fh,0|this.Fl,0|g,0|w)),({h:m,l:v}=i.default.add(0|this.Gh,0|this.Gl,0|m,0|v)),({h:x,l:E}=i.default.add(0|this.Hh,0|this.Hl,0|x,0|E)),this.set(n,r,o,f,u,l,h,p,b,y,g,w,m,v,x,E)}roundClean(){c.fill(0),d.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}t.SHA512=f;class u extends f{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class l extends f{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class h extends f{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}t.sha512=(0,o.wrapConstructor)((()=>new f)),t.sha512_224=(0,o.wrapConstructor)((()=>new u)),t.sha512_256=(0,o.wrapConstructor)((()=>new l)),t.sha384=(0,o.wrapConstructor)((()=>new h))},846:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomBytes=t.wrapXOFConstructorWithOpts=t.wrapConstructorWithOpts=t.wrapConstructor=t.checkOpts=t.Hash=t.concatBytes=t.toBytes=t.utf8ToBytes=t.asyncLoop=t.nextTick=t.hexToBytes=t.bytesToHex=t.isLE=t.rotr=t.createView=t.u32=t.u8=void 0;const r=n(808),i=e=>e instanceof Uint8Array;t.u8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength);t.u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));t.createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);if(t.rotr=(e,t)=>e<<32-t|e>>>t,t.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!t.isLE)throw new Error("Non little-endian hardware is not supported");const o=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));t.bytesToHex=function(e){if(!i(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=o[e[n]];return t},t.hexToBytes=function(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let t=0;t<n.length;t++){const r=2*t,i=e.slice(r,r+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");n[t]=o}return n};function a(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function s(e){if("string"==typeof e&&(e=a(e)),!i(e))throw new Error("expected Uint8Array, got "+typeof e);return e}t.nextTick=async()=>{},t.asyncLoop=async function(e,n,r){let i=Date.now();for(let o=0;o<e;o++){r(o);const e=Date.now()-i;e>=0&&e<n||(await(0,t.nextTick)(),i+=e)}},t.utf8ToBytes=a,t.toBytes=s,t.concatBytes=function(...e){const t=new Uint8Array(e.reduce(((e,t)=>e+t.length),0));let n=0;return e.forEach((e=>{if(!i(e))throw new Error("Uint8Array expected");t.set(e,n),n+=e.length})),t};t.Hash=class{clone(){return this._cloneInto()}};const c={}.toString;t.checkOpts=function(e,t){if(void 0!==t&&"[object Object]"!==c.call(t))throw new Error("Options should be object or undefined");return Object.assign(e,t)},t.wrapConstructor=function(e){const t=t=>e().update(s(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t},t.wrapConstructorWithOpts=function(e){const t=(t,n)=>e(n).update(s(t)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t},t.wrapXOFConstructorWithOpts=function(e){const t=(t,n)=>e(n).update(s(t)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t},t.randomBytes=function(e=32){if(r.crypto&&"function"==typeof r.crypto.getRandomValues)return r.crypto.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}},980:(e,t)=>{"use strict";function n(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function r(...e){const t=(e,t)=>n=>e(t(n)),n=Array.from(e).reverse().reduce(((e,n)=>e?t(e,n.encode):n.encode),void 0),r=e.reduce(((e,n)=>e?t(e,n.decode):n.decode),void 0);return{encode:n,decode:r}}function i(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("alphabet.encode input should be an array of numbers");return t.map((t=>{if(n(t),t<0||t>=e.length)throw new Error(`Digit index outside alphabet: ${t} (alphabet: ${e.length})`);return e[t]}))},decode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("alphabet.decode input should be array of strings");return t.map((t=>{if("string"!=typeof t)throw new Error(`alphabet.decode: not string element=${t}`);const n=e.indexOf(t);if(-1===n)throw new Error(`Unknown letter: "${t}". Allowed: ${e}`);return n}))}}}function o(e=""){if("string"!=typeof e)throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("join.encode input should be array of strings");for(let e of t)if("string"!=typeof e)throw new Error(`join.encode: non-string input=${e}`);return t.join(e)},decode:t=>{if("string"!=typeof t)throw new Error("join.decode input should be string");return t.split(e)}}}function a(e,t="="){if(n(e),"string"!=typeof t)throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&"string"!=typeof n[0])throw new Error("padding.encode input should be array of strings");for(let e of n)if("string"!=typeof e)throw new Error(`padding.encode: non-string input=${e}`);for(;n.length*e%8;)n.push(t);return n},decode(n){if(!Array.isArray(n)||n.length&&"string"!=typeof n[0])throw new Error("padding.encode input should be array of strings");for(let e of n)if("string"!=typeof e)throw new Error(`padding.decode: non-string input=${e}`);let r=n.length;if(r*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--)if(!((r-1)*e%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,r)}}}function s(e){if("function"!=typeof e)throw new Error("normalize fn should be function");return{encode:e=>e,decode:t=>e(t)}}function c(e,t,r){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(r<2)throw new Error(`convertRadix: wrong to=${r}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let i=0;const o=[],a=Array.from(e);for(a.forEach((e=>{if(n(e),e<0||e>=t)throw new Error(`Wrong integer: ${e}`)}));;){let e=0,n=!0;for(let o=i;o<a.length;o++){const s=a[o],c=t*e+s;if(!Number.isSafeInteger(c)||t*e/t!==e||c-s!=t*e)throw new Error("convertRadix: carry overflow");e=c%r;const d=Math.floor(c/r);if(a[o]=d,!Number.isSafeInteger(d)||d*r+e!==c)throw new Error("convertRadix: carry overflow");n&&(d?n=!1:i=o)}if(o.push(e),n)break}for(let t=0;t<e.length-1&&0===e[t];t++)o.push(0);return o.reverse()}Object.defineProperty(t,"__esModule",{value:!0}),t.bytes=t.stringToBytes=t.str=t.bytesToString=t.hex=t.utf8=t.bech32m=t.bech32=t.base58check=t.base58xmr=t.base58xrp=t.base58flickr=t.base58=t.base64urlnopad=t.base64url=t.base64=t.base32crockford=t.base32hex=t.base32=t.base16=t.utils=t.assertNumber=void 0,t.assertNumber=n;const d=(e,t)=>t?d(t,e%t):e,f=(e,t)=>e+(t-d(e,t));function u(e,t,r,i){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(f(t,r)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${r} carryBits=${f(t,r)}`);let o=0,a=0;const s=2**r-1,c=[];for(const i of e){if(n(i),i>=2**t)throw new Error(`convertRadix2: invalid data word=${i} from=${t}`);if(o=o<<t|i,a+t>32)throw new Error(`convertRadix2: carry overflow pos=${a} from=${t}`);for(a+=t;a>=r;a-=r)c.push((o>>a-r&s)>>>0);o&=2**a-1}if(o=o<<r-a&s,!i&&a>=t)throw new Error("Excess padding");if(!i&&o)throw new Error(`Non-zero padding: ${o}`);return i&&a>0&&c.push(o>>>0),c}function l(e){return n(e),{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return c(Array.from(t),256,e)},decode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("radix.decode input should be array of strings");return Uint8Array.from(c(t,e,256))}}}function h(e,t=!1){if(n(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(f(8,e)>32||f(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!(n instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return u(Array.from(n),8,e,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&"number"!=typeof n[0])throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(u(n,e,8,t))}}}function p(e){if("function"!=typeof e)throw new Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch(e){}}}function b(e,t){if(n(e),"function"!=typeof t)throw new Error("checksum fn should be function");return{encode(n){if(!(n instanceof Uint8Array))throw new Error("checksum.encode: input should be Uint8Array");const r=t(n).slice(0,e),i=new Uint8Array(n.length+e);return i.set(n),i.set(r,n.length),i},decode(n){if(!(n instanceof Uint8Array))throw new Error("checksum.decode: input should be Uint8Array");const r=n.slice(0,-e),i=t(r).slice(0,e),o=n.slice(-e);for(let t=0;t<e;t++)if(i[t]!==o[t])throw new Error("Invalid checksum");return r}}}t.utils={alphabet:i,chain:r,checksum:b,radix:l,radix2:h,join:o,padding:a},t.base16=r(h(4),i("0123456789ABCDEF"),o("")),t.base32=r(h(5),i("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),a(5),o("")),t.base32hex=r(h(5),i("0123456789ABCDEFGHIJKLMNOPQRSTUV"),a(5),o("")),t.base32crockford=r(h(5),i("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),o(""),s((e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")))),t.base64=r(h(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),a(6),o("")),t.base64url=r(h(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),a(6),o("")),t.base64urlnopad=r(h(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),o(""));const y=e=>r(l(58),i(e),o(""));t.base58=y("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),t.base58flickr=y("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),t.base58xrp=y("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const g=[0,2,3,5,6,7,9,10,11];t.base58xmr={encode(e){let n="";for(let r=0;r<e.length;r+=8){const i=e.subarray(r,r+8);n+=t.base58.encode(i).padStart(g[i.length],"1")}return n},decode(e){let n=[];for(let r=0;r<e.length;r+=11){const i=e.slice(r,r+11),o=g.indexOf(i.length),a=t.base58.decode(i);for(let e=0;e<a.length-o;e++)if(0!==a[e])throw new Error("base58xmr: wrong padding");n=n.concat(Array.from(a.slice(a.length-o)))}return Uint8Array.from(n)}};t.base58check=e=>r(b(4,(t=>e(e(t)))),t.base58);const w=r(i("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),o("")),m=[996825010,642813549,513874426,1027748829,705979059];function v(e){const t=e>>25;let n=(33554431&e)<<5;for(let e=0;e<m.length;e++)1==(t>>e&1)&&(n^=m[e]);return n}function x(e,t,n=1){const r=e.length;let i=1;for(let t=0;t<r;t++){const n=e.charCodeAt(t);if(n<33||n>126)throw new Error(`Invalid prefix (${e})`);i=v(i)^n>>5}i=v(i);for(let t=0;t<r;t++)i=v(i)^31&e.charCodeAt(t);for(let e of t)i=v(i)^e;for(let e=0;e<6;e++)i=v(i);return i^=n,w.encode(u([i%2**30],30,5,!1))}function E(e){const t="bech32"===e?1:734539939,n=h(5),r=n.decode,i=n.encode,o=p(r);function a(e,n=90){if("string"!=typeof e)throw new Error("bech32.decode input should be string, not "+typeof e);if(e.length<8||!1!==n&&e.length>n)throw new TypeError(`Wrong string length: ${e.length} (${e}). Expected (8..${n})`);const r=e.toLowerCase();if(e!==r&&e!==e.toUpperCase())throw new Error("String must be lowercase or uppercase");const i=(e=r).lastIndexOf("1");if(0===i||-1===i)throw new Error('Letter "1" must be present between prefix and data only');const o=e.slice(0,i),a=e.slice(i+1);if(a.length<6)throw new Error("Data must be at least 6 characters long");const s=w.decode(a).slice(0,-6),c=x(o,s,t);if(!a.endsWith(c))throw new Error(`Invalid checksum in ${e}: expected "${c}"`);return{prefix:o,words:s}}return{encode:function(e,n,r=90){if("string"!=typeof e)throw new Error("bech32.encode prefix should be string, not "+typeof e);if(!Array.isArray(n)||n.length&&"number"!=typeof n[0])throw new Error("bech32.encode words should be array of numbers, not "+typeof n);const i=e.length+7+n.length;if(!1!==r&&i>r)throw new TypeError(`Length ${i} exceeds limit ${r}`);const o=e.toLowerCase(),a=x(o,n,t);return`${o}1${w.encode(n)}${a}`},decode:a,decodeToBytes:function(e){const{prefix:t,words:n}=a(e,!1);return{prefix:t,words:n,bytes:r(n)}},decodeUnsafe:p(a),fromWords:r,fromWordsUnsafe:o,toWords:i}}t.bech32=E("bech32"),t.bech32m=E("bech32m"),t.utf8={encode:e=>(new TextDecoder).decode(e),decode:e=>(new TextEncoder).encode(e)},t.hex=r(h(4),i("0123456789abcdef"),o(""),s((e=>{if("string"!=typeof e||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()})));const B={utf8:t.utf8,hex:t.hex,base16:t.base16,base32:t.base32,base64:t.base64,base64url:t.base64url,base58:t.base58,base58xmr:t.base58xmr},A="Invalid encoding type. Available types: utf8, hex, base16, base32, base64, base64url, base58, base58xmr";t.bytesToString=(e,t)=>{if("string"!=typeof e||!B.hasOwnProperty(e))throw new TypeError(A);if(!(t instanceof Uint8Array))throw new TypeError("bytesToString() expects Uint8Array");return B[e].encode(t)},t.str=t.bytesToString;t.stringToBytes=(e,t)=>{if(!B.hasOwnProperty(e))throw new TypeError(A);if("string"!=typeof t)throw new TypeError("stringToBytes() expects string");return B[e].decode(t)},t.bytes=t.stringToBytes},12:e=>{e.exports=a,a.default=a,a.stable=f,a.stableStringify=f;var t="[...]",n="[Circular]",r=[],i=[];function o(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function a(e,t,n,a){var s;void 0===a&&(a=o()),c(e,"",0,[],void 0,0,a);try{s=0===i.length?JSON.stringify(e,t,n):JSON.stringify(e,l(t),n)}catch(e){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==r.length;){var d=r.pop();4===d.length?Object.defineProperty(d[0],d[1],d[3]):d[0][d[1]]=d[2]}}return s}function s(e,t,n,o){var a=Object.getOwnPropertyDescriptor(o,n);void 0!==a.get?a.configurable?(Object.defineProperty(o,n,{value:e}),r.push([o,n,t,a])):i.push([t,n,e]):(o[n]=e,r.push([o,n,t]))}function c(e,r,i,o,a,d,f){var u;if(d+=1,"object"==typeof e&&null!==e){for(u=0;u<o.length;u++)if(o[u]===e)return void s(n,e,r,a);if(void 0!==f.depthLimit&&d>f.depthLimit)return void s(t,e,r,a);if(void 0!==f.edgesLimit&&i+1>f.edgesLimit)return void s(t,e,r,a);if(o.push(e),Array.isArray(e))for(u=0;u<e.length;u++)c(e[u],u,u,o,e,d,f);else{var l=Object.keys(e);for(u=0;u<l.length;u++){var h=l[u];c(e[h],h,u,o,e,d,f)}}o.pop()}}function d(e,t){return e<t?-1:e>t?1:0}function f(e,t,n,a){void 0===a&&(a=o());var s,c=u(e,"",0,[],void 0,0,a)||e;try{s=0===i.length?JSON.stringify(c,t,n):JSON.stringify(c,l(t),n)}catch(e){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==r.length;){var d=r.pop();4===d.length?Object.defineProperty(d[0],d[1],d[3]):d[0][d[1]]=d[2]}}return s}function u(e,i,o,a,c,f,l){var h;if(f+=1,"object"==typeof e&&null!==e){for(h=0;h<a.length;h++)if(a[h]===e)return void s(n,e,i,c);try{if("function"==typeof e.toJSON)return}catch(e){return}if(void 0!==l.depthLimit&&f>l.depthLimit)return void s(t,e,i,c);if(void 0!==l.edgesLimit&&o+1>l.edgesLimit)return void s(t,e,i,c);if(a.push(e),Array.isArray(e))for(h=0;h<e.length;h++)u(e[h],h,h,a,e,f,l);else{var p={},b=Object.keys(e).sort(d);for(h=0;h<b.length;h++){var y=b[h];u(e[y],y,h,a,e,f,l),p[y]=e[y]}if(void 0===c)return p;r.push([c,i,e]),c[i]=p}a.pop()}}function l(e){return e=void 0!==e?e:function(e,t){return t},function(t,n){if(i.length>0)for(var r=0;r<i.length;r++){var o=i[r];if(o[1]===t&&o[0]===n){n=o[2],i.splice(r,1);break}}return e.call(this,t,n)}}},269:()=>{}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};(()=>{"use strict";n.r(r),n.d(r,{onRpcRequest:()=>Zf});var e={};n.r(e),n.d(e,{dQ:()=>yo,ci:()=>ao,bytesToNumberBE:()=>fo,ty:()=>uo,eV:()=>bo,n$:()=>mo,ql:()=>po,hexToBytes:()=>co,tL:()=>lo,S5:()=>ho,FF:()=>xo});var t={};n.r(t),n.d(t,{compressPublicKey:()=>rc,compressedPublicKeyLength:()=>sc,curve:()=>Ws,decompressPublicKey:()=>ic,deriveUnhardenedKeys:()=>Qs,getPublicKey:()=>tc,isValidPrivateKey:()=>Xs,masterNodeGenerationSpec:()=>ac,name:()=>Ys,privateKeyLength:()=>oc,publicAdd:()=>nc,publicKeyLength:()=>ec,secret:()=>Js});var i={};n.r(i),n.d(i,{bytesToNumberLE:()=>bc,compressPublicKey:()=>mc,compressedPublicKeyLength:()=>Bc,curve:()=>cc,decompressPublicKey:()=>vc,deriveUnhardenedKeys:()=>hc,getPublicKey:()=>gc,isValidPrivateKey:()=>lc,masterNodeGenerationSpec:()=>Ec,multiplyWithBase:()=>yc,name:()=>dc,privateKeyLength:()=>xc,publicAdd:()=>wc,publicKeyLength:()=>pc,secret:()=>fc});var o={};n.r(o),n.d(o,{compressPublicKey:()=>Yc,compressedPublicKeyLength:()=>ed,curve:()=>Dc,decompressPublicKey:()=>Jc,deriveUnhardenedKeys:()=>Mc,getPublicKey:()=>Vc,isValidPrivateKey:()=>Gc,masterNodeGenerationSpec:()=>Qc,name:()=>_c,privateKeyLength:()=>Xc,publicAdd:()=>Wc,publicKeyLength:()=>Zc,secret:()=>zc});var a={};n.r(a),n.d(a,{deriveChildKey:()=>tf,privateKeyToEthAddress:()=>Qd,publicKeyToEthAddress:()=>ef});var s={};n.r(s),n.d(s,{bip39MnemonicToMultipath:()=>sf,createBip39KeyFromSeed:()=>df,deriveChildKey:()=>cf,entropyToCip3MasterNode:()=>ff});var c={};n.r(c),n.d(c,{add:()=>gf,bigIntToBytes:()=>hf,bytesToBigInt:()=>lf,deriveChainCode:()=>Af,deriveChildKey:()=>kf,derivePrivateKey:()=>xf,derivePublicKey:()=>Sf,getKeyExtension:()=>wf,mod2Pow256:()=>yf,padEnd32Bytes:()=>pf,toReversed:()=>uf,trunc28Mul8:()=>bf});var d={};function f(e){return Boolean(e)&&"object"==typeof e&&!Array.isArray(e)}n.r(d),n.d(d,{deriveChildKey:()=>Lf});const u=(e,t)=>Object.hasOwnProperty.call(e,t);var l;!function(e){e[e.Null=4]="Null",e[e.Comma=1]="Comma",e[e.Wrapper=1]="Wrapper",e[e.True=4]="True",e[e.False=5]="False",e[e.Quote=1]="Quote",e[e.Colon=1]="Colon",e[e.Date=24]="Date"}(l=l||(l={}));function h(e){if("object"!=typeof e||null===e)return!1;try{let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch(e){return!1}}class p extends TypeError{constructor(e,t){let n;const{message:r,explanation:i,...o}=e,{path:a}=e,s=0===a.length?r:`At path: ${a.join(".")} -- ${r}`;super(i??s),null!=i&&(this.cause=s),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...t()])}}function b(e){return"object"==typeof e&&null!==e}function y(e){return"symbol"==typeof e?e.toString():"string"==typeof e?JSON.stringify(e):`${e}`}function g(e,t,n,r){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});const{path:i,branch:o}=t,{type:a}=n,{refinement:s,message:c=`Expected a value of type \`${a}\`${s?` with refinement \`${s}\``:""}, but received: \`${y(r)}\``}=e;return{value:r,type:a,refinement:s,key:i[i.length-1],path:i,branch:o,...e,message:c}}function*w(e,t,n,r){(function(e){return b(e)&&"function"==typeof e[Symbol.iterator]})(e)||(e=[e]);for(const i of e){const e=g(i,t,n,r);e&&(yield e)}}function*m(e,t,n={}){const{path:r=[],branch:i=[e],coerce:o=!1,mask:a=!1}=n,s={path:r,branch:i};if(o&&(e=t.coercer(e,s),a&&"type"!==t.type&&b(t.schema)&&b(e)&&!Array.isArray(e)))for(const n in e)void 0===t.schema[n]&&delete e[n];let c="valid";for(const r of t.validator(e,s))r.explanation=n.message,c="not_valid",yield[r,void 0];for(let[d,f,u]of t.entries(e,s)){const t=m(f,u,{path:void 0===d?r:[...r,d],branch:void 0===d?i:[...i,f],coerce:o,mask:a,message:n.message});for(const n of t)n[0]?(c=null===n[0].refinement||void 0===n[0].refinement?"not_valid":"not_refined",yield[n[0],void 0]):o&&(f=n[1],void 0===d?e=f:e instanceof Map?e.set(d,f):e instanceof Set?e.add(f):b(e)&&(void 0!==f||d in e)&&(e[d]=f))}if("not_valid"!==c)for(const r of t.refiner(e,s))r.explanation=n.message,c="not_refined",yield[r,void 0];"valid"===c&&(yield[void 0,e])}class v{constructor(e){const{type:t,schema:n,validator:r,refiner:i,coercer:o=(e=>e),entries:a=function*(){}}=e;this.type=t,this.schema=n,this.entries=a,this.coercer=o,this.validator=r?(e,t)=>w(r(e,t),t,this,e):()=>[],this.refiner=i?(e,t)=>w(i(e,t),t,this,e):()=>[]}assert(e,t){return x(e,this,t)}create(e,t){return E(e,this,t)}is(e){return B(e,this)}mask(e,t){return function(e,t,n){const r=A(e,t,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}(e,this,t)}validate(e,t={}){return A(e,this,t)}}function x(e,t,n){const r=A(e,t,{message:n});if(r[0])throw r[0]}function E(e,t,n){const r=A(e,t,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function B(e,t){return!A(e,t)[0]}function A(e,t,n={}){const r=m(e,t,n),i=function(e){const{done:t,value:n}=e.next();return t?void 0:n}(r);if(i[0]){return[new p(i[0],(function*(){for(const e of r)e[0]&&(yield e[0])})),void 0]}return[void 0,i[1]]}function I(...e){const t="type"===e[0]?.type,n=e.map((({schema:e})=>e)),r=Object.assign({},...n);return t?function(e){const t=Object.keys(e);return new v({type:"type",schema:e,*entries(n){if(b(n))for(const r of t)yield[r,n[r],e[r]]},validator:e=>b(e)||`Expected an object, but received: ${y(e)}`,coercer:e=>b(e)?{...e}:e})}(r):T(r)}function S(e,t){return new v({type:e,schema:null,validator:t})}function k(e){let t;return new v({type:"lazy",schema:null,*entries(n,r){t??(t=e()),yield*t.entries(n,r)},validator:(n,r)=>(t??(t=e()),t.validator(n,r)),coercer:(n,r)=>(t??(t=e()),t.coercer(n,r)),refiner:(n,r)=>(t??(t=e()),t.refiner(n,r))})}function L(e){return new v({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[n,r]of t.entries())yield[n,r,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${y(e)}`})}function O(){return S("boolean",(e=>"boolean"==typeof e))}function H(e){const t=y(e),n=typeof e;return new v({type:"literal",schema:"string"===n||"number"===n||"boolean"===n?e:null,validator:n=>n===e||`Expected the literal \`${t}\`, but received: ${y(n)}`})}function C(){return S("never",(()=>!1))}function P(e){return new v({...e,validator:(t,n)=>null===t||e.validator(t,n),refiner:(t,n)=>null===t||e.refiner(t,n)})}function U(){return S("number",(e=>"number"==typeof e&&!isNaN(e)||`Expected a number, but received: ${y(e)}`))}function T(e){const t=e?Object.keys(e):[],n=C();return new v({type:"object",schema:e??null,*entries(r){if(e&&b(r)){const i=new Set(Object.keys(r));for(const n of t)i.delete(n),yield[n,r[n],e[n]];for(const e of i)yield[e,r[e],n]}},validator:e=>b(e)||`Expected an object, but received: ${y(e)}`,coercer:e=>b(e)?{...e}:e})}function N(e){return new v({...e,validator:(t,n)=>void 0===t||e.validator(t,n),refiner:(t,n)=>void 0===t||e.refiner(t,n)})}function K(e,t){return new v({type:"record",schema:null,*entries(n){if(b(n))for(const r in n){const i=n[r];yield[r,r,e],yield[r,i,t]}},validator:e=>b(e)||`Expected an object, but received: ${y(e)}`})}function R(){return S("string",(e=>"string"==typeof e||`Expected a string, but received: ${y(e)}`))}function F(e){const t=C();return new v({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(e.length,n.length);for(let i=0;i<r;i++)yield[i,n[i],e[i]||t]}},validator:e=>Array.isArray(e)||`Expected an array, but received: ${y(e)}`})}function $(e){const t=e.map((e=>e.type)).join(" | ");return new v({type:"union",schema:null,coercer(t){for(const n of e){const[e,r]=n.validate(t,{coerce:!0});if(!e)return r}return t},validator(n,r){const i=[];for(const t of e){const[...e]=m(n,t,r),[o]=e;if(!o?.[0])return[];for(const[t]of e)t&&i.push(t)}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${y(n)}`,...i]}})}function q(){return S("unknown",(()=>!0))}function j(e,t,n){return new v({...e,coercer:(r,i)=>B(r,t)?e.coercer(n(r,i),i):e.coercer(r,i)})}function D(e){return function(e){return function(e){return"object"==typeof e&&null!==e&&"message"in e}(e)&&"string"==typeof e.message?e.message:null==e?"":String(e)}(e).replace(/\.$/u,"")}function _(e,t){return n=e,Boolean("string"==typeof n?.prototype?.constructor?.name)?new e({message:t}):e({message:t});var n}class z extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}}function M(e,t="Assertion failed.",n=z){if(!e){if(t instanceof Error)throw t;throw _(n,t)}}function Z(e,t,n="Assertion failed",r=z){try{x(e,t)}catch(e){throw _(r,`${n}: ${D(e)}.`)}}const G=e=>T(e);function V({path:e,branch:t}){const n=e[e.length-1];return u(t[t.length-2],n)}function W(e){return new v({...e,type:`optional ${e.type}`,validator:(t,n)=>!V(n)||e.validator(t,n),refiner:(t,n)=>!V(n)||e.refiner(t,n)})}const Y=$([H(null),O(),S("finite number",(e=>B(e,U())&&Number.isFinite(e))),R(),L(k((()=>Y))),K(R(),k((()=>Y)))]),J=j(Y,S("any",(()=>!0)),(e=>(Z(e,Y),JSON.parse(JSON.stringify(e,((e,t)=>{if("__proto__"!==e&&"constructor"!==e)return t}))))));function X(e){try{return function(e){E(e,J)}(e),!0}catch{return!1}}const Q=H("2.0"),ee=P($([U(),R()])),te=G({code:S("integer",(e=>"number"==typeof e&&!isNaN(e)&&Number.isInteger(e)||`Expected an integer, but received: ${y(e)}`)),message:R(),data:W(J),stack:W(R())}),ne=$([K(R(),J),L(J)]);G({id:ee,jsonrpc:Q,method:R(),params:W(ne)}),G({jsonrpc:Q,method:R(),params:W(ne)});T({id:ee,jsonrpc:Q,result:N(q()),error:N(te)});const re=G({id:ee,jsonrpc:Q,result:J}),ie=G({id:ee,jsonrpc:Q,error:te});$([re,ie]);function oe(e,t){return ae(e,"pattern",(n=>t.test(n)||`Expected a ${e.type} matching \`/${t.source}/\` but received "${n}"`))}function ae(e,t,n){return new v({...e,*refiner(r,i){yield*e.refiner(r,i);const o=w(n(r,i),i,e,r);for(const e of o)yield{...e,refinement:t}}})}var se={invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},ce={userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901},de={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}},fe=se.internal,ue="Unspecified error message. This is a bug, please report it.",le=(he(fe),"Unspecified server error.");function he(e,t=ue){if(function(e){return Number.isInteger(e)}(e)){const t=e.toString();if(u(de,t))return de[t].message;if(function(e){return e>=-32099&&e<=-32e3}(e))return le}return t}function pe(e){return Array.isArray(e)?e.map((e=>X(e)?e:f(e)?be(e):null)):f(e)?be(e):X(e)?e:null}function be(e){return Object.getOwnPropertyNames(e).reduce(((t,n)=>{const r=e[n];return X(r)&&(t[n]=r),t}),{})}var ye=n(12),ge=class extends Error{constructor(e,t,n){var r=(...e)=>{super(...e)};if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!t||"string"!=typeof t)throw new Error('"message" must be a non-empty string.');!function(e){return f(e)&&u(e,"cause")&&f(e.cause)}(n)?r(t):(r(t,{cause:n.cause}),u(this,"cause")||Object.assign(this,{cause:n.cause})),void 0!==n&&(this.data=n),this.code=e}serialize(){const e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data,h(this.data)&&(e.data.cause=pe(this.data.cause))),this.stack&&(e.stack=this.stack),e}toString(){return ye(this.serialize(),me,2)}},we=class extends ge{constructor(e,t,n){if(!function(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,t,n)}};function me(e,t){if("[Circular]"!==t)return t}var ve=e=>Ke(se.parse,e),xe=e=>Ke(se.invalidRequest,e),Ee=e=>Ke(se.invalidParams,e),Be=e=>Ke(se.methodNotFound,e),Ae=e=>Ke(se.internal,e),Ie=e=>Ke(se.invalidInput,e),Se=e=>Ke(se.resourceNotFound,e),ke=e=>Ke(se.resourceUnavailable,e),Le=e=>Ke(se.transactionRejected,e),Oe=e=>Ke(se.methodNotSupported,e),He=e=>Ke(se.limitExceeded,e),Ce=e=>Re(ce.userRejectedRequest,e),Pe=e=>Re(ce.unauthorized,e),Ue=e=>Re(ce.unsupportedMethod,e),Te=e=>Re(ce.disconnected,e),Ne=e=>Re(ce.chainDisconnected,e);function Ke(e,t){const[n,r]=Fe(t);return new ge(e,n??he(e),r)}function Re(e,t){const[n,r]=Fe(t);return new we(e,n??he(e),r)}function Fe(e){if(e){if("string"==typeof e)return[e];if("object"==typeof e&&!Array.isArray(e)){const{message:t,data:n}=e;if(t&&"string"!=typeof t)throw new Error("Must specify string message.");return[t??void 0,n]}}return[]}const $e=oe(R(),/^(?:0x)?[0-9a-f]+$/iu),qe=(oe(R(),/^0x[0-9a-f]+$/iu),oe(R(),/^0x[0-9a-f]{40}$/u),oe(R(),/^0x[0-9a-fA-F]{40}$/u));function je(e){M(function(e){return B(e,$e)}(e),"Value must be a hexadecimal string.")}function De(e){return e.startsWith("0x")?e:e.startsWith("0X")?`0x${e.substring(2)}`:`0x${e}`}function _e(e){return e.startsWith("0x")||e.startsWith("0X")?e.substring(2):e}var ze,Me,Ze,Ge,Ve=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},We=(e,t,n)=>(Ve(e,t,"read from private field"),n?n.call(e):t.get(e)),Ye=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Je=(e,t,n,r)=>(Ve(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Xe=class extends Error{constructor(e,t={}){const n=function(e){if(f(e)&&u(e,"message")&&"string"==typeof e.message)return e.message;return String(e)}(e);super(n),Ye(this,ze,void 0),Ye(this,Me,void 0),Ye(this,Ze,void 0),Ye(this,Ge,void 0),Je(this,Me,n),Je(this,ze,function(e){if(f(e)&&u(e,"code")&&"number"==typeof e.code&&Number.isInteger(e.code))return e.code;return-32603}(e));const r={...nt(e),...t};Object.keys(r).length>0&&Je(this,Ze,r),Je(this,Ge,super.stack)}get name(){return"SnapError"}get code(){return We(this,ze)}get message(){return We(this,Me)}get data(){return We(this,Ze)}get stack(){return We(this,Ge)}toJSON(){return{code:et,message:tt,data:{cause:{code:this.code,message:this.message,stack:this.stack,...this.data?{data:this.data}:{}}}}}serialize(){return this.toJSON()}};function Qe(e){return class extends Xe{constructor(t,n){if("object"==typeof t){const n=e();return void super({code:n.code,message:n.message,data:t})}const r=e(t);super({code:r.code,message:r.message,data:n})}}}ze=new WeakMap,Me=new WeakMap,Ze=new WeakMap,Ge=new WeakMap;var et=-31002,tt="Snap Error";function nt(e){return f(e)&&u(e,"data")&&"object"==typeof e.data&&null!==e.data&&X(e.data)&&!Array.isArray(e.data)?e.data:{}}function rt(e){return S(JSON.stringify(e),H(e).validator)}function it(e){return rt(e)}function ot(e){return new v({type:"union",schema:null,*entries(t,n){if(!h(t)||!u(t,"type"))return;const{type:r}=t,i=e.find((({schema:e})=>B(r,e.type)));if(i)for(const e of i.entries(t,n))yield e},validator(t,n){const r=e.map((({schema:e})=>e.type.type));if(!h(t)||!u(t,"type")||"string"!=typeof t.type)return`Expected type to be one of: ${r.join(", ")}, but received: undefined`;const{type:i}=t,o=e.find((({schema:e})=>B(i,e.type)));return o?o.validator(t,n):`Expected type to be one of: ${r.join(", ")}, but received: "${i}"`}})}function at(e){return function([e,...t]){const n=$([e,...t]);return new v({...n,schema:[e,...t]})}(e)}function st(){return ae(R(),"SVG",(e=>!!e.includes("<svg")||"Value is not a valid SVG."))}Qe(Ae),Qe(Ie),Qe(Ee),Qe(xe),Qe(He);var ct=Qe(Be),dt=(Qe(Oe),Qe(ve),Qe(Se),Qe(ke),Qe(Le),Qe(Ne),Qe(Te),Qe(Pe),Qe(Ue),Qe(Ce));function ft(e,t,n=[]){return(...r)=>{if(1===r.length&&h(r[0])){const n={...r[0],type:e};return Z(n,t,`Invalid ${e} component`),n}const i=n.reduce(((e,t,n)=>void 0!==r[n]?{...e,[t]:r[n]}:e),{type:e});return Z(i,t,`Invalid ${e} component`),i}}var ut,lt,ht,pt,bt,yt=((ut=yt||{}).Copyable="copyable",ut.Divider="divider",ut.Heading="heading",ut.Panel="panel",ut.Spinner="spinner",ut.Text="text",ut.Image="image",ut.Row="row",ut.Address="address",ut.Button="button",ut.Input="input",ut.Form="form",ut),gt=T({type:R()}),wt=I(gt,T({value:q()})),mt=I(wt,T({type:H("address"),value:qe})),vt=(ft("address",mt,["value"]),I(wt,T({type:H("copyable"),value:R(),sensitive:N(O())}))),xt=ft("copyable",vt,["value","sensitive"]),Et=I(gt,T({type:H("divider")})),Bt=(ft("divider",Et),I(wt,T({type:H("heading"),value:R()}))),At=ft("heading",Bt,["value"]),It=I(gt,T({type:H("image"),value:st()})),St=(ft("image",It,["value"]),(lt=St||{}).Primary="primary",lt.Secondary="secondary",lt),kt=((ht=kt||{}).Button="button",ht.Submit="submit",ht),Lt=I(wt,T({type:H("button"),value:R(),variant:N($([it("primary"),it("secondary")])),buttonType:N($([it("button"),it("submit")])),name:N(R())})),Ot=(ft("button",Lt,["value","buttonType","name","variant"]),(pt=Ot||{}).Text="text",pt.Number="number",pt.Password="password",pt),Ht=I(wt,T({type:H("input"),value:N(R()),name:R(),inputType:N($([it("text"),it("password"),it("number")])),placeholder:N(R()),label:N(R()),error:N(R())})),Ct=(ft("input",Ht,["name","inputType","placeholder","value","label"]),$([Ht,Lt])),Pt=I(gt,T({type:H("form"),children:L(Ct),name:R()})),Ut=(ft("form",Pt,["name","children"]),I(wt,T({type:H("text"),value:R(),markdown:N(O())}))),Tt=ft("text",Ut,["value","markdown"]),Nt=((bt=Nt||{}).Default="default",bt.Critical="critical",bt.Warning="warning",bt),Kt=$([It,Ut,mt]),Rt=I(wt,T({type:H("row"),variant:N($([it("default"),it("critical"),it("warning")])),label:R(),value:Kt})),Ft=(ft("row",Rt,["label","value","variant"]),I(gt,T({type:H("spinner")}))),$t=(ft("spinner",Ft),I(gt,T({children:L(k((()=>Dt)))}))),qt=I($t,T({type:H("panel")})),jt=ft("panel",qt,["children"]),Dt=ot([vt,Et,Bt,It,qt,Ft,Ut,Rt,mt,Ht,Pt,Lt]);var _t,zt,Mt,Zt,Gt,Vt,Wt=((_t=Wt||{}).Critical="critical",_t),Yt=((zt=Yt||{}).ButtonClickEvent="ButtonClickEvent",zt.FormSubmitEvent="FormSubmitEvent",zt.InputChangeEvent="InputChangeEvent",zt.FileUploadEvent="FileUploadEvent",zt),Jt=T({type:R(),name:N(R())}),Xt=I(Jt,T({type:H("ButtonClickEvent"),name:N(R())})),Qt=T({name:R(),size:U(),contentType:R(),contents:R()}),en=I(Jt,T({type:H("FormSubmitEvent"),value:K(R(),P($([R(),Qt,O()]))),name:R()})),tn=I(Jt,T({type:H("InputChangeEvent"),name:R(),value:$([R(),O()])})),nn=($([Xt,en,tn,I(Jt,T({type:H("FileUploadEvent"),name:R(),file:P(Qt)}))]),(Mt=nn||{}).Alert="alert",Mt.Confirmation="confirmation",Mt.Prompt="prompt",Mt),rn=((Zt=rn||{}).Base64="base64",Zt.Hex="hex",Zt.Utf8="utf8",Zt),on=((Gt=on||{}).ClearState="clear",Gt.GetState="get",Gt.UpdateState="update",Gt),an=((Vt=an||{}).InApp="inApp",Vt.Native="native",Vt),sn=at([R(),U()]),cn=dn([R()]);T({type:R(),props:K(R(),J),key:P(sn)});function dn(e){return function(e){const t=at([e,L(k((()=>t)))]);return t}(P(at([...e,O()])))}function fn(e,t={}){return T({type:rt(e),props:T(t),key:P(sn)})}var un=fn("Button",{children:cn,name:N(R()),type:N(at([rt("button"),rt("submit")])),variant:N(at([rt("primary"),rt("destructive")])),disabled:N(O())}),ln=fn("Checkbox",{name:R(),checked:N(O()),label:N(R()),variant:N(at([rt("default"),rt("toggle")]))}),hn=fn("Input",{name:R(),type:N(at([rt("text"),rt("password"),rt("number")])),value:N(R()),placeholder:N(R())}),pn=fn("Option",{value:R(),children:R()}),bn=fn("Dropdown",{name:R(),value:N(R()),children:dn([pn])}),yn=fn("FileInput",{name:R(),accept:at([N(L(R()))]),compact:N(O())}),gn=[hn,un],wn=[hn,bn,yn,ln],mn=(at([...wn,...gn]),at([F(gn),...wn])),vn=fn("Field",{label:N(R()),error:N(R()),children:mn}),xn=fn("Form",{children:dn([vn,k((()=>Dn))]),name:R()}),En=fn("Bold",{children:dn([R(),k((()=>Bn))])}),Bn=fn("Italic",{children:dn([R(),k((()=>En))])}),An=at([En,Bn]),In=fn("Address",{address:qe}),Sn=fn("Box",{children:dn([k((()=>Dn))]),direction:N(at([rt("horizontal"),rt("vertical")])),alignment:N(at([rt("start"),rt("center"),rt("end"),rt("space-between"),rt("space-around")]))}),kn=fn("Footer",{children:at([F([un,un]),un])}),Ln=fn("Container",{children:at([F([Sn,kn]),Sn])}),On=fn("Copyable",{value:R(),sensitive:N(O())}),Hn=fn("Divider"),Cn=fn("Value",{value:R(),extra:R()}),Pn=fn("Card",{image:N(R()),title:R(),description:N(R()),value:R(),extra:N(R())}),Un=fn("Heading",{children:cn}),Tn=fn("Image",{src:st(),alt:N(R())}),Nn=fn("Link",{href:R(),children:dn([An,R()])}),Kn=fn("Text",{children:dn([R(),En,Bn,Nn]),alignment:N(at([rt("start"),rt("center"),rt("end")]))}),Rn=at([Kn,En,Bn,Nn,Tn,O()]),Fn=at([Kn,En,Bn,Nn,R()]),$n=fn("Tooltip",{children:P(Rn),content:Fn}),qn=fn("Row",{label:R(),children:at([In,Tn,Kn,Cn]),variant:N(at([rt("default"),rt("warning"),rt("critical")])),tooltip:N(R())}),jn=fn("Spinner"),Dn=ot([In,En,Sn,un,On,Hn,bn,yn,xn,Un,hn,Tn,Bn,Nn,qn,jn,Kn,$n,ln,Pn]),_n=at([Dn,Ln]),zn=(ot([un,hn,yn,vn,xn,En,Bn,In,Sn,On,Hn,Un,Tn,Nn,qn,jn,Kn,bn,pn,Cn,$n,ln,kn,Ln,Pn]),$([Qt,R(),O()])),Mn=K(R(),P(zn));K(R(),$([Mn,P(zn)])),$([Dt,_n]),K(R(),J);const Zn=48,Gn=58,Vn=87;const Wn=function(){const e=[];return()=>{if(0===e.length)for(let t=0;t<256;t++)e.push(t.toString(16).padStart(2,"0"));return e}}();function Yn(e){return e instanceof Uint8Array}function Jn(e){M(Yn(e),"Value must be a Uint8Array.")}function Xn(e){if(Jn(e),0===e.length)return"0x";const t=Wn(),n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=t[e[r]];return De(n.join(""))}function Qn(e){Jn(e);const t=Xn(e);return BigInt(t)}function er(e){if("0x"===e?.toLowerCase?.())return new Uint8Array;je(e);const t=_e(e).toLowerCase(),n=t.length%2==0?t:`0${t}`,r=new Uint8Array(n.length/2);for(let e=0;e<r.length;e++){const t=n.charCodeAt(2*e),i=n.charCodeAt(2*e+1),o=t-(t<Gn?Zn:Vn),a=i-(i<Gn?Zn:Vn);r[e]=16*o+a}return r}function tr(e){return M("string"==typeof e,"Value must be a string."),(new TextEncoder).encode(e)}function nr(e){if("bigint"==typeof e)return function(e){return M("bigint"==typeof e,"Value must be a bigint."),M(e>=BigInt(0),"Value must be a non-negative bigint."),er(e.toString(16))}(e);if("number"==typeof e)return function(e){return M("number"==typeof e,"Value must be a number."),M(e>=0,"Value must be a non-negative number."),M(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToBytes` instead."),er(e.toString(16))}(e);if("string"==typeof e)return e.startsWith("0x")?er(e):tr(e);if(Yn(e))return e;throw new TypeError(`Unsupported value type: "${typeof e}".`)}function rr(e){const t=new Array(e.length);let n=0;for(let r=0;r<e.length;r++){const i=nr(e[r]);t[r]=i,n+=i.length}const r=new Uint8Array(n);for(let e=0,n=0;e<t.length;e++)r.set(t[e],n),n+=t[e].length;return r}function ir(e){if("undefined"!=typeof Buffer&&e instanceof Buffer){const t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return new DataView(t)}return new DataView(e.buffer,e.byteOffset,e.byteLength)}var or,ar,sr=n(269);const cr={P:0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaabn,r:0x73eda753299d7d483339d80809a1d80553bda402fffe5bfeffffffff00000001n,h:0x396c8c005555e1568c00aaab0000aaabn,Gx:0x17f1d3a73197d7942695638c4fa9ac0fc3688c4f9774b905a14e3a3f171bac586c55e83ff97a1aeffb3af00adb22c6bbn,Gy:0x08b3f481e3aaa0f1a09e30ed741d8ae4fcf5e095d5d00af600db18cb2c04b3edd03cc744a2888ae40caa232946c5e7e1n,b:4n,P2:0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaabn**2n-1n,h2:0x5d543a95414e7f1091d50792876a202cd91de4547085abaa68a205b2e5a7ddfa628f1cb4d9e82ef21537e293a6691ae1616ec6e786f0c70cf1c38e31c7238e5n,G2x:[0x024aa2b2f08f0a91260805272dc51051c6e47ad4fa403b02b4510b647ae3d1770bac0326a805bbefd48056c8c121bdb8n,0x13e02b6052719f607dacd3a088274f65596bd0d09920b61ab5da61bbdc7f5049334cf11213945d57e5ac7d055d042b7en],G2y:[0x0ce5d527727d6e118cc9cdc6da2e351aadfd9baa8cbdd3a76d429a695160d12c923ac9cc3baca289e193548608b82801n,0x0606c4a02ea734cc32acd2b02bc28b99cb3e287e85a763af267492ab572e99ab3f370d275cec1da1aaa9075ff05f79ben],b2:[4n,4n],x:0xd201000000010000n,h2Eff:0xbc69f08f2ee75b3584c6a0ea91b352888e2a8e9145ad7689986ff031508ffe1329c2f178731db956d82bf015d1212b02ec0ec69d7477c1ae954cbc06689f6a359894c0adebbf6b4e8020005aaa95551n},dr=hr(cr.x);function fr(e,t){const n=e%t;return n>=0n?n:t+n}function ur(e,t,n){if(n<=0n||t<0n)throw new Error("Expected power/modulo > 0");if(1n===n)return 0n;let r=1n;for(;t>0n;)1n&t&&(r=r*e%n),e=e*e%n,t>>=1n;return r}function lr(e,t){const n=new Array(t.length),r=t.reduce(((e,t,r)=>t.isZero()?e:(n[r]=e,e.multiply(t))),e.ONE),i=r.invert();return t.reduceRight(((e,t,r)=>t.isZero()?e:(n[r]=e.multiply(n[r]),e.multiply(t))),i),n}function hr(e){let t;for(t=0;e>0n;e>>=1n,t+=1);return t}function pr(e,t){return e>>BigInt(t)&1n}function br(e,t=cr.P){const n=0n,r=1n;if(e===n||t<=n)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let i=fr(e,t),o=t,a=n,s=r,c=r,d=n;for(;i!==n;){const e=o/i,t=o%i,n=a-c*e,r=s-d*e;o=i,i=t,a=c,s=d,c=n,d=r}if(o!==r)throw new Error("invert: does not exist");return fr(a,t)}function yr(e){if("string"!=typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++){const r=2*n,i=e.slice(r,r+2);if(2!==i.length)throw new Error("Invalid byte sequence");const o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");t[n]=o}return t}function gr(e,t){const n=yr(function(e,t){if(!t)throw new Error("byteLength target must be specified");const n=e.toString(16);return(1&n.length?`0${n}`:n).padStart(2*t,"0")}(e,t));if(n.length!==t)throw new Error("numberToBytesBE: wrong byteLength");return n}const wr=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function mr(e){let t="";for(let n=0;n<e.length;n++)t+=wr[e[n]];return t}function vr(e){return BigInt("0x"+mr(e))}function xr(...e){if(1===e.length)return e[0];const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const i=e[t];n.set(i,r),r+=i.length}return n}class Er{constructor(e){this.value=fr(e,Er.ORDER)}isZero(){return 0n===this.value}equals(e){return this.value===e.value}negate(){return new Er(-this.value)}invert(){return new Er(br(this.value,Er.ORDER))}add(e){return new Er(this.value+e.value)}square(){return new Er(this.value*this.value)}pow(e){return new Er(ur(this.value,e,Er.ORDER))}sqrt(){const e=this.pow((Er.ORDER+1n)/4n);if(e.square().equals(this))return e}subtract(e){return new Er(this.value-e.value)}multiply(e){return e instanceof Er&&(e=e.value),new Er(this.value*e)}div(e){return"bigint"==typeof e&&(e=new Er(e)),this.multiply(e.invert())}toString(){const e=this.value.toString(16).padStart(96,"0");return e.slice(0,2)+"."+e.slice(-2)}static fromBytes(e){if(e.length!==Er.BYTES_LEN)throw new Error(`fromBytes wrong length=${e.length}`);return new Er(vr(e))}toBytes(){return gr(this.value,Er.BYTES_LEN)}}or=Er,Er.ORDER=cr.P,Er.MAX_BITS=hr(cr.P),Er.BYTES_LEN=Math.ceil(or.MAX_BITS/8),Er.ZERO=new Er(0n),Er.ONE=new Er(1n);class Br{constructor(e){this.value=fr(e,Br.ORDER)}static isValid(e){return e<=Br.ORDER}isZero(){return 0n===this.value}equals(e){return this.value===e.value}negate(){return new Br(-this.value)}invert(){return new Br(br(this.value,Br.ORDER))}add(e){return new Br(this.value+e.value)}square(){return new Br(this.value*this.value)}pow(e){return new Br(ur(this.value,e,Br.ORDER))}subtract(e){return new Br(this.value-e.value)}multiply(e){return e instanceof Br&&(e=e.value),new Br(this.value*e)}div(e){return"bigint"==typeof e&&(e=new Br(e)),this.multiply(e.invert())}legendre(){return this.pow((Br.ORDER-1n)/2n)}sqrt(){if(!this.legendre().equals(Br.ONE))return;const e=Br.ORDER;let t,n,r;for(t=e-1n,n=0;t%2n===0n;t/=2n,n++);if(1===n)return this.pow((e+1n)/4n);for(r=2n;r<e&&new Br(r).legendre().value!==e-1n;r++);let i=ur(r,t,e),o=ur(this.value,(t+1n)/2n,e),a=ur(this.value,t,e),s=0n;for(;0n!==fr(a-1n,e);){let t;for(s=fr(a*a,e),t=1;t<n&&0n!==fr(s-1n,e);t++)s=fr(s*s,e);let r=ur(i,BigInt(1<<n-t-1),e);o=fr(o*r,e),i=fr(r*r,e),a=fr(a*i,e),n=t}return new Br(o)}toString(){return"0x"+this.value.toString(16).padStart(64,"0")}}function Ar(e,t,n){if(0n===n)return t;if(1n===n)return e;let r=t,i=e;for(;n>0n;)1n&n&&(r=r.multiply(i)),n>>=1n,i=i.square();return r}Br.ORDER=cr.r,Br.ZERO=new Br(0n),Br.ONE=new Br(1n);class Ir{constructor(e,t){if(this.c0=e,this.c1=t,"bigint"==typeof e)throw new Error("c0: Expected Fp");if("bigint"==typeof t)throw new Error("c1: Expected Fp")}static fromBigTuple(e){const t=e.map((e=>new Er(e)));return new Ir(...t)}one(){return Ir.ONE}isZero(){return this.c0.isZero()&&this.c1.isZero()}toString(){return`Fp2(${this.c0} + ${this.c1}×i)`}reim(){return{re:this.c0.value,im:this.c1.value}}negate(){const{c0:e,c1:t}=this;return new Ir(e.negate(),t.negate())}equals(e){const{c0:t,c1:n}=this,{c0:r,c1:i}=e;return t.equals(r)&&n.equals(i)}add(e){const{c0:t,c1:n}=this,{c0:r,c1:i}=e;return new Ir(t.add(r),n.add(i))}subtract(e){const{c0:t,c1:n}=this,{c0:r,c1:i}=e;return new Ir(t.subtract(r),n.subtract(i))}multiply(e){const{c0:t,c1:n}=this;if("bigint"==typeof e)return new Ir(t.multiply(e),n.multiply(e));const{c0:r,c1:i}=e;let o=t.multiply(r),a=n.multiply(i);return new Ir(o.subtract(a),t.add(n).multiply(r.add(i)).subtract(o.add(a)))}pow(e){return Ar(this,Ir.ONE,e)}div(e){const t="bigint"==typeof e?new Er(e).invert().value:e.invert();return this.multiply(t)}mulByNonresidue(){const e=this.c0,t=this.c1;return new Ir(e.subtract(t),e.add(t))}square(){const e=this.c0,t=this.c1,n=e.add(t),r=e.subtract(t),i=e.add(e);return new Ir(n.multiply(r),i.multiply(t))}sqrt(){const e=this.pow((Ir.ORDER+8n)/16n),t=e.square().div(this),n=Wr,r=[n[0],n[2],n[4],n[6]].find((e=>e.equals(t)));if(!r)return;const i=n.indexOf(r),o=n[i/2];if(!o)throw new Error("Invalid root");const a=e.div(o),s=a.negate(),{re:c,im:d}=a.reim(),{re:f,im:u}=s.reim();return d>u||d===u&&c>f?a:s}invert(){const{re:e,im:t}=this.reim(),n=new Er(e*e+t*t).invert();return new Ir(n.multiply(new Er(e)),n.multiply(new Er(-t)))}frobeniusMap(e){return new Ir(this.c0,this.c1.multiply(Vr[e%2]))}multiplyByB(){let e=this.c0,t=this.c1,n=e.multiply(4n),r=t.multiply(4n);return new Ir(n.subtract(r),n.add(r))}static fromBytes(e){if(e.length!==Ir.BYTES_LEN)throw new Error(`fromBytes wrong length=${e.length}`);return new Ir(Er.fromBytes(e.subarray(0,Er.BYTES_LEN)),Er.fromBytes(e.subarray(Er.BYTES_LEN)))}toBytes(){return xr(this.c0.toBytes(),this.c1.toBytes())}}ar=Ir,Ir.ORDER=cr.P2,Ir.MAX_BITS=hr(cr.P2),Ir.BYTES_LEN=Math.ceil(ar.MAX_BITS/8),Ir.ZERO=new Ir(Er.ZERO,Er.ZERO),Ir.ONE=new Ir(Er.ONE,Er.ZERO);class Sr{constructor(e,t,n){this.c0=e,this.c1=t,this.c2=n}static fromBigSix(e){if(!Array.isArray(e)||6!==e.length)throw new Error("Invalid Fp6 usage");const t=[e.slice(0,2),e.slice(2,4),e.slice(4,6)].map((e=>Ir.fromBigTuple(e)));return new Sr(...t)}fromTriple(e){return new Sr(...e)}one(){return Sr.ONE}isZero(){return this.c0.isZero()&&this.c1.isZero()&&this.c2.isZero()}negate(){const{c0:e,c1:t,c2:n}=this;return new Sr(e.negate(),t.negate(),n.negate())}toString(){return`Fp6(${this.c0} + ${this.c1} * v, ${this.c2} * v^2)`}equals(e){const{c0:t,c1:n,c2:r}=this,{c0:i,c1:o,c2:a}=e;return t.equals(i)&&n.equals(o)&&r.equals(a)}add(e){const{c0:t,c1:n,c2:r}=this,{c0:i,c1:o,c2:a}=e;return new Sr(t.add(i),n.add(o),r.add(a))}subtract(e){const{c0:t,c1:n,c2:r}=this,{c0:i,c1:o,c2:a}=e;return new Sr(t.subtract(i),n.subtract(o),r.subtract(a))}multiply(e){if("bigint"==typeof e)return new Sr(this.c0.multiply(e),this.c1.multiply(e),this.c2.multiply(e));let{c0:t,c1:n,c2:r}=this,{c0:i,c1:o,c2:a}=e,s=t.multiply(i),c=n.multiply(o),d=r.multiply(a);return new Sr(s.add(n.add(r).multiply(o.add(a)).subtract(c.add(d)).mulByNonresidue()),t.add(n).multiply(i.add(o)).subtract(s.add(c)).add(d.mulByNonresidue()),c.add(t.add(r).multiply(i.add(a)).subtract(s.add(d))))}pow(e){return Ar(this,Sr.ONE,e)}div(e){const t="bigint"==typeof e?new Er(e).invert().value:e.invert();return this.multiply(t)}mulByNonresidue(){return new Sr(this.c2.mulByNonresidue(),this.c0,this.c1)}multiplyBy1(e){return new Sr(this.c2.multiply(e).mulByNonresidue(),this.c0.multiply(e),this.c1.multiply(e))}multiplyBy01(e,t){let{c0:n,c1:r,c2:i}=this,o=n.multiply(e),a=r.multiply(t);return new Sr(r.add(i).multiply(t).subtract(a).mulByNonresidue().add(o),e.add(t).multiply(n.add(r)).subtract(o).subtract(a),n.add(i).multiply(e).subtract(o).add(a))}multiplyByFp2(e){let{c0:t,c1:n,c2:r}=this;return new Sr(t.multiply(e),n.multiply(e),r.multiply(e))}square(){let{c0:e,c1:t,c2:n}=this,r=e.square(),i=e.multiply(t).multiply(2n),o=t.multiply(n).multiply(2n),a=n.square();return new Sr(o.mulByNonresidue().add(r),a.mulByNonresidue().add(i),i.add(e.subtract(t).add(n).square()).add(o).subtract(r).subtract(a))}invert(){let{c0:e,c1:t,c2:n}=this,r=e.square().subtract(n.multiply(t).mulByNonresidue()),i=n.square().mulByNonresidue().subtract(e.multiply(t)),o=t.square().subtract(e.multiply(n)),a=n.multiply(i).add(t.multiply(o)).mulByNonresidue().add(e.multiply(r)).invert();return new Sr(a.multiply(r),a.multiply(i),a.multiply(o))}frobeniusMap(e){return new Sr(this.c0.frobeniusMap(e),this.c1.frobeniusMap(e).multiply(Jr[e%6]),this.c2.frobeniusMap(e).multiply(Xr[e%6]))}static fromBytes(e){if(e.length!==Sr.BYTES_LEN)throw new Error(`fromBytes wrong length=${e.length}`);return new Sr(Ir.fromBytes(e.subarray(0,Ir.BYTES_LEN)),Ir.fromBytes(e.subarray(Ir.BYTES_LEN,2*Ir.BYTES_LEN)),Ir.fromBytes(e.subarray(2*Ir.BYTES_LEN)))}toBytes(){return xr(this.c0.toBytes(),this.c1.toBytes(),this.c2.toBytes())}}Sr.ZERO=new Sr(Ir.ZERO,Ir.ZERO,Ir.ZERO),Sr.ONE=new Sr(Ir.ONE,Ir.ZERO,Ir.ZERO),Sr.BYTES_LEN=3*Ir.BYTES_LEN;class kr{constructor(e,t){this.c0=e,this.c1=t}static fromBigTwelve(e){return new kr(Sr.fromBigSix(e.slice(0,6)),Sr.fromBigSix(e.slice(6,12)))}fromTuple(e){return new kr(...e)}one(){return kr.ONE}isZero(){return this.c0.isZero()&&this.c1.isZero()}toString(){return`Fp12(${this.c0} + ${this.c1} * w)`}negate(){const{c0:e,c1:t}=this;return new kr(e.negate(),t.negate())}equals(e){const{c0:t,c1:n}=this,{c0:r,c1:i}=e;return t.equals(r)&&n.equals(i)}add(e){const{c0:t,c1:n}=this,{c0:r,c1:i}=e;return new kr(t.add(r),n.add(i))}subtract(e){const{c0:t,c1:n}=this,{c0:r,c1:i}=e;return new kr(t.subtract(r),n.subtract(i))}multiply(e){if("bigint"==typeof e)return new kr(this.c0.multiply(e),this.c1.multiply(e));let{c0:t,c1:n}=this,{c0:r,c1:i}=e,o=t.multiply(r),a=n.multiply(i);return new kr(o.add(a.mulByNonresidue()),t.add(n).multiply(r.add(i)).subtract(o.add(a)))}pow(e){return Ar(this,kr.ONE,e)}div(e){const t="bigint"==typeof e?new Er(e).invert().value:e.invert();return this.multiply(t)}multiplyBy014(e,t,n){let{c0:r,c1:i}=this,o=r.multiplyBy01(e,t),a=i.multiplyBy1(n);return new kr(a.mulByNonresidue().add(o),i.add(r).multiplyBy01(e,t.add(n)).subtract(o).subtract(a))}multiplyByFp2(e){return new kr(this.c0.multiplyByFp2(e),this.c1.multiplyByFp2(e))}square(){let{c0:e,c1:t}=this,n=e.multiply(t);return new kr(t.mulByNonresidue().add(e).multiply(e.add(t)).subtract(n).subtract(n.mulByNonresidue()),n.add(n))}invert(){let{c0:e,c1:t}=this,n=e.square().subtract(t.square().mulByNonresidue()).invert();return new kr(e.multiply(n),t.multiply(n).negate())}conjugate(){return new kr(this.c0,this.c1.negate())}frobeniusMap(e){const t=this.c0.frobeniusMap(e),{c0:n,c1:r,c2:i}=this.c1.frobeniusMap(e),o=Qr[e%12];return new kr(t,new Sr(n.multiply(o),r.multiply(o),i.multiply(o)))}Fp4Square(e,t){const n=e.square(),r=t.square();return{first:r.mulByNonresidue().add(n),second:e.add(t).square().subtract(n).subtract(r)}}cyclotomicSquare(){const{c0:e,c1:t,c2:n}=this.c0,{c0:r,c1:i,c2:o}=this.c1,{first:a,second:s}=this.Fp4Square(e,i),{first:c,second:d}=this.Fp4Square(r,n),{first:f,second:u}=this.Fp4Square(t,o);let l=u.mulByNonresidue();return new kr(new Sr(a.subtract(e).multiply(2n).add(a),c.subtract(t).multiply(2n).add(c),f.subtract(n).multiply(2n).add(f)),new Sr(l.add(r).multiply(2n).add(l),s.add(i).multiply(2n).add(s),d.add(o).multiply(2n).add(d)))}cyclotomicExp(e){let t=kr.ONE;for(let n=dr-1;n>=0;n--)t=t.cyclotomicSquare(),pr(e,n)&&(t=t.multiply(this));return t}finalExponentiate(){const{x:e}=cr,t=this.frobeniusMap(6).div(this),n=t.frobeniusMap(2).multiply(t),r=n.cyclotomicExp(e).conjugate(),i=n.cyclotomicSquare().conjugate().multiply(r),o=i.cyclotomicExp(e).conjugate(),a=o.cyclotomicExp(e).conjugate(),s=a.cyclotomicExp(e).conjugate().multiply(r.cyclotomicSquare()),c=s.cyclotomicExp(e).conjugate(),d=r.multiply(a).frobeniusMap(2),f=o.multiply(n).frobeniusMap(3),u=s.multiply(n.conjugate()).frobeniusMap(1),l=c.multiply(i.conjugate()).multiply(n);return d.multiply(f).multiply(u).multiply(l)}static fromBytes(e){if(e.length!==kr.BYTES_LEN)throw new Error(`fromBytes wrong length=${e.length}`);return new kr(Sr.fromBytes(e.subarray(0,Sr.BYTES_LEN)),Sr.fromBytes(e.subarray(Sr.BYTES_LEN)))}toBytes(){return xr(this.c0.toBytes(),this.c1.toBytes())}}kr.ZERO=new kr(Sr.ZERO,Sr.ZERO),kr.ONE=new kr(Sr.ONE,Sr.ZERO),kr.BYTES_LEN=2*Sr.BYTES_LEN;class Lr{constructor(e,t,n,r){this.x=e,this.y=t,this.z=n,this.C=r}isZero(){return this.z.isZero()}createPoint(e,t,n){return new this.constructor(e,t,n)}getZero(){return this.createPoint(this.C.ONE,this.C.ONE,this.C.ZERO)}equals(e){if(this.constructor!==e.constructor)throw new Error(`ProjectivePoint#equals: this is ${this.constructor}, but rhs is ${e.constructor}`);const t=this,n=e,r=t.x.multiply(n.z).equals(n.x.multiply(t.z)),i=t.y.multiply(n.z).equals(n.y.multiply(t.z));return r&&i}negate(){return this.createPoint(this.x,this.y.negate(),this.z)}toString(e=!0){if(this.isZero())return"Point<Zero>";if(!e)return`Point<x=${this.x}, y=${this.y}, z=${this.z}>`;const[t,n]=this.toAffine();return`Point<x=${t}, y=${n}>`}fromAffineTuple(e){return this.createPoint(e[0],e[1],this.C.ONE)}toAffine(e=this.z.invert()){if(e.isZero())throw new Error("Invalid inverted z");return[this.x.multiply(e),this.y.multiply(e)]}toAffineBatch(e){const t=lr(this.C,e.map((e=>e.z)));return e.map(((e,n)=>e.toAffine(t[n])))}normalizeZ(e){return this.toAffineBatch(e).map((e=>this.fromAffineTuple(e)))}double(){const{x:e,y:t,z:n}=this,r=e.multiply(e).multiply(3n),i=t.multiply(n),o=i.multiply(i),a=o.multiply(i),s=e.multiply(t).multiply(i),c=r.multiply(r).subtract(s.multiply(8n)),d=c.multiply(i).multiply(2n),f=r.multiply(s.multiply(4n).subtract(c)).subtract(t.multiply(t).multiply(8n).multiply(o)),u=a.multiply(8n);return this.createPoint(d,f,u)}add(e){if(this.constructor!==e.constructor)throw new Error(`ProjectivePoint#add: this is ${this.constructor}, but rhs is ${e.constructor}`);const t=this,n=e;if(t.isZero())return n;if(n.isZero())return t;const r=t.x,i=t.y,o=t.z,a=n.x,s=n.y,c=n.z,d=s.multiply(o),f=i.multiply(c),u=a.multiply(o),l=r.multiply(c);if(u.equals(l)&&d.equals(f))return this.double();if(u.equals(l))return this.getZero();const h=d.subtract(f),p=u.subtract(l),b=p.multiply(p),y=b.multiply(p),g=l.multiply(b),w=o.multiply(c),m=h.multiply(h).multiply(w).subtract(y).subtract(g.multiply(2n)),v=p.multiply(m),x=h.multiply(g.subtract(m)).subtract(y.multiply(f)),E=y.multiply(w);return this.createPoint(v,x,E)}subtract(e){if(this.constructor!==e.constructor)throw new Error(`ProjectivePoint#subtract: this is ${this.constructor}, but rhs is ${e.constructor}`);return this.add(e.negate())}validateScalar(e){if("number"==typeof e&&(e=BigInt(e)),"bigint"!=typeof e||e<=0||e>cr.r)throw new Error(`Point#multiply: invalid scalar, expected positive integer < CURVE.r. Got: ${e}`);return e}multiplyUnsafe(e){let t=this.validateScalar(e),n=this.getZero(),r=this;for(;t>0n;)1n&t&&(n=n.add(r)),r=r.double(),t>>=1n;return n}multiply(e){let t=this.validateScalar(e),n=this.getZero(),r=this.getZero(),i=this,o=Er.ORDER;for(;o>0n;)1n&t?n=n.add(i):r=r.add(i),i=i.double(),t>>=1n,o>>=1n;return n}maxBits(){return this.C.MAX_BITS}precomputeWindow(e){const t=Math.ceil(this.maxBits()/e),n=2**(e-1);let r=[],i=this,o=i;for(let e=0;e<t;e++){o=i,r.push(o);for(let e=1;e<n;e++)o=o.add(i),r.push(o);i=o.double()}return r}calcMultiplyPrecomputes(e){if(this._MPRECOMPUTES)throw new Error("This point already has precomputes");this._MPRECOMPUTES=[e,this.normalizeZ(this.precomputeWindow(e))]}clearMultiplyPrecomputes(){this._MPRECOMPUTES=void 0}wNAF(e){let t,n;this._MPRECOMPUTES?[t,n]=this._MPRECOMPUTES:(t=1,n=this.precomputeWindow(t));let r=this.getZero(),i=this.getZero();const o=Math.ceil(this.maxBits()/t),a=2**(t-1),s=BigInt(2**t-1),c=2**t,d=BigInt(t);for(let t=0;t<o;t++){const o=t*a;let f=Number(e&s);if(e>>=d,f>a&&(f-=c,e+=1n),0===f)i=i.add(t%2?n[o].negate():n[o]);else{const e=n[o+Math.abs(f)-1];r=r.add(f<0?e.negate():e)}}return[r,i]}multiplyPrecomputed(e){return this.wNAF(this.validateScalar(e))[0]}}function Or(e){const{re:t,im:n}=e.reim();return BigInt(t%2n||0n===t&&n%2n)}function Hr(e){return Boolean(e.value%2n)}const Cr=(cr.P**2n-9n)/16n;function Pr(e){const t=new Ir(new Er(0n),new Er(240n)),n=new Ir(new Er(1012n),new Er(1012n)),r=new Ir(new Er(-2n),new Er(-1n));Array.isArray(e)&&(e=Ir.fromBigTuple(e));const i=e.pow(2n),o=r.multiply(i),a=o.add(o.pow(2n));let s=t.multiply(a).negate(),c=n.multiply(a.add(Ir.ONE));s.isZero()&&(s=r.multiply(t));let d=s.pow(3n),f=c.pow(3n).add(t.multiply(c).multiply(s.pow(2n))).add(n.multiply(d));const{success:u,sqrtCandidateOrGamma:l}=function(e,t){const n=t.pow(7n),r=e.multiply(n),i=r.multiply(n.multiply(t)).pow(Cr).multiply(r);let o=!1,a=i;return Wr.slice(0,4).forEach((n=>{const r=n.multiply(i);r.pow(2n).multiply(t).subtract(e).isZero()&&!o&&(o=!0,a=r)})),{success:o,sqrtCandidateOrGamma:a}}(f,d);let h;u&&(h=l);const p=l.multiply(e.pow(3n));f=o.pow(3n).multiply(f);let b=!1;if(Yr.forEach((e=>{const t=e.multiply(p);!t.pow(2n).multiply(d).subtract(f).isZero()||u||b||(h=t,b=!0)})),!u&&!b)throw new Error("Hash to Curve - Optimized SWU failure");return b&&(c=c.multiply(o)),Or(e)!==Or(h)&&(h=h.negate()),[c.div(s),h]}function Ur(e){const t=new Er(0x144698a3b8e9433d693a02c96d4982b0ea985383ee66a8d8e8981aefd881ac98936f8da0e0f97f5cf428082d584c1dn),n=new Er(0x12e2908d11688030018b12e8753eee3b2016c1f0f24f4070a0b9c14fcef35ef55a23215a316ceaa5d1cc48e98e172be0n),r=new Er(11n),i=(Er.ORDER-3n)/4n,o=r.negate().pow(3n).sqrt(),a=e.square(),s=r.multiply(a);let c=s.square().add(s);const d=c.add(Er.ONE).multiply(n),f=s.multiply(d);c=t.negate().multiply(c),c.isZero()&&(c=t.multiply(r));let u=c.square();const l=u.multiply(c);u=t.multiply(u);let h=d.square().add(u).multiply(d);u=n.multiply(l),h=h.add(u),u=h.multiply(l);const p=l.square().multiply(u).pow(i).multiply(u),b=p.multiply(o).multiply(a).multiply(e);let y,g;p.square().multiply(l).equals(h)?(y=d,g=p):(y=f,g=b);const w=g.negate(),m=Hr(e)==Hr(g)?g:w;return[y.div(c),m]}function Tr(e,t,n){const[r,i,o,a]=e.map((e=>e.reduce(((e,n)=>e.multiply(t).add(n)))));return t=r.div(i),n=n.multiply(o.div(a)),[t,n]}const Nr=(e,t)=>Tr(ei,e,t),Kr=(e,t)=>Tr(ti,e,t);const Rr=new Sr(Ir.ZERO,Ir.ONE,Ir.ZERO),Fr=new kr(Rr,Sr.ZERO),$r=new kr(Sr.ZERO,Rr),[qr,jr]=lr(kr,[Fr,$r]);const Dr=0x1a0111ea397fe699ec02408663d4de85aa0d857d89759ad4897d29650fb85f9b409427eb4f49fffd8bfd00000000aaacn,_r=0x6af0e0437ff400b6831e36d6bd17ffe48395dabc2d3435e77f76e17009241c5ee67992f72ec05f4c81084fbede3cc09n,zr=0x699be3b8c6870965e5bf892ad5d2cc7b0e85a117402dfd83b7f4a947e02d978498255a2aaec0ac627b5afbdf1bf1c90n,Mr=0x8157cd83046453f5dd0972b6e3949e4288020b5b8a9cc99ca07e27089a2ce2436d965026adad3ef7baba37f2183e9b5n,Zr=0xab1c2ffdd6c253ca155231eb3e71ba044fd562f6f72bc5bad5ec46a0b7a3b0247cf08ce6c6317f40edbc653a72dee17n,Gr=0xaa404866706722864480885d68ad0ccac1967c7544b447873cc37e0181271e006df72162a3d3e0287bf597fbf7f8fc1n,Vr=[0x1n,0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaaan].map((e=>new Er(e))),Wr=[[1n,0n],[_r,-_r],[0n,1n],[_r,_r],[-1n,0n],[-_r,_r],[0n,-1n],[-_r,-_r]].map((e=>Ir.fromBigTuple(e))),Yr=[[zr,Mr],[-Mr,zr],[Zr,Gr],[-Gr,Zr]].map((e=>Ir.fromBigTuple(e))),Jr=[[0x1n,0x0n],[0x0n,0x1a0111ea397fe699ec02408663d4de85aa0d857d89759ad4897d29650fb85f9b409427eb4f49fffd8bfd00000000aaacn],[0x00000000000000005f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffefffen,0x0n],[0x0n,0x1n],[0x1a0111ea397fe699ec02408663d4de85aa0d857d89759ad4897d29650fb85f9b409427eb4f49fffd8bfd00000000aaacn,0x0n],[0x0n,0x00000000000000005f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffefffen]].map((e=>Ir.fromBigTuple(e))),Xr=[[0x1n,0x0n],[0x1a0111ea397fe699ec02408663d4de85aa0d857d89759ad4897d29650fb85f9b409427eb4f49fffd8bfd00000000aaadn,0x0n],[0x1a0111ea397fe699ec02408663d4de85aa0d857d89759ad4897d29650fb85f9b409427eb4f49fffd8bfd00000000aaacn,0x0n],[0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaaan,0x0n],[0x00000000000000005f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffefffen,0x0n],[0x00000000000000005f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffeffffn,0x0n]].map((e=>Ir.fromBigTuple(e))),Qr=[[0x1n,0x0n],[0x1904d3bf02bb0667c231beb4202c0d1f0fd603fd3cbd5f4f7b2443d784bab9c4f67ea53d63e7813d8d0775ed92235fb8n,0x00fc3e2b36c4e03288e9e902231f9fb854a14787b6c7b36fec0c8ec971f63c5f282d5ac14d6c7ec22cf78a126ddc4af3n],[0x00000000000000005f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffeffffn,0x0n],[0x135203e60180a68ee2e9c448d77a2cd91c3dedd930b1cf60ef396489f61eb45e304466cf3e67fa0af1ee7b04121bdea2n,0x06af0e0437ff400b6831e36d6bd17ffe48395dabc2d3435e77f76e17009241c5ee67992f72ec05f4c81084fbede3cc09n],[0x00000000000000005f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffefffen,0x0n],[0x144e4211384586c16bd3ad4afa99cc9170df3560e77982d0db45f3536814f0bd5871c1908bd478cd1ee605167ff82995n,0x05b2cfd9013a5fd8df47fa6b48b1e045f39816240c0b8fee8beadf4d8e9c0566c63a3e6e257f87329b18fae980078116n],[0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaaan,0x0n],[0x00fc3e2b36c4e03288e9e902231f9fb854a14787b6c7b36fec0c8ec971f63c5f282d5ac14d6c7ec22cf78a126ddc4af3n,0x1904d3bf02bb0667c231beb4202c0d1f0fd603fd3cbd5f4f7b2443d784bab9c4f67ea53d63e7813d8d0775ed92235fb8n],[0x1a0111ea397fe699ec02408663d4de85aa0d857d89759ad4897d29650fb85f9b409427eb4f49fffd8bfd00000000aaacn,0x0n],[0x06af0e0437ff400b6831e36d6bd17ffe48395dabc2d3435e77f76e17009241c5ee67992f72ec05f4c81084fbede3cc09n,0x135203e60180a68ee2e9c448d77a2cd91c3dedd930b1cf60ef396489f61eb45e304466cf3e67fa0af1ee7b04121bdea2n],[0x1a0111ea397fe699ec02408663d4de85aa0d857d89759ad4897d29650fb85f9b409427eb4f49fffd8bfd00000000aaadn,0x0n],[0x05b2cfd9013a5fd8df47fa6b48b1e045f39816240c0b8fee8beadf4d8e9c0566c63a3e6e257f87329b18fae980078116n,0x144e4211384586c16bd3ad4afa99cc9170df3560e77982d0db45f3536814f0bd5871c1908bd478cd1ee605167ff82995n]].map((e=>Ir.fromBigTuple(e))),ei=[[[0x171d6541fa38ccfaed6dea691f5fb614cb14b4e7f4e810aa22d6108f142b85757098e38d0f671c7188e2aaaaaaaa5ed1n,0x0n],[0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71en,0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38dn],[0x0n,0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71an],[0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6n,0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6n]].map((e=>Ir.fromBigTuple(e))),[[0x0n,0x0n],[0x1n,0x0n],[0xcn,0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa9fn],[0x0n,0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa63n]].map((e=>Ir.fromBigTuple(e))),[[0x124c9ad43b6cf79bfbf7043de3811ad0761b0f37a1e26286b0e977c69aa274524e79097a56dc4bd9e1b371c71c718b10n,0x0n],[0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71cn,0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38fn],[0x0n,0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97ben],[0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706n,0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706n]].map((e=>Ir.fromBigTuple(e))),[[0x1n,0x0n],[0x12n,0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa99n],[0x0n,0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa9d3n],[0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fbn,0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fbn]].map((e=>Ir.fromBigTuple(e)))],ti=[[new Er(0x06e08c248e260e70bd1e962381edee3d31d79d7e22c837bc23c0bf1bc24c6b68c24b1b80b64d391fa9c8ba2e8ba2d229n),new Er(0x10321da079ce07e272d8ec09d2565b0dfa7dccdde6787f96d50af36003b14866f69b771f8c285decca67df3f1605fb7bn),new Er(0x169b1f8e1bcfa7c42e0c37515d138f22dd2ecb803a0c5c99676314baf4bb1b7fa3190b2edc0327797f241067be390c9en),new Er(0x080d3cf1f9a78fc47b90b33563be990dc43b756ce79f5574a2c596c928c5d1de4fa295f296b74e956d71986a8497e317n),new Er(0x17b81e7701abdbe2e8743884d1117e53356de5ab275b4db1a682c62ef0f2753339b7c8f8c8f475af9ccb5618e3f0c88en),new Er(0x0d6ed6553fe44d296a3726c38ae652bfb11586264f0f8ce19008e218f9c86b2a8da25128c1052ecaddd7f225a139ed84n),new Er(0x1630c3250d7313ff01d1201bf7a74ab5db3cb17dd952799b9ed3ab9097e68f90a0870d2dcae73d19cd13c1c66f652983n),new Er(0x0e99726a3199f4436642b4b3e4118e5499db995a1257fb3f086eeb65982fac18985a286f301e77c451154ce9ac8895d9n),new Er(0x1778e7166fcc6db74e0609d307e55412d7f5e4656a8dbf25f1b33289f1b330835336e25ce3107193c5b388641d9b6861n),new Er(0x0d54005db97678ec1d1048c5d10a9a1bce032473295983e56878e501ec68e25c958c3e3d2a09729fe0179f9dac9edcb0n),new Er(0x17294ed3e943ab2f0588bab22147a81c7c17e75b2f6a8417f565e33c70d1e86b4838f2a6f318c356e834eef1b3cb83bbn),new Er(0x11a05f2b1e833340b809101dd99815856b303e88a2d7005ff2627b56cdb4e2c85610c2d5f2e62d6eaeac1662734649b7n)],[new Er(0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001n),new Er(0x095fc13ab9e92ad4476d6e3eb3a56680f682b4ee96f7d03776df533978f31c1593174e4b4b7865002d6384d168ecdd0an),new Er(0x0a10ecf6ada54f825e920b3dafc7a3cce07f8d1d7161366b74100da67f39883503826692abba43704776ec3a79a1d641n),new Er(0x14a7ac2a9d64a8b230b3f5b074cf01996e7f63c21bca68a81996e1cdf9822c580fa5b9489d11e2d311f7d99bbdcc5a5en),new Er(0x0772caacf16936190f3e0c63e0596721570f5799af53a1894e2e073062aede9cea73b3538f0de06cec2574496ee84a3an),new Er(0x0e7355f8e4e667b955390f7f0506c6e9395735e9ce9cad4d0a43bcef24b8982f7400d24bc4228f11c02df9a29f6304a5n),new Er(0x13a8e162022914a80a6f1d5f43e7a07dffdfc759a12062bb8d6b44e833b306da9bd29ba81f35781d539d395b3532a21en),new Er(0x03425581a58ae2fec83aafef7c40eb545b08243f16b1655154cca8abc28d6fd04976d5243eecf5c4130de8938dc62cd8n),new Er(0x0b2962fe57a3225e8137e629bff2991f6f89416f5a718cd1fca64e00b11aceacd6a3d0967c94fedcfcc239ba5cb83e19n),new Er(0x12561a5deb559c4348b4711298e536367041e8ca0cf0800c0126c2588c48bf5713daa8846cb026e9e5c8276ec82b3bffn),new Er(0x08ca8d548cff19ae18b2e62f4bd3fa6f01d5ef4ba35b48ba9c9588617fc8ac62b558d681be343df8993cf9fa40d21b1cn)],[new Er(0x15e6be4e990f03ce4ea50b3b42df2eb5cb181d8f84965a3957add4fa95af01b2b665027efec01c7704b456be69c8b604n),new Er(0x05c129645e44cf1102a159f748c4a3fc5e673d81d7e86568d9ab0f5d396a7ce46ba1049b6579afb7866b1e715475224bn),new Er(0x0245a394ad1eca9b72fc00ae7be315dc757b3b080d4c158013e6632d3c40659cc6cf90ad1c232a6442d9d3f5db980133n),new Er(0x0b182cac101b9399d155096004f53f447aa7b12a3426b08ec02710e807b4633f06c851c1919211f20d4c04f00b971ef8n),new Er(0x18b46a908f36f6deb918c143fed2edcc523559b8aaf0c2462e6bfe7f911f643249d9cdf41b44d606ce07c8a4d0074d8en),new Er(0x19713e47937cd1be0dfd0b8f1d43fb93cd2fcbcb6caf493fd1183e416389e61031bf3a5cce3fbafce813711ad011c132n),new Er(0x0e1bba7a1186bdb5223abde7ada14a23c42a0ca7915af6fe06985e7ed1e4d43b9b3f7055dd4eba6f2bafaaebca731c30n),new Er(0x09fc4018bd96684be88c9e221e4da1bb8f3abd16679dc26c1e8b6e6a1f20cabe69d65201c78607a360370e577bdba587n),new Er(0x0987c8d5333ab86fde9926bd2ca6c674170a05bfe3bdd81ffd038da6c26c842642f64550fedfe935a15e4ca31870fb29n),new Er(0x04ab0b9bcfac1bbcb2c977d027796b3ce75bb8ca2be184cb5231413c4d634f3747a87ac2460f415ec961f8855fe9d6f2n),new Er(0x16603fca40634b6a2211e11db8f0a6a074a7d0d4afadb7bd76505c3d3ad5544e203f6326c95a807299b23ab13633a5f0n),new Er(0x08cc03fdefe0ff135caf4fe2a21529c4195536fbe3ce50b879833fd221351adc2ee7f8dc099040a841b6daecf2e8fedbn),new Er(0x01f86376e8981c217898751ad8746757d42aa7b90eeb791c09e4a3ec03251cf9de405aba9ec61deca6355c77b0e5f4cbn),new Er(0x00cc786baa966e66f4a384c86a3b49942552e2d658a31ce2c344be4b91400da7d26d521628b00523b8dfe240c72de1f6n),new Er(0x134996a104ee5811d51036d776fb46831223e96c254f383d0f906343eb67ad34d6c56711962fa8bfe097e75a2e41c696n),new Er(0x090d97c81ba24ee0259d1f094980dcfa11ad138e48a869522b52af6c956543d3cd0c7aee9b3ba3c2be9845719707bb33n)],[new Er(0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001n),new Er(0x0e0fa1d816ddc03e6b24255e0d7819c171c40f65e273b853324efcd6356caa205ca2f570f13497804415473a1d634b8fn),new Er(0x02660400eb2e4f3b628bdd0d53cd76f2bf565b94e72927c1cb748df27942480e420517bd8714cc80d1fadc1326ed06f7n),new Er(0x0ad6b9514c767fe3c3613144b45f1496543346d98adf02267d5ceef9a00d9b8693000763e3b90ac11e99b138573345ccn),new Er(0x0accbb67481d033ff5852c1e48c50c477f94ff8aefce42d28c0f9a88cea7913516f968986f7ebbea9684b529e2561092n),new Er(0x04d2f259eea405bd48f010a01ad2911d9c6dd039bb61a6290e591b36e636a5c871a5c29f4f83060400f8b49cba8f6aa8n),new Er(0x167a55cda70a6e1cea820597d94a84903216f763e13d87bb5308592e7ea7d4fbc7385ea3d529b35e346ef48bb8913f55n),new Er(0x1866c8ed336c61231a1be54fd1d74cc4f9fb0ce4c6af5920abc5750c4bf39b4852cfe2f7bb9248836b233d9d55535d4an),new Er(0x16a3ef08be3ea7ea03bcddfabba6ff6ee5a4375efa1f4fd7feb34fd206357132b920f5b00801dee460ee415a15812ed9n),new Er(0x166007c08a99db2fc3ba8734ace9824b5eecfdfa8d0cf8ef5dd365bc400a0051d5fa9c01a58b1fb93d1a1399126a775cn),new Er(0x08d9e5297186db2d9fb266eaac783182b70152c65550d881c5ecd87b6f0f5a6449f38db9dfa9cce202c6477faaf9b7acn),new Er(0x0be0e079545f43e4b00cc912f8228ddcc6d19c9f0f69bbb0542eda0fc9dec916a20b15dc0fd2ededda39142311a5001dn),new Er(0x16b7d288798e5395f20d23bf89edb4d1d115c5dbddbcd30e123da489e726af41727364f2c28297ada8d26d98445f5416n),new Er(0x058df3306640da276faaae7d6e8eb15778c4855551ae7f310c35a5dd279cd2eca6757cd636f96f891e2538b53dbf67f2n),new Er(0x1962d75c2381201e1a0cbd6c43c348b885c84ff731c4d59ca4a10356f453e01f78a4260763529e3532f6102c2e49a03dn),new Er(0x16112c4c3a9c98b252181140fad0eae9601a6de578980be6eec3232b5be72e7a07f3688ef60c206d01479253b03663c1n)]],ni=2n**381n,ri=2n*ni,ii=2n*ri,oi=48;const ai=function(e,t){let n=t;return n.outputLen=e,n}(32,(async e=>{if(ci.web){const t=await ci.web.subtle.digest("SHA-256",e.buffer);return new Uint8Array(t)}if(ci.node)return Uint8Array.from(ci.node.createHash("sha256").update(e).digest());throw new Error("The environment doesn't have sha256 function")})),si={DST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",p:cr.P,m:2,k:128,expand:!0,hash:ai};const ci={node:sr,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0},di={hashToField:gi,expandMessageXMD:yi,hashToPrivateKey:e=>{if((e=ui(e)).length<40||e.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");const t=fr(vr(e),cr.r);if(0n===t||1n===t)throw new Error("Invalid private key");return function(e){const t=32,n=e.toString(16).padStart(2*t,"0");return yr(n)}(t)},stringToBytes:li,bytesToHex:mr,hexToBytes:yr,randomBytes:(e=32)=>{if(ci.web)return ci.web.getRandomValues(new Uint8Array(e));if(ci.node){const{randomBytes:t}=ci.node;return new Uint8Array(t(e).buffer)}throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>di.hashToPrivateKey(di.randomBytes(40)),sha256:ai,mod:fr,getDSTLabel:()=>si.DST,setDSTLabel(e){if("string"!=typeof e||e.length>2048||0===e.length)throw new TypeError("Invalid DST");si.DST=e}};function fi(e,t){if("bigint"!=typeof e||e<0n)throw new Error("Expected valid bigint");if("number"!=typeof t)throw new TypeError("Expected valid padding");return e.toString(16).padStart(2*t,"0")}function ui(e){return e instanceof Uint8Array?Uint8Array.from(e):yr(e)}function li(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}function hi(e){let t=0n;for(let n=0;n<e.length;n++)t<<=8n,t+=BigInt(e[n]);return t}function pi(e,t){if(e<0||e>=1<<8*t)throw new Error(`bad I2OSP call: value=${e} length=${t}`);const n=Array.from({length:t}).fill(0);for(let r=t-1;r>=0;r--)n[r]=255&e,e>>>=8;return new Uint8Array(n)}function bi(e,t){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e[r]^t[r];return n}async function yi(e,t,n,r=di.sha256){t.length>255&&(t=await r(xr(li("H2C-OVERSIZE-DST-"),t)));const i=r.outputLen,o=2*i,a=Math.ceil(n/i);if(a>255)throw new Error("Invalid xmd length");const s=xr(t,pi(t.length,1)),c=pi(0,o),d=pi(n,2),f=new Array(a),u=await r(xr(c,e,d,pi(0,1),s));f[0]=await r(xr(u,pi(1,1),s));for(let e=1;e<=a;e++){const t=[bi(u,f[e-1]),pi(e+1,1),s];f[e]=await r(xr(...t))}return xr(...f).slice(0,n)}async function gi(e,t,n={}){const r={...si,...n},i=r.p.toString(2).length,o=Math.ceil((i+r.k)/8),a=t*r.m*o,s=li(r.DST);let c=e;r.expand&&(c=await yi(e,s,a,r.hash));const d=new Array(t);for(let e=0;e<t;e++){const t=new Array(r.m);for(let n=0;n<r.m;n++){const i=o*(n+e*r.m),a=c.subarray(i,i+o);t[n]=fr(hi(a),r.p)}d[e]=t}return d}function wi(e){let t;if(e instanceof Uint8Array&&32===e.length)t=vr(e);else if("string"==typeof e&&64===e.length)t=BigInt(`0x${e}`);else if("number"==typeof e&&e>0&&Number.isSafeInteger(e))t=BigInt(e);else{if(!("bigint"==typeof e&&e>0n))throw new TypeError("Expected valid private key");t=e}if(t=fr(t,cr.r),!(0<(n=t)&&n<cr.r))throw new Error("Private key must be 0 < key < CURVE.r");var n;return t}function mi(e,t){if(!(e instanceof t))throw new Error("Expected Fp* argument, not number/bigint")}class vi extends Lr{constructor(e,t,n=Er.ONE){super(e,t,n,Er),mi(e,Er),mi(t,Er),mi(n,Er)}static fromHex(e){let t;if(48===(e=ui(e)).length){const{P:n}=cr,r=vr(e);if(1n===fr(r,ii)/ri)return this.ZERO;const i=new Er(fr(r,ni));let o=i.pow(3n).add(new Er(cr.b)).sqrt();if(!o)throw new Error("Invalid compressed G1 point");const a=fr(r,ri)/ni;2n*o.value/n!==a&&(o=o.negate()),t=new vi(i,o)}else{if(96!==e.length)throw new Error("Invalid point G1, expected 48/96 bytes");{if(0!=(64&e[0]))return vi.ZERO;const n=vr(e.slice(0,oi)),r=vr(e.slice(oi));t=new vi(new Er(n),new Er(r))}}return t.assertValidity(),t}static async hashToCurve(e,t){e=ui(e);const[[n],[r]]=await gi(e,2,{m:1,...t}),[i,o]=Ur(new Er(n)),[a,s]=Ur(new Er(r)),[c,d]=new vi(i,o).add(new vi(a,s)).toAffine(),[f,u]=Kr(c,d);return new vi(f,u).clearCofactor()}static async encodeToCurve(e,t){e=ui(e);const n=await gi(e,1,{m:1,...t}),[r,i]=Ur(new Er(n[0][0])),[o,a]=Kr(r,i);return new vi(o,a).clearCofactor()}static fromPrivateKey(e){return this.BASE.multiplyPrecomputed(wi(e))}toRawBytes(e=!1){return yr(this.toHex(e))}toHex(e=!1){if(this.assertValidity(),e){const{P:e}=cr;let t;if(this.isZero())t=ii+ri;else{const[n,r]=this.toAffine(),i=2n*r.value/e;t=n.value+i*ni+ii}return fi(t,oi)}if(this.isZero())return"4".padEnd(192,"0");{const[e,t]=this.toAffine();return fi(e.value,oi)+fi(t.value,oi)}}assertValidity(){if(this.isZero())return this;if(!this.isOnCurve())throw new Error("Invalid G1 point: not on curve Fp");if(!this.isTorsionFree())throw new Error("Invalid G1 point: must be of prime-order subgroup");return this}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}millerLoop(e){return function(e,t){const n=t[0].value,r=t[1].value;let i=kr.ONE;for(let t=0,o=dr-2;o>=0;o--,t++){const a=e[t];if(i=i.multiplyBy014(a[0],a[1].multiply(n),a[2].multiply(r)),pr(cr.x,o)){t+=1;const o=e[t];i=i.multiplyBy014(o[0],o[1].multiply(n),o[2].multiply(r))}0!==o&&(i=i.square())}return i.conjugate()}(e.pairingPrecomputes(),this.toAffine())}clearCofactor(){return this.mulCurveMinusX().add(this)}isOnCurve(){const e=new Er(cr.b),{x:t,y:n,z:r}=this,i=n.pow(2n).multiply(r).subtract(t.pow(3n)),o=e.multiply(r.pow(3n));return i.subtract(o).isZero()}sigma(){const[e,t]=this.toAffine();return new vi(e.multiply(0x1a0111ea397fe699ec02408663d4de85aa0d857d89759ad4897d29650fb85f9b409427eb4f49fffd8bfd00000000aaacn),t)}phi(){return new vi(this.x.multiply(0x5f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffefffen),this.y,this.z)}mulCurveX(){return this.multiplyUnsafe(cr.x).negate()}mulCurveMinusX(){return this.multiplyUnsafe(cr.x)}isTorsionFree(){return this.mulCurveX().mulCurveMinusX().equals(this.phi())}}vi.BASE=new vi(new Er(cr.Gx),new Er(cr.Gy),Er.ONE),vi.ZERO=new vi(Er.ONE,Er.ONE,Er.ZERO);class xi extends Lr{constructor(e,t,n=Ir.ONE){super(e,t,n,Ir),mi(e,Ir),mi(t,Ir),mi(n,Ir)}static async hashToCurve(e,t){e=ui(e);const n=await gi(e,2,t),[r,i]=Pr(Ir.fromBigTuple(n[0])),[o,a]=Pr(Ir.fromBigTuple(n[1])),[s,c]=new xi(r,i).add(new xi(o,a)).toAffine(),[d,f]=Nr(s,c);return new xi(d,f).clearCofactor()}static async encodeToCurve(e,t){e=ui(e);const n=await gi(e,1,t),[r,i]=Pr(Ir.fromBigTuple(n[0])),[o,a]=Nr(r,i);return new xi(o,a).clearCofactor()}static fromSignature(e){e=ui(e);const{P:t}=cr,n=e.length/2;if(48!==n&&96!==n)throw new Error("Invalid compressed signature length, must be 96 or 192");const r=vr(e.slice(0,n)),i=vr(e.slice(n));if(1n===fr(r,ii)/ri)return this.ZERO;const o=new Er(r%ni),a=new Er(i),s=new Ir(a,o);let c=s.pow(3n).add(Ir.fromBigTuple(cr.b2)).sqrt();if(!c)throw new Error("Failed to find a square root");const{re:d,im:f}=c.reim(),u=r%ri/ni;(f>0n&&2n*f/t!==u||0n===f&&2n*d/t!==u)&&(c=c.multiply(-1n));const l=new xi(s,c,Ir.ONE);return l.assertValidity(),l}static fromHex(e){const t=224&(e=ui(e))[0];if(32===t||96===t||224===t)throw new Error("Invalid encoding flag: "+t);const n=128&t,r=64&t,i=32&t;let o;if(96===e.length&&n){const{P:t,b2:n}=cr,o=Ir.fromBigTuple(n);if(e[0]=31&e[0],r){if(e.reduce(((e,t)=>0!==e?t+1:t),0)>0)throw new Error("Invalid compressed G2 point");return xi.ZERO}const a=vr(e.slice(0,oi)),s=vr(e.slice(oi)),c=new Ir(new Er(s),new Er(a));let d=c.pow(3n).add(o).sqrt();if(!d)throw new Error("Invalid compressed G2 point");const f=0n===d.c1.value?2n*d.c0.value/t:2n*d.c1.value/t?1n:0n;return d=i>0&&f>0?d:d.negate(),new xi(c,d)}if(192!==e.length||n)throw new Error("Invalid point G2, expected 96/192 bytes");{if(0!=(64&e[0]))return xi.ZERO;const t=vr(e.slice(0,oi)),n=vr(e.slice(oi,96)),r=vr(e.slice(96,144)),i=vr(e.slice(144));o=new xi(Ir.fromBigTuple([n,t]),Ir.fromBigTuple([i,r]))}return o.assertValidity(),o}static fromPrivateKey(e){return this.BASE.multiplyPrecomputed(wi(e))}toSignature(){if(this.equals(xi.ZERO)){return yr(fi(ii+ri,oi)+fi(0n,oi))}const[{re:e,im:t},{re:n,im:r}]=this.toAffine().map((e=>e.reim())),i=e;return yr(fi(t+(r>0n?2n*r:2n*n)/cr.P*ni+ii,oi)+fi(i,oi))}toRawBytes(e=!1){return yr(this.toHex(e))}toHex(e=!1){if(this.assertValidity(),e){const{P:e}=cr;let t=0n,n=0n;if(this.isZero())t=ii+ri;else{const[r,i]=this.toAffine(),o=0n===i.c1.value?2n*i.c0.value/e:2n*i.c1.value/e?1n:0n;t=r.c1.value+o*ni+ii,n=r.c0.value}return fi(t,oi)+fi(n,oi)}{if(this.equals(xi.ZERO))return"4".padEnd(384,"0");const[{re:e,im:t},{re:n,im:r}]=this.toAffine().map((e=>e.reim()));return fi(t,oi)+fi(e,oi)+fi(r,oi)+fi(n,oi)}}assertValidity(){if(this.isZero())return this;if(!this.isOnCurve())throw new Error("Invalid G2 point: not on curve Fp2");if(!this.isTorsionFree())throw new Error("Invalid G2 point: must be of prime-order subgroup");return this}psi(){return this.fromAffineTuple(function(e,t){return[qr.multiplyByFp2(e).frobeniusMap(1).multiply(Fr).c0.c0,jr.multiplyByFp2(t).frobeniusMap(1).multiply($r).c0.c0]}(...this.toAffine()))}psi2(){return this.fromAffineTuple(function(e,t){return[e.multiply(Dr),t.negate()]}(...this.toAffine()))}mulCurveX(){return this.multiplyUnsafe(cr.x).negate()}clearCofactor(){const e=this;let t=e.mulCurveX(),n=e.psi(),r=e.double();r=r.psi2(),r=r.subtract(n),n=t.add(n),n=n.mulCurveX(),r=r.add(n),r=r.subtract(t);return r.subtract(e)}isOnCurve(){const e=Ir.fromBigTuple(cr.b2),{x:t,y:n,z:r}=this,i=n.pow(2n).multiply(r).subtract(t.pow(3n)),o=e.multiply(r.pow(3n));return i.subtract(o).isZero()}isTorsionFree(){return this.mulCurveX().equals(this.psi())}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}clearPairingPrecomputes(){this._PPRECOMPUTES=void 0}pairingPrecomputes(){return this._PPRECOMPUTES||(this._PPRECOMPUTES=function(e,t){const n=e,r=t;let i=n,o=r,a=Ir.ONE,s=[];for(let e=dr-2;e>=0;e--){let t=o.square(),c=a.square(),d=c.multiply(3n).multiplyByB(),f=d.multiply(3n),u=o.add(a).square().subtract(c).subtract(t);if(s.push([d.subtract(t),i.square().multiply(3n),u.negate()]),i=t.subtract(f).multiply(i).multiply(o).div(2n),o=t.add(f).div(2n).square().subtract(d.square().multiply(3n)),a=t.multiply(u),pr(cr.x,e)){let e=o.subtract(r.multiply(a)),t=i.subtract(n.multiply(a));s.push([e.multiply(n).subtract(t.multiply(r)),e.negate(),t]);let c=t.square(),d=c.multiply(t),f=c.multiply(i),u=d.subtract(f.multiply(2n)).add(e.square().multiply(a));i=t.multiply(u),o=f.subtract(u).multiply(e).subtract(d.multiply(o)),a=a.multiply(d)}}return s}(...this.toAffine())),this._PPRECOMPUTES}}async function Ei(e){return e instanceof xi?e:xi.hashToCurve(e)}function Bi(e){return vi.fromPrivateKey(e).toRawBytes(!0)}xi.BASE=new xi(Ir.fromBigTuple(cr.G2x),Ir.fromBigTuple(cr.G2y),Ir.ONE),xi.ZERO=new xi(Ir.ONE,Ir.ONE,Ir.ZERO),vi.BASE.calcMultiplyPrecomputes(4);const Ai=32,Ii=0,Si=4294967295,ki="bip32:44'",Li=/^\d+$/u,Oi=/^bip32:\d+'?$/u,Hi=/^slip10:\d+'?$/u,Ci=/^cip3:\d+'?$/u,Pi=/^bip39:([a-z]+){1}( [a-z]+){11,23}$/u,Ui=2147483648;function Ti(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function Ni(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function Ki(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");Ti(e.outputLen),Ti(e.blockLen)}function Ri(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Fi(e,t){Ni(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const $i="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,qi=e=>e instanceof Uint8Array,ji=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Di=(e,t)=>e<<32-t|e>>>t;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function _i(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function zi(e){if("string"==typeof e&&(e=_i(e)),!qi(e))throw new Error("expected Uint8Array, got "+typeof e);return e}function Mi(...e){const t=new Uint8Array(e.reduce(((e,t)=>e+t.length),0));let n=0;return e.forEach((e=>{if(!qi(e))throw new Error("Uint8Array expected");t.set(e,n),n+=e.length})),t}class Zi{clone(){return this._cloneInto()}}function Gi(e){const t=t=>e().update(zi(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Vi(e=32){if($i&&"function"==typeof $i.getRandomValues)return $i.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}class Wi extends Zi{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=ji(this.buffer)}update(e){Ri(this);const{view:t,buffer:n,blockLen:r}=this,i=(e=zi(e)).length;for(let o=0;o<i;){const a=Math.min(r-this.pos,i-o);if(a!==r)n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===r&&(this.process(t,0),this.pos=0);else{const t=ji(e);for(;r<=i-o;o+=r)this.process(t,o)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){Ri(this),Fi(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>r-o&&(this.process(n,0),o=0);for(let e=o;e<r;e++)t[e]=0;!function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),a=Number(n>>i&o),s=Number(n&o),c=r?4:0,d=r?0:4;e.setUint32(t+c,a,r),e.setUint32(t+d,s,r)}(n,r-8,BigInt(8*this.length),i),this.process(n,0);const a=ji(e),s=this.outputLen;if(s%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=s/4,d=this.get();if(c>d.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<c;e++)a.setUint32(4*e,d[e],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:o,pos:a}=this;return e.length=r,e.pos=a,e.finished=i,e.destroyed=o,r%t&&e.buffer.set(n),e}}const Yi=(e,t,n)=>e&t^e&n^t&n,Ji=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Xi=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Qi=new Uint32Array(64);class eo extends Wi{constructor(){super(64,32,8,!1),this.A=0|Xi[0],this.B=0|Xi[1],this.C=0|Xi[2],this.D=0|Xi[3],this.E=0|Xi[4],this.F=0|Xi[5],this.G=0|Xi[6],this.H=0|Xi[7]}get(){const{A:e,B:t,C:n,D:r,E:i,F:o,G:a,H:s}=this;return[e,t,n,r,i,o,a,s]}set(e,t,n,r,i,o,a,s){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|o,this.G=0|a,this.H=0|s}process(e,t){for(let n=0;n<16;n++,t+=4)Qi[n]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=Qi[e-15],n=Qi[e-2],r=Di(t,7)^Di(t,18)^t>>>3,i=Di(n,17)^Di(n,19)^n>>>10;Qi[e]=i+Qi[e-7]+r+Qi[e-16]|0}let{A:n,B:r,C:i,D:o,E:a,F:s,G:c,H:d}=this;for(let e=0;e<64;e++){const t=d+(Di(a,6)^Di(a,11)^Di(a,25))+((f=a)&s^~f&c)+Ji[e]+Qi[e]|0,u=(Di(n,2)^Di(n,13)^Di(n,22))+Yi(n,r,i)|0;d=c,c=s,s=a,a=o+t|0,o=i,i=r,r=n,n=t+u|0}var f;n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,s=s+this.F|0,c=c+this.G|0,d=d+this.H|0,this.set(n,r,i,o,a,s,c,d)}roundClean(){Qi.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const to=Gi((()=>new eo)),no=(BigInt(0),BigInt(1)),ro=BigInt(2),io=e=>e instanceof Uint8Array,oo=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function ao(e){if(!io(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=oo[e[n]];return t}function so(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}function co(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let t=0;t<n.length;t++){const r=2*t,i=e.slice(r,r+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");n[t]=o}return n}function fo(e){return so(ao(e))}function uo(e){if(!io(e))throw new Error("Uint8Array expected");return so(ao(Uint8Array.from(e).reverse()))}function lo(e,t){return co(e.toString(16).padStart(2*t,"0"))}function ho(e,t){return lo(e,t).reverse()}function po(e,t,n){let r;if("string"==typeof t)try{r=co(t)}catch(n){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${n}`)}else{if(!io(t))throw new Error(`${e} must be hex string or Uint8Array`);r=Uint8Array.from(t)}const i=r.length;if("number"==typeof n&&i!==n)throw new Error(`${e} expected ${n} bytes, got ${i}`);return r}function bo(...e){const t=new Uint8Array(e.reduce(((e,t)=>e+t.length),0));let n=0;return e.forEach((e=>{if(!io(e))throw new Error("Uint8Array expected");t.set(e,n),n+=e.length})),t}const yo=e=>(ro<<BigInt(e-1))-no,go=e=>new Uint8Array(e),wo=e=>Uint8Array.from(e);function mo(e,t,n){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof n)throw new Error("hmacFn must be a function");let r=go(e),i=go(e),o=0;const a=()=>{r.fill(1),i.fill(0),o=0},s=(...e)=>n(i,r,...e),c=(e=go())=>{i=s(wo([0]),e),r=s(),0!==e.length&&(i=s(wo([1]),e),r=s())},d=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){r=s();const t=r.slice();n.push(t),e+=r.length}return bo(...n)};return(e,t)=>{let n;for(a(),c(e);!(n=t(d()));)c();return a(),n}}const vo={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function xo(e,t,n={}){const r=(t,n,r)=>{const i=vo[n];if("function"!=typeof i)throw new Error(`Invalid validator "${n}", expected function`);const o=e[t];if(!(r&&void 0===o||i(o,e)))throw new Error(`Invalid param ${String(t)}=${o} (${typeof o}), expected ${n}`)};for(const[e,n]of Object.entries(t))r(e,n,!1);for(const[e,t]of Object.entries(n))r(e,t,!0);return e}const Eo=BigInt(0),Bo=BigInt(1),Ao=BigInt(2),Io=BigInt(3),So=BigInt(4),ko=BigInt(5),Lo=BigInt(8);BigInt(9),BigInt(16);function Oo(e,t){const n=e%t;return n>=Eo?n:t+n}function Ho(e,t,n){if(n<=Eo||t<Eo)throw new Error("Expected power/modulo > 0");if(n===Bo)return Eo;let r=Bo;for(;t>Eo;)t&Bo&&(r=r*e%n),e=e*e%n,t>>=Bo;return r}function Co(e,t,n){let r=e;for(;t-- >Eo;)r*=r,r%=n;return r}function Po(e,t){if(e===Eo||t<=Eo)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=Oo(e,t),r=t,i=Eo,o=Bo,a=Bo,s=Eo;for(;n!==Eo;){const e=r/n,t=r%n,c=i-a*e,d=o-s*e;r=n,n=t,i=a,o=s,a=c,s=d}if(r!==Bo)throw new Error("invert: does not exist");return Oo(i,t)}function Uo(e){if(e%So===Io){const t=(e+Bo)/So;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}if(e%Lo===ko){const t=(e-ko)/Lo;return function(e,n){const r=e.mul(n,Ao),i=e.pow(r,t),o=e.mul(n,i),a=e.mul(e.mul(o,Ao),i),s=e.mul(o,e.sub(a,e.ONE));if(!e.eql(e.sqr(s),n))throw new Error("Cannot find square root");return s}}return function(e){const t=(e-Bo)/Ao;let n,r,i;for(n=e-Bo,r=0;n%Ao===Eo;n/=Ao,r++);for(i=Ao;i<e&&Ho(i,t,e)!==e-Bo;i++);if(1===r){const t=(e+Bo)/So;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}const o=(n+Bo)/Ao;return function(e,a){if(e.pow(a,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let s=r,c=e.pow(e.mul(e.ONE,i),n),d=e.pow(a,o),f=e.pow(a,n);for(;!e.eql(f,e.ONE);){if(e.eql(f,e.ZERO))return e.ZERO;let t=1;for(let n=e.sqr(f);t<s&&!e.eql(n,e.ONE);t++)n=e.sqr(n);const n=e.pow(c,Bo<<BigInt(s-t-1));c=e.sqr(n),d=e.mul(d,n),f=e.mul(f,c),s=t}return d}}(e)}const To=(e,t)=>(Oo(e,t)&Bo)===Bo,No=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Ko(e,t){const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function Ro(e,t,n=!1,r={}){if(e<=Eo)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:i,nByteLength:o}=Ko(e,t);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const a=Uo(e),s=Object.freeze({ORDER:e,BITS:i,BYTES:o,MASK:yo(i),ZERO:Eo,ONE:Bo,create:t=>Oo(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("Invalid field element: expected bigint, got "+typeof t);return Eo<=t&&t<e},is0:e=>e===Eo,isOdd:e=>(e&Bo)===Bo,neg:t=>Oo(-t,e),eql:(e,t)=>e===t,sqr:t=>Oo(t*t,e),add:(t,n)=>Oo(t+n,e),sub:(t,n)=>Oo(t-n,e),mul:(t,n)=>Oo(t*n,e),pow:(e,t)=>function(e,t,n){if(n<Eo)throw new Error("Expected power > 0");if(n===Eo)return e.ONE;if(n===Bo)return t;let r=e.ONE,i=t;for(;n>Eo;)n&Bo&&(r=e.mul(r,i)),i=e.sqr(i),n>>=Bo;return r}(s,e,t),div:(t,n)=>Oo(t*Po(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>Po(t,e),sqrt:r.sqrt||(e=>a(s,e)),invertBatch:e=>function(e,t){const n=new Array(t.length),r=t.reduce(((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r))),e.ONE),i=e.inv(r);return t.reduceRight(((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r))),i),n}(s,e),cmov:(e,t,n)=>n?t:e,toBytes:e=>n?ho(e,o):lo(e,o),fromBytes:e=>{if(e.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${e.length}`);return n?uo(e):fo(e)}});return Object.freeze(s)}function Fo(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function $o(e){const t=Fo(e);return t+Math.ceil(t/2)}class qo extends Zi{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,Ki(e);const n=zi(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,i=new Uint8Array(r);i.set(n.length>r?e.create().update(n).digest():n);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),i.fill(0)}update(e){return Ri(this),this.iHash.update(e),this}digestInto(e){Ri(this),Ni(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:o,outputLen:a}=this;return e.finished=r,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const jo=(e,t,n)=>new qo(e,t).update(n).digest();jo.create=(e,t)=>new qo(e,t);const Do=BigInt(0),_o=BigInt(1);function zo(e,t){const n=(e,t)=>{const n=t.negate();return e?n:t},r=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:n,unsafeLadder(t,n){let r=e.ZERO,i=t;for(;n>Do;)n&_o&&(r=r.add(i)),i=i.double(),n>>=_o;return r},precomputeWindow(e,t){const{windows:n,windowSize:i}=r(t),o=[];let a=e,s=a;for(let e=0;e<n;e++){s=a,o.push(s);for(let e=1;e<i;e++)s=s.add(a),o.push(s);a=s.double()}return o},wNAF(t,i,o){const{windows:a,windowSize:s}=r(t);let c=e.ZERO,d=e.BASE;const f=BigInt(2**t-1),u=2**t,l=BigInt(t);for(let e=0;e<a;e++){const t=e*s;let r=Number(o&f);o>>=l,r>s&&(r-=u,o+=_o);const a=t,h=t+Math.abs(r)-1,p=e%2!=0,b=r<0;0===r?d=d.add(n(p,i[a])):c=c.add(n(b,i[h]))}return{p:c,f:d}},wNAFCached(e,t,n,r){const i=e._WINDOW_SIZE||1;let o=t.get(e);return o||(o=this.precomputeWindow(e,i),1!==i&&t.set(e,r(o))),this.wNAF(i,o,n)}}}function Mo(e){return function(e){const t=No.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});xo(e,t)}(e.Fp),xo(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Ko(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}const{bytesToNumberBE:Zo,hexToBytes:Go}=e,Vo={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(e){const{Err:t}=Vo;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");const n=e[1],r=e.subarray(2,n+2);if(!n||r.length!==n)throw new t("Invalid signature integer: wrong length");if(128&r[0])throw new t("Invalid signature integer: negative");if(0===r[0]&&!(128&r[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:Zo(r),l:e.subarray(n+2)}},toSig(e){const{Err:t}=Vo,n="string"==typeof e?Go(e):e;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||48!=n[0])throw new t("Invalid signature tag");if(n[1]!==r-2)throw new t("Invalid signature: incorrect length");const{d:i,l:o}=Vo._parseInt(n.subarray(2)),{d:a,l:s}=Vo._parseInt(o);if(s.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s:a}},hexFromSig(e){const t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,n=e=>{const t=e.toString(16);return 1&t.length?`0${t}`:t},r=t(n(e.s)),i=t(n(e.r)),o=r.length/2,a=i.length/2,s=n(o),c=n(a);return`30${n(a+o+4)}02${c}${i}02${s}${r}`}},Wo=BigInt(0),Yo=BigInt(1),Jo=(BigInt(2),BigInt(3));BigInt(4);function Xo(e){const t=function(e){const t=Mo(e);xo(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=t;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof n||"bigint"!=typeof n.beta||"function"!=typeof n.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:n}=t,r=t.toBytes||((e,t,r)=>{const i=t.toAffine();return bo(Uint8Array.from([4]),n.toBytes(i.x),n.toBytes(i.y))}),i=t.fromBytes||(e=>{const t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function o(e){const{a:r,b:i}=t,o=n.sqr(e),a=n.mul(o,e);return n.add(n.add(a,n.mul(e,r)),i)}if(!n.eql(n.sqr(t.Gy),o(t.Gx)))throw new Error("bad generator point: equation left != right");function a(e){return"bigint"==typeof e&&Wo<e&&e<t.n}function s(e){if(!a(e))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(e){const{allowedPrivateKeyLengths:n,nByteLength:r,wrapPrivateKey:i,n:o}=t;if(n&&"bigint"!=typeof e){if(e instanceof Uint8Array&&(e=ao(e)),"string"!=typeof e||!n.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*r,"0")}let a;try{a="bigint"==typeof e?e:fo(po("private key",e,r))}catch(t){throw new Error(`private key must be ${r} bytes, hex or bigint, not ${typeof e}`)}return i&&(a=Oo(a,o)),s(a),a}const d=new Map;function f(e){if(!(e instanceof u))throw new Error("ProjectivePoint expected")}class u{constructor(e,t,r){if(this.px=e,this.py=t,this.pz=r,null==e||!n.isValid(e))throw new Error("x required");if(null==t||!n.isValid(t))throw new Error("y required");if(null==r||!n.isValid(r))throw new Error("z required")}static fromAffine(e){const{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw new Error("invalid affine point");if(e instanceof u)throw new Error("projective point not allowed");const i=e=>n.eql(e,n.ZERO);return i(t)&&i(r)?u.ZERO:new u(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(u.fromAffine)}static fromHex(e){const t=u.fromAffine(i(po("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return u.BASE.multiply(c(e))}_setWindowSize(e){this._WINDOW_SIZE=e,d.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:e,y:r}=this.toAffine();if(!n.isValid(e)||!n.isValid(r))throw new Error("bad point: x or y not FE");const i=n.sqr(r),a=o(e);if(!n.eql(i,a))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){f(e);const{px:t,py:r,pz:i}=this,{px:o,py:a,pz:s}=e,c=n.eql(n.mul(t,s),n.mul(o,i)),d=n.eql(n.mul(r,s),n.mul(a,i));return c&&d}negate(){return new u(this.px,n.neg(this.py),this.pz)}double(){const{a:e,b:r}=t,i=n.mul(r,Jo),{px:o,py:a,pz:s}=this;let c=n.ZERO,d=n.ZERO,f=n.ZERO,l=n.mul(o,o),h=n.mul(a,a),p=n.mul(s,s),b=n.mul(o,a);return b=n.add(b,b),f=n.mul(o,s),f=n.add(f,f),c=n.mul(e,f),d=n.mul(i,p),d=n.add(c,d),c=n.sub(h,d),d=n.add(h,d),d=n.mul(c,d),c=n.mul(b,c),f=n.mul(i,f),p=n.mul(e,p),b=n.sub(l,p),b=n.mul(e,b),b=n.add(b,f),f=n.add(l,l),l=n.add(f,l),l=n.add(l,p),l=n.mul(l,b),d=n.add(d,l),p=n.mul(a,s),p=n.add(p,p),l=n.mul(p,b),c=n.sub(c,l),f=n.mul(p,h),f=n.add(f,f),f=n.add(f,f),new u(c,d,f)}add(e){f(e);const{px:r,py:i,pz:o}=this,{px:a,py:s,pz:c}=e;let d=n.ZERO,l=n.ZERO,h=n.ZERO;const p=t.a,b=n.mul(t.b,Jo);let y=n.mul(r,a),g=n.mul(i,s),w=n.mul(o,c),m=n.add(r,i),v=n.add(a,s);m=n.mul(m,v),v=n.add(y,g),m=n.sub(m,v),v=n.add(r,o);let x=n.add(a,c);return v=n.mul(v,x),x=n.add(y,w),v=n.sub(v,x),x=n.add(i,o),d=n.add(s,c),x=n.mul(x,d),d=n.add(g,w),x=n.sub(x,d),h=n.mul(p,v),d=n.mul(b,w),h=n.add(d,h),d=n.sub(g,h),h=n.add(g,h),l=n.mul(d,h),g=n.add(y,y),g=n.add(g,y),w=n.mul(p,w),v=n.mul(b,v),g=n.add(g,w),w=n.sub(y,w),w=n.mul(p,w),v=n.add(v,w),y=n.mul(g,v),l=n.add(l,y),y=n.mul(x,v),d=n.mul(m,d),d=n.sub(d,y),y=n.mul(m,g),h=n.mul(x,h),h=n.add(h,y),new u(d,l,h)}subtract(e){return this.add(e.negate())}is0(){return this.equals(u.ZERO)}wNAF(e){return h.wNAFCached(this,d,e,(e=>{const t=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(u.fromAffine)}))}multiplyUnsafe(e){const r=u.ZERO;if(e===Wo)return r;if(s(e),e===Yo)return this;const{endo:i}=t;if(!i)return h.unsafeLadder(this,e);let{k1neg:o,k1:a,k2neg:c,k2:d}=i.splitScalar(e),f=r,l=r,p=this;for(;a>Wo||d>Wo;)a&Yo&&(f=f.add(p)),d&Yo&&(l=l.add(p)),p=p.double(),a>>=Yo,d>>=Yo;return o&&(f=f.negate()),c&&(l=l.negate()),l=new u(n.mul(l.px,i.beta),l.py,l.pz),f.add(l)}multiply(e){s(e);let r,i,o=e;const{endo:a}=t;if(a){const{k1neg:e,k1:t,k2neg:s,k2:c}=a.splitScalar(o);let{p:d,f}=this.wNAF(t),{p:l,f:p}=this.wNAF(c);d=h.constTimeNegate(e,d),l=h.constTimeNegate(s,l),l=new u(n.mul(l.px,a.beta),l.py,l.pz),r=d.add(l),i=f.add(p)}else{const{p:e,f:t}=this.wNAF(o);r=e,i=t}return u.normalizeZ([r,i])[0]}multiplyAndAddUnsafe(e,t,n){const r=u.BASE,i=(e,t)=>t!==Wo&&t!==Yo&&e.equals(r)?e.multiply(t):e.multiplyUnsafe(t),o=i(this,t).add(i(e,n));return o.is0()?void 0:o}toAffine(e){const{px:t,py:r,pz:i}=this,o=this.is0();null==e&&(e=o?n.ONE:n.inv(i));const a=n.mul(t,e),s=n.mul(r,e),c=n.mul(i,e);if(o)return{x:n.ZERO,y:n.ZERO};if(!n.eql(c,n.ONE))throw new Error("invZ was invalid");return{x:a,y:s}}isTorsionFree(){const{h:e,isTorsionFree:n}=t;if(e===Yo)return!0;if(n)return n(u,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:n}=t;return e===Yo?this:n?n(u,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return this.assertValidity(),r(u,this,e)}toHex(e=!0){return ao(this.toRawBytes(e))}}u.BASE=new u(t.Gx,t.Gy,n.ONE),u.ZERO=new u(n.ZERO,n.ONE,n.ZERO);const l=t.nBitLength,h=zo(u,t.endo?Math.ceil(l/2):l);return{CURVE:t,ProjectivePoint:u,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:a}}function Qo(e){const t=function(e){const t=Mo(e);return xo(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:n,n:r}=t,i=n.BYTES+1,o=2*n.BYTES+1;function a(e){return Oo(e,r)}function s(e){return Po(e,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:d,weierstrassEquation:f,isWithinCurveOrder:u}=Xo({...t,toBytes(e,t,r){const i=t.toAffine(),o=n.toBytes(i.x),a=bo;return r?a(Uint8Array.from([t.hasEvenY()?2:3]),o):a(Uint8Array.from([4]),o,n.toBytes(i.y))},fromBytes(e){const t=e.length,r=e[0],a=e.subarray(1);if(t!==i||2!==r&&3!==r){if(t===o&&4===r){return{x:n.fromBytes(a.subarray(0,n.BYTES)),y:n.fromBytes(a.subarray(n.BYTES,2*n.BYTES))}}throw new Error(`Point of length ${t} was invalid. Expected ${i} compressed bytes or ${o} uncompressed bytes`)}{const e=fo(a);if(!(Wo<(s=e)&&s<n.ORDER))throw new Error("Point is not on curve");const t=f(e);let i=n.sqrt(t);return 1==(1&r)!==((i&Yo)===Yo)&&(i=n.neg(i)),{x:e,y:i}}var s}}),l=e=>ao(lo(e,t.nByteLength));function h(e){return e>r>>Yo}const p=(e,t,n)=>fo(e.slice(t,n));class b{constructor(e,t,n){this.r=e,this.s=t,this.recovery=n,this.assertValidity()}static fromCompact(e){const n=t.nByteLength;return e=po("compactSignature",e,2*n),new b(p(e,0,n),p(e,n,2*n))}static fromDER(e){const{r:t,s:n}=Vo.toSig(po("DER",e));return new b(t,n)}assertValidity(){if(!u(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!u(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new b(this.r,this.s,e)}recoverPublicKey(e){const{r,s:i,recovery:o}=this,d=m(po("msgHash",e));if(null==o||![0,1,2,3].includes(o))throw new Error("recovery id invalid");const f=2===o||3===o?r+t.n:r;if(f>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const u=0==(1&o)?"02":"03",h=c.fromHex(u+l(f)),p=s(f),b=a(-d*p),y=a(i*p),g=c.BASE.multiplyAndAddUnsafe(h,b,y);if(!g)throw new Error("point at infinify");return g.assertValidity(),g}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new b(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return co(this.toDERHex())}toDERHex(){return Vo.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return co(this.toCompactHex())}toCompactHex(){return l(this.r)+l(this.s)}}const y={isValidPrivateKey(e){try{return d(e),!0}catch(e){return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const e=$o(t.n);return function(e,t,n=!1){const r=e.length,i=Fo(t),o=$o(t);if(r<16||r<o||r>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${r}`);const a=Oo(n?fo(e):uo(e),t-Bo)+Bo;return n?ho(a,i):lo(a,i)}(t.randomBytes(e),t.n)},precompute:(e=8,t=c.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};function g(e){const t=e instanceof Uint8Array,n="string"==typeof e,r=(t||n)&&e.length;return t?r===i||r===o:n?r===2*i||r===2*o:e instanceof c}const w=t.bits2int||function(e){const n=fo(e),r=8*e.length-t.nBitLength;return r>0?n>>BigInt(r):n},m=t.bits2int_modN||function(e){return a(w(e))},v=yo(t.nBitLength);function x(e){if("bigint"!=typeof e)throw new Error("bigint expected");if(!(Wo<=e&&e<v))throw new Error(`bigint expected < 2^${t.nBitLength}`);return lo(e,t.nByteLength)}function E(e,r,i=B){if(["recovered","canonical"].some((e=>e in i)))throw new Error("sign() legacy options not supported");const{hash:o,randomBytes:f}=t;let{lowS:l,prehash:p,extraEntropy:y}=i;null==l&&(l=!0),e=po("msgHash",e),p&&(e=po("prehashed msgHash",o(e)));const g=m(e),v=d(r),E=[x(v),x(g)];if(null!=y){const e=!0===y?f(n.BYTES):y;E.push(po("extraEntropy",e))}const A=bo(...E),I=g;return{seed:A,k2sig:function(e){const t=w(e);if(!u(t))return;const n=s(t),r=c.BASE.multiply(t).toAffine(),i=a(r.x);if(i===Wo)return;const o=a(n*a(I+i*v));if(o===Wo)return;let d=(r.x===i?0:2)|Number(r.y&Yo),f=o;return l&&h(o)&&(f=function(e){return h(e)?a(-e):e}(o),d^=1),new b(i,f,d)}}}const B={lowS:t.lowS,prehash:!1},A={lowS:t.lowS,prehash:!1};return c.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return c.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,n=!0){if(g(e))throw new Error("first arg must be private key");if(!g(t))throw new Error("second arg must be public key");return c.fromHex(t).multiply(d(e)).toRawBytes(n)},sign:function(e,n,r=B){const{seed:i,k2sig:o}=E(e,n,r),a=t;return mo(a.hash.outputLen,a.nByteLength,a.hmac)(i,o)},verify:function(e,n,r,i=A){const o=e;if(n=po("msgHash",n),r=po("publicKey",r),"strict"in i)throw new Error("options.strict was renamed to lowS");const{lowS:d,prehash:f}=i;let u,l;try{if("string"==typeof o||o instanceof Uint8Array)try{u=b.fromDER(o)}catch(e){if(!(e instanceof Vo.Err))throw e;u=b.fromCompact(o)}else{if("object"!=typeof o||"bigint"!=typeof o.r||"bigint"!=typeof o.s)throw new Error("PARSE");{const{r:e,s:t}=o;u=new b(e,t)}}l=c.fromHex(r)}catch(e){if("PARSE"===e.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(d&&u.hasHighS())return!1;f&&(n=t.hash(n));const{r:h,s:p}=u,y=m(n),g=s(p),w=a(y*g),v=a(h*g),x=c.BASE.multiplyAndAddUnsafe(l,w,v)?.toAffine();return!!x&&a(x.x)===h},ProjectivePoint:c,Signature:b,utils:y}}function ea(e){return{hash:e,hmac:(t,...n)=>jo(e,t,Mi(...n)),randomBytes:Vi}}const ta=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),na=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),ra=BigInt(1),ia=BigInt(2),oa=(e,t)=>(e+t/ia)/t;function aa(e){const t=ta,n=BigInt(3),r=BigInt(6),i=BigInt(11),o=BigInt(22),a=BigInt(23),s=BigInt(44),c=BigInt(88),d=e*e*e%t,f=d*d*e%t,u=Co(f,n,t)*f%t,l=Co(u,n,t)*f%t,h=Co(l,ia,t)*d%t,p=Co(h,i,t)*h%t,b=Co(p,o,t)*p%t,y=Co(b,s,t)*b%t,g=Co(y,c,t)*y%t,w=Co(g,s,t)*b%t,m=Co(w,n,t)*f%t,v=Co(m,a,t)*p%t,x=Co(v,r,t)*d%t,E=Co(x,ia,t);if(!sa.eql(sa.sqr(E),e))throw new Error("Cannot find square root");return E}const sa=Ro(ta,void 0,void 0,{sqrt:aa}),ca=function(e,t){const n=t=>Qo({...e,...ea(t)});return Object.freeze({...n(t),create:n})}({a:BigInt(0),b:BigInt(7),Fp:sa,n:na,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=na,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-ra*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,a=BigInt("0x100000000000000000000000000000000"),s=oa(o*e,t),c=oa(-r*e,t);let d=Oo(e-s*n-c*i,t),f=Oo(-s*r-c*o,t);const u=d>a,l=f>a;if(u&&(d=t-d),l&&(f=t-f),d>a||f>a)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:u,k1:d,k2neg:l,k2:f}}}},to);BigInt(0);ca.ProjectivePoint;var da=n(983);function fa(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function ua(e,...t){if(!((n=e)instanceof Uint8Array||null!=n&&"object"==typeof n&&"Uint8Array"===n.constructor.name))throw new Error("Uint8Array expected");var n;if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function la(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");fa(e.outputLen),fa(e.blockLen)}function ha(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function pa(e,t){ua(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const ba=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),ya=(e,t)=>e<<32-t|e>>>t,ga=(e,t)=>e<<t|e>>>32-t>>>0,wa=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],ma=e=>e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255;function va(e){for(let t=0;t<e.length;t++)e[t]=ma(e[t])}Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function xa(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),ua(e),e}class Ea{clone(){return this._cloneInto()}}const Ba={}.toString;function Aa(e){const t=t=>e().update(xa(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}const Ia=(e,t,n)=>e&t^e&n^t&n;class Sa extends Ea{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=ba(this.buffer)}update(e){ha(this);const{view:t,buffer:n,blockLen:r}=this,i=(e=xa(e)).length;for(let o=0;o<i;){const a=Math.min(r-this.pos,i-o);if(a!==r)n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===r&&(this.process(t,0),this.pos=0);else{const t=ba(e);for(;r<=i-o;o+=r)this.process(t,o)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){ha(this),pa(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>r-o&&(this.process(n,0),o=0);for(let e=o;e<r;e++)t[e]=0;!function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),a=Number(n>>i&o),s=Number(n&o),c=r?4:0,d=r?0:4;e.setUint32(t+c,a,r),e.setUint32(t+d,s,r)}(n,r-8,BigInt(8*this.length),i),this.process(n,0);const a=ba(e),s=this.outputLen;if(s%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=s/4,d=this.get();if(c>d.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<c;e++)a.setUint32(4*e,d[e],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:o,pos:a}=this;return e.length=r,e.pos=a,e.finished=i,e.destroyed=o,r%t&&e.buffer.set(n),e}}const ka=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),La=new Uint8Array(new Array(16).fill(0).map(((e,t)=>t))),Oa=La.map((e=>(9*e+5)%16));let Ha=[La],Ca=[Oa];for(let e=0;e<4;e++)for(let t of[Ha,Ca])t.push(t[e].map((e=>ka[e])));const Pa=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map((e=>new Uint8Array(e))),Ua=Ha.map(((e,t)=>e.map((e=>Pa[t][e])))),Ta=Ca.map(((e,t)=>e.map((e=>Pa[t][e])))),Na=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),Ka=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]);function Ra(e,t,n,r){return 0===e?t^n^r:1===e?t&n|~t&r:2===e?(t|~n)^r:3===e?t&r|n&~r:t^(n|~r)}const Fa=new Uint32Array(16);class $a extends Sa{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:t,h2:n,h3:r,h4:i}=this;return[e,t,n,r,i]}set(e,t,n,r,i){this.h0=0|e,this.h1=0|t,this.h2=0|n,this.h3=0|r,this.h4=0|i}process(e,t){for(let n=0;n<16;n++,t+=4)Fa[n]=e.getUint32(t,!0);let n=0|this.h0,r=n,i=0|this.h1,o=i,a=0|this.h2,s=a,c=0|this.h3,d=c,f=0|this.h4,u=f;for(let e=0;e<5;e++){const t=4-e,l=Na[e],h=Ka[e],p=Ha[e],b=Ca[e],y=Ua[e],g=Ta[e];for(let t=0;t<16;t++){const r=ga(n+Ra(e,i,a,c)+Fa[p[t]]+l,y[t])+f|0;n=f,f=c,c=0|ga(a,10),a=i,i=r}for(let e=0;e<16;e++){const n=ga(r+Ra(t,o,s,d)+Fa[b[e]]+h,g[e])+u|0;r=u,u=d,d=0|ga(s,10),s=o,o=n}}this.set(this.h1+a+d|0,this.h2+c+u|0,this.h3+f+r|0,this.h4+n+o|0,this.h0+i+s|0)}roundClean(){Fa.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const qa=Aa((()=>new $a)),ja=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Da=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),_a=new Uint32Array(64);class za extends Sa{constructor(){super(64,32,8,!1),this.A=0|Da[0],this.B=0|Da[1],this.C=0|Da[2],this.D=0|Da[3],this.E=0|Da[4],this.F=0|Da[5],this.G=0|Da[6],this.H=0|Da[7]}get(){const{A:e,B:t,C:n,D:r,E:i,F:o,G:a,H:s}=this;return[e,t,n,r,i,o,a,s]}set(e,t,n,r,i,o,a,s){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|o,this.G=0|a,this.H=0|s}process(e,t){for(let n=0;n<16;n++,t+=4)_a[n]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=_a[e-15],n=_a[e-2],r=ya(t,7)^ya(t,18)^t>>>3,i=ya(n,17)^ya(n,19)^n>>>10;_a[e]=i+_a[e-7]+r+_a[e-16]|0}let{A:n,B:r,C:i,D:o,E:a,F:s,G:c,H:d}=this;for(let e=0;e<64;e++){const t=d+(ya(a,6)^ya(a,11)^ya(a,25))+((f=a)&s^~f&c)+ja[e]+_a[e]|0,u=(ya(n,2)^ya(n,13)^ya(n,22))+Ia(n,r,i)|0;d=c,c=s,s=a,a=o+t|0,o=i,i=r,r=n,n=t+u|0}var f;n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,s=s+this.F|0,c=c+this.G|0,d=d+this.H|0,this.set(n,r,i,o,a,s,c,d)}roundClean(){_a.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Ma=Aa((()=>new za));function Za(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function Ga(...e){const t=(e,t)=>n=>e(t(n)),n=Array.from(e).reverse().reduce(((e,n)=>e?t(e,n.encode):n.encode),void 0),r=e.reduce(((e,n)=>e?t(e,n.decode):n.decode),void 0);return{encode:n,decode:r}}function Va(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("alphabet.encode input should be an array of numbers");return t.map((t=>{if(Za(t),t<0||t>=e.length)throw new Error(`Digit index outside alphabet: ${t} (alphabet: ${e.length})`);return e[t]}))},decode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("alphabet.decode input should be array of strings");return t.map((t=>{if("string"!=typeof t)throw new Error(`alphabet.decode: not string element=${t}`);const n=e.indexOf(t);if(-1===n)throw new Error(`Unknown letter: "${t}". Allowed: ${e}`);return n}))}}}function Wa(e=""){if("string"!=typeof e)throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("join.encode input should be array of strings");for(let e of t)if("string"!=typeof e)throw new Error(`join.encode: non-string input=${e}`);return t.join(e)},decode:t=>{if("string"!=typeof t)throw new Error("join.decode input should be string");return t.split(e)}}}function Ya(e,t="="){if(Za(e),"string"!=typeof t)throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&"string"!=typeof n[0])throw new Error("padding.encode input should be array of strings");for(let e of n)if("string"!=typeof e)throw new Error(`padding.encode: non-string input=${e}`);for(;n.length*e%8;)n.push(t);return n},decode(n){if(!Array.isArray(n)||n.length&&"string"!=typeof n[0])throw new Error("padding.encode input should be array of strings");for(let e of n)if("string"!=typeof e)throw new Error(`padding.decode: non-string input=${e}`);let r=n.length;if(r*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--)if(!((r-1)*e%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,r)}}}function Ja(e){if("function"!=typeof e)throw new Error("normalize fn should be function");return{encode:e=>e,decode:t=>e(t)}}function Xa(e,t,n){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let r=0;const i=[],o=Array.from(e);for(o.forEach((e=>{if(Za(e),e<0||e>=t)throw new Error(`Wrong integer: ${e}`)}));;){let e=0,a=!0;for(let i=r;i<o.length;i++){const s=o[i],c=t*e+s;if(!Number.isSafeInteger(c)||t*e/t!==e||c-s!=t*e)throw new Error("convertRadix: carry overflow");e=c%n;const d=Math.floor(c/n);if(o[i]=d,!Number.isSafeInteger(d)||d*n+e!==c)throw new Error("convertRadix: carry overflow");a&&(d?a=!1:r=i)}if(i.push(e),a)break}for(let t=0;t<e.length-1&&0===e[t];t++)i.push(0);return i.reverse()}const Qa=(e,t)=>t?Qa(t,e%t):e,es=(e,t)=>e+(t-Qa(e,t));function ts(e,t,n,r){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(es(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${es(t,n)}`);let i=0,o=0;const a=2**n-1,s=[];for(const r of e){if(Za(r),r>=2**t)throw new Error(`convertRadix2: invalid data word=${r} from=${t}`);if(i=i<<t|r,o+t>32)throw new Error(`convertRadix2: carry overflow pos=${o} from=${t}`);for(o+=t;o>=n;o-=n)s.push((i>>o-n&a)>>>0);i&=2**o-1}if(i=i<<n-o&a,!r&&o>=t)throw new Error("Excess padding");if(!r&&i)throw new Error(`Non-zero padding: ${i}`);return r&&o>0&&s.push(i>>>0),s}function ns(e){return Za(e),{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return Xa(Array.from(t),256,e)},decode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("radix.decode input should be array of strings");return Uint8Array.from(Xa(t,e,256))}}}function rs(e,t=!1){if(Za(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(es(8,e)>32||es(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!(n instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return ts(Array.from(n),8,e,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&"number"!=typeof n[0])throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(ts(n,e,8,t))}}}function is(e,t){if(Za(e),"function"!=typeof t)throw new Error("checksum fn should be function");return{encode(n){if(!(n instanceof Uint8Array))throw new Error("checksum.encode: input should be Uint8Array");const r=t(n).slice(0,e),i=new Uint8Array(n.length+e);return i.set(n),i.set(r,n.length),i},decode(n){if(!(n instanceof Uint8Array))throw new Error("checksum.decode: input should be Uint8Array");const r=n.slice(0,-e),i=t(r).slice(0,e),o=n.slice(-e);for(let t=0;t<e;t++)if(i[t]!==o[t])throw new Error("Invalid checksum");return r}}}const os=Ga(rs(4),Va("0123456789ABCDEF"),Wa("")),as=Ga(rs(5),Va("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),Ya(5),Wa("")),ss=(Ga(rs(5),Va("0123456789ABCDEFGHIJKLMNOPQRSTUV"),Ya(5),Wa("")),Ga(rs(5),Va("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),Wa(""),Ja((e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")))),Ga(rs(6),Va("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),Ya(6),Wa(""))),cs=Ga(rs(6),Va("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),Ya(6),Wa("")),ds=(Ga(rs(6),Va("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),Wa("")),e=>Ga(ns(58),Va(e),Wa(""))),fs=ds("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),us=[0,2,3,5,6,7,9,10,11],ls={encode(e){let t="";for(let n=0;n<e.length;n+=8){const r=e.subarray(n,n+8);t+=fs.encode(r).padStart(us[r.length],"1")}return t},decode(e){let t=[];for(let n=0;n<e.length;n+=11){const r=e.slice(n,n+11),i=us.indexOf(r.length),o=fs.decode(r);for(let e=0;e<o.length-i;e++)if(0!==o[e])throw new Error("base58xmr: wrong padding");t=t.concat(Array.from(o.slice(o.length-i)))}return Uint8Array.from(t)}},hs=e=>Ga(is(4,(t=>e(e(t)))),fs);Ga(Va("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),Wa(""));const ps={encode:e=>(new TextDecoder).decode(e),decode:e=>(new TextEncoder).encode(e)},bs=(Ga(rs(4),Va("0123456789abcdef"),Wa(""),Ja((e=>{if("string"!=typeof e||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()}))),BigInt(2**32-1)),ys=BigInt(32);function gs(e,t=!1){return t?{h:Number(e&bs),l:Number(e>>ys&bs)}:{h:0|Number(e>>ys&bs),l:0|Number(e&bs)}}const ws={fromBig:gs,split:function(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:o,l:a}=gs(e[i],t);[n[i],r[i]]=[o,a]}return[n,r]},toBig:(e,t)=>BigInt(e>>>0)<<ys|BigInt(t>>>0),shrSH:(e,t,n)=>e>>>n,shrSL:(e,t,n)=>e<<32-n|t>>>n,rotrSH:(e,t,n)=>e>>>n|t<<32-n,rotrSL:(e,t,n)=>e<<32-n|t>>>n,rotrBH:(e,t,n)=>e<<64-n|t>>>n-32,rotrBL:(e,t,n)=>e>>>n-32|t<<64-n,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:(e,t,n)=>e<<n|t>>>32-n,rotlSL:(e,t,n)=>t<<n|e>>>32-n,rotlBH:(e,t,n)=>t<<n-32|e>>>64-n,rotlBL:(e,t,n)=>e<<n-32|t>>>64-n,add:function(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:0|i}},add3L:(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),add3H:(e,t,n,r)=>t+n+r+(e/2**32|0)|0,add4L:(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),add4H:(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,add5H:(e,t,n,r,i,o)=>t+n+r+i+o+(e/2**32|0)|0,add5L:(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0)},ms=ws,[vs,xs]=ms.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))),Es=new Uint32Array(80),Bs=new Uint32Array(80);class As extends Wi{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:i,Cl:o,Dh:a,Dl:s,Eh:c,El:d,Fh:f,Fl:u,Gh:l,Gl:h,Hh:p,Hl:b}=this;return[e,t,n,r,i,o,a,s,c,d,f,u,l,h,p,b]}set(e,t,n,r,i,o,a,s,c,d,f,u,l,h,p,b){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|i,this.Cl=0|o,this.Dh=0|a,this.Dl=0|s,this.Eh=0|c,this.El=0|d,this.Fh=0|f,this.Fl=0|u,this.Gh=0|l,this.Gl=0|h,this.Hh=0|p,this.Hl=0|b}process(e,t){for(let n=0;n<16;n++,t+=4)Es[n]=e.getUint32(t),Bs[n]=e.getUint32(t+=4);for(let e=16;e<80;e++){const t=0|Es[e-15],n=0|Bs[e-15],r=ms.rotrSH(t,n,1)^ms.rotrSH(t,n,8)^ms.shrSH(t,n,7),i=ms.rotrSL(t,n,1)^ms.rotrSL(t,n,8)^ms.shrSL(t,n,7),o=0|Es[e-2],a=0|Bs[e-2],s=ms.rotrSH(o,a,19)^ms.rotrBH(o,a,61)^ms.shrSH(o,a,6),c=ms.rotrSL(o,a,19)^ms.rotrBL(o,a,61)^ms.shrSL(o,a,6),d=ms.add4L(i,c,Bs[e-7],Bs[e-16]),f=ms.add4H(d,r,s,Es[e-7],Es[e-16]);Es[e]=0|f,Bs[e]=0|d}let{Ah:n,Al:r,Bh:i,Bl:o,Ch:a,Cl:s,Dh:c,Dl:d,Eh:f,El:u,Fh:l,Fl:h,Gh:p,Gl:b,Hh:y,Hl:g}=this;for(let e=0;e<80;e++){const t=ms.rotrSH(f,u,14)^ms.rotrSH(f,u,18)^ms.rotrBH(f,u,41),w=ms.rotrSL(f,u,14)^ms.rotrSL(f,u,18)^ms.rotrBL(f,u,41),m=f&l^~f&p,v=u&h^~u&b,x=ms.add5L(g,w,v,xs[e],Bs[e]),E=ms.add5H(x,y,t,m,vs[e],Es[e]),B=0|x,A=ms.rotrSH(n,r,28)^ms.rotrBH(n,r,34)^ms.rotrBH(n,r,39),I=ms.rotrSL(n,r,28)^ms.rotrBL(n,r,34)^ms.rotrBL(n,r,39),S=n&i^n&a^i&a,k=r&o^r&s^o&s;y=0|p,g=0|b,p=0|l,b=0|h,l=0|f,h=0|u,({h:f,l:u}=ms.add(0|c,0|d,0|E,0|B)),c=0|a,d=0|s,a=0|i,s=0|o,i=0|n,o=0|r;const L=ms.add3L(B,I,k);n=ms.add3H(L,E,A,S),r=0|L}({h:n,l:r}=ms.add(0|this.Ah,0|this.Al,0|n,0|r)),({h:i,l:o}=ms.add(0|this.Bh,0|this.Bl,0|i,0|o)),({h:a,l:s}=ms.add(0|this.Ch,0|this.Cl,0|a,0|s)),({h:c,l:d}=ms.add(0|this.Dh,0|this.Dl,0|c,0|d)),({h:f,l:u}=ms.add(0|this.Eh,0|this.El,0|f,0|u)),({h:l,l:h}=ms.add(0|this.Fh,0|this.Fl,0|l,0|h)),({h:p,l:b}=ms.add(0|this.Gh,0|this.Gl,0|p,0|b)),({h:y,l:g}=ms.add(0|this.Hh,0|this.Hl,0|y,0|g)),this.set(n,r,i,o,a,s,c,d,f,u,l,h,p,b,y,g)}roundClean(){Es.fill(0),Bs.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Is=Gi((()=>new As)),Ss=BigInt(0),ks=BigInt(1),Ls=BigInt(2),Os=BigInt(8),Hs={zip215:!0};function Cs(e){const t=function(e){const t=Mo(e);return xo(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}(e),{Fp:n,n:r,prehash:i,hash:o,randomBytes:a,nByteLength:s,h:c}=t,d=Ls<<BigInt(8*s)-ks,f=n.create,u=t.uvRatio||((e,t)=>{try{return{isValid:!0,value:n.sqrt(e*n.inv(t))}}catch(e){return{isValid:!1,value:Ss}}}),l=t.adjustScalarBytes||(e=>e),h=t.domain||((e,t,n)=>{if(t.length||n)throw new Error("Contexts/pre-hash are not supported");return e}),p=e=>"bigint"==typeof e&&Ss<e,b=(e,t)=>p(e)&&p(t)&&e<t,y=e=>e===Ss||b(e,d);function g(e,t){if(b(e,t))return e;throw new Error(`Expected valid scalar < ${t}, got ${typeof e} ${e}`)}function w(e){return e===Ss?e:g(e,r)}const m=new Map;function v(e){if(!(e instanceof x))throw new Error("ExtendedPoint expected")}class x{constructor(e,t,n,r){if(this.ex=e,this.ey=t,this.ez=n,this.et=r,!y(e))throw new Error("x required");if(!y(t))throw new Error("y required");if(!y(n))throw new Error("z required");if(!y(r))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(e){if(e instanceof x)throw new Error("extended point not allowed");const{x:t,y:n}=e||{};if(!y(t)||!y(n))throw new Error("invalid affine point");return new x(t,n,ks,f(t*n))}static normalizeZ(e){const t=n.invertBatch(e.map((e=>e.ez)));return e.map(((e,n)=>e.toAffine(t[n]))).map(x.fromAffine)}_setWindowSize(e){this._WINDOW_SIZE=e,m.delete(this)}assertValidity(){const{a:e,d:n}=t;if(this.is0())throw new Error("bad point: ZERO");const{ex:r,ey:i,ez:o,et:a}=this,s=f(r*r),c=f(i*i),d=f(o*o),u=f(d*d),l=f(s*e);if(f(d*f(l+c))!==f(u+f(n*f(s*c))))throw new Error("bad point: equation left != right (1)");if(f(r*i)!==f(o*a))throw new Error("bad point: equation left != right (2)")}equals(e){v(e);const{ex:t,ey:n,ez:r}=this,{ex:i,ey:o,ez:a}=e,s=f(t*a),c=f(i*r),d=f(n*a),u=f(o*r);return s===c&&d===u}is0(){return this.equals(x.ZERO)}negate(){return new x(f(-this.ex),this.ey,this.ez,f(-this.et))}double(){const{a:e}=t,{ex:n,ey:r,ez:i}=this,o=f(n*n),a=f(r*r),s=f(Ls*f(i*i)),c=f(e*o),d=n+r,u=f(f(d*d)-o-a),l=c+a,h=l-s,p=c-a,b=f(u*h),y=f(l*p),g=f(u*p),w=f(h*l);return new x(b,y,w,g)}add(e){v(e);const{a:n,d:r}=t,{ex:i,ey:o,ez:a,et:s}=this,{ex:c,ey:d,ez:u,et:l}=e;if(n===BigInt(-1)){const e=f((o-i)*(d+c)),t=f((o+i)*(d-c)),n=f(t-e);if(n===Ss)return this.double();const r=f(a*Ls*l),h=f(s*Ls*u),p=h+r,b=t+e,y=h-r,g=f(p*n),w=f(b*y),m=f(p*y),v=f(n*b);return new x(g,w,v,m)}const h=f(i*c),p=f(o*d),b=f(s*r*l),y=f(a*u),g=f((i+o)*(c+d)-h-p),w=y-b,m=y+b,E=f(p-n*h),B=f(g*w),A=f(m*E),I=f(g*E),S=f(w*m);return new x(B,A,S,I)}subtract(e){return this.add(e.negate())}wNAF(e){return A.wNAFCached(this,m,e,x.normalizeZ)}multiply(e){const{p:t,f:n}=this.wNAF(g(e,r));return x.normalizeZ([t,n])[0]}multiplyUnsafe(e){let t=w(e);return t===Ss?B:this.equals(B)||t===ks?this:this.equals(E)?this.wNAF(t).p:A.unsafeLadder(this,t)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return A.unsafeLadder(this,r).is0()}toAffine(e){const{ex:t,ey:r,ez:i}=this,o=this.is0();null==e&&(e=o?Os:n.inv(i));const a=f(t*e),s=f(r*e),c=f(i*e);if(o)return{x:Ss,y:ks};if(c!==ks)throw new Error("invZ was invalid");return{x:a,y:s}}clearCofactor(){const{h:e}=t;return e===ks?this:this.multiplyUnsafe(e)}static fromHex(e,r=!1){const{d:i,a:o}=t,a=n.BYTES,s=(e=po("pointHex",e,a)).slice(),c=e[a-1];s[a-1]=-129&c;const l=uo(s);l===Ss||g(l,r?d:n.ORDER);const h=f(l*l),p=f(h-ks),b=f(i*h-o);let{isValid:y,value:w}=u(p,b);if(!y)throw new Error("Point.fromHex: invalid y coordinate");const m=(w&ks)===ks,v=0!=(128&c);if(!r&&w===Ss&&v)throw new Error("Point.fromHex: x=0 and x_0=1");return v!==m&&(w=f(-w)),x.fromAffine({x:w,y:l})}static fromPrivateKey(e){return k(e).point}toRawBytes(){const{x:e,y:t}=this.toAffine(),r=ho(t,n.BYTES);return r[r.length-1]|=e&ks?128:0,r}toHex(){return ao(this.toRawBytes())}}x.BASE=new x(t.Gx,t.Gy,ks,f(t.Gx*t.Gy)),x.ZERO=new x(Ss,ks,ks,Ss);const{BASE:E,ZERO:B}=x,A=zo(x,8*s);function I(e){return Oo(e,r)}function S(e){return I(uo(e))}function k(e){const t=s;e=po("private key",e,t);const n=po("hashed private key",o(e),2*t),r=l(n.slice(0,t)),i=n.slice(t,2*t),a=S(r),c=E.multiply(a),d=c.toRawBytes();return{head:r,prefix:i,scalar:a,point:c,pointBytes:d}}function L(e=new Uint8Array,...t){const n=bo(...t);return S(o(h(n,po("context",e),!!i)))}const O=Hs;E._setWindowSize(8);return{CURVE:t,getPublicKey:function(e){return k(e).pointBytes},sign:function(e,t,r={}){e=po("message",e),i&&(e=i(e));const{prefix:o,scalar:a,pointBytes:c}=k(t),d=L(r.context,o,e),f=E.multiply(d).toRawBytes(),u=I(d+L(r.context,f,c,e)*a);return w(u),po("result",bo(f,ho(u,n.BYTES)),2*s)},verify:function(e,t,r,o=O){const{context:a,zip215:s}=o,c=n.BYTES;e=po("signature",e,2*c),t=po("message",t),i&&(t=i(t));const d=uo(e.slice(c,2*c));let f,u,l;try{f=x.fromHex(r,s),u=x.fromHex(e.slice(0,c),s),l=E.multiplyUnsafe(d)}catch(e){return!1}if(!s&&f.isSmallOrder())return!1;const h=L(a,u.toRawBytes(),f.toRawBytes(),t);return u.add(f.multiplyUnsafe(h)).subtract(l).clearCofactor().equals(x.ZERO)},ExtendedPoint:x,utils:{getExtendedPublicKey:k,randomPrivateKey:()=>a(n.BYTES),precompute:(e=8,t=x.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}}const Ps=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Us=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),Ts=(BigInt(0),BigInt(1)),Ns=BigInt(2),Ks=BigInt(5),Rs=BigInt(10),Fs=BigInt(20),$s=BigInt(40),qs=BigInt(80);function js(e){const t=Ps,n=e*e%t*e%t,r=Co(n,Ns,t)*n%t,i=Co(r,Ts,t)*e%t,o=Co(i,Ks,t)*i%t,a=Co(o,Rs,t)*o%t,s=Co(a,Fs,t)*a%t,c=Co(s,$s,t)*s%t,d=Co(c,qs,t)*c%t,f=Co(d,qs,t)*c%t,u=Co(f,Rs,t)*o%t;return{pow_p_5_8:Co(u,Ns,t)*e%t,b2:n}}function Ds(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function _s(e,t){const n=Ps,r=Oo(t*t*t,n),i=Oo(r*r*t,n);let o=Oo(e*r*js(e*i).pow_p_5_8,n);const a=Oo(t*o*o,n),s=o,c=Oo(o*Us,n),d=a===e,f=a===Oo(-e,n),u=a===Oo(-e*Us,n);return d&&(o=s),(f||u)&&(o=c),To(o,n)&&(o=Oo(-o,n)),{isValid:d||f,value:o}}const zs=Ro(Ps,void 0,!0),Ms={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:zs,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Is,randomBytes:Vi,adjustScalarBytes:Ds,uvRatio:_s},Zs=Cs(Ms);function Gs(e,t,n){if(t.length>255)throw new Error("Context is too big");return Mi(_i("SigEd25519 no Ed25519 collisions"),new Uint8Array([n?1:0,t.length]),t,e)}Cs({...Ms,domain:Gs}),Cs({...Ms,domain:Gs,prehash:Is});const Vs=(zs.ORDER+BigInt(3))/BigInt(8);zs.pow(Ns,Vs),zs.sqrt(zs.neg(zs.ONE)),zs.ORDER,BigInt(5),BigInt(8),BigInt(486662);!function(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const n=e.sqrt(t);e.isOdd(n)&&e.neg(n)}(zs,zs.neg(BigInt(486664)));BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const Ws=Zs.CURVE,Ys="ed25519",Js=tr("ed25519 seed"),Xs=e=>!0,Qs=!1,ec=33,tc=(e,t)=>{const n=Zs.getPublicKey(e);return rr([new Uint8Array([0]),n])},nc=(e,t)=>{throw new Error("Ed25519 does not support public key derivation.")},rc=e=>e,ic=e=>e,oc=32,ac="slip10",sc=33,cc=Zs.CURVE,dc="ed25519Bip32",fc=tr("");function uc(e,t){const n=e[t];return M(void 0!==n,"Private key is too short."),n}const lc=e=>0==(7&uc(e,0))&&(0==(128&uc(e,31))&&64==(64&uc(e,31))),hc=!0,pc=32,bc=e=>{return je(t=Xn(Uint8Array.from(e).reverse())),BigInt(De(t));var t},yc=e=>{const t=Oo(bc(e),cc.n);return Zs.ExtendedPoint.BASE.multiply(t).toRawBytes()},gc=async(e,t)=>yc(e.slice(0,32)),wc=(e,t)=>Zs.ExtendedPoint.fromHex(_e(Xn(e))).add(Zs.ExtendedPoint.fromHex(_e(Xn(t)))).toRawBytes(),mc=e=>e,vc=e=>e,xc=64,Ec="cip3",Bc=32,Ac={secp256k1:o,ed25519:t,ed25519Bip32:i};function Ic(e){return Ac[e]}function Sc({account:e=0,change:t=0,address_index:n}){return[kc(e),Oc(t),Oc(n)]}function kc(e){return Hc(e),`${Lc(e)}'`}function Lc(e){return Hc(e),`bip32:${e}`}function Oc(e){if("number"==typeof e)return Lc(e);if(!e||!Number.isInteger(e.index)||"boolean"!=typeof e.hardened)throw new Error("Invalid BIP-32 index: Must be an object containing the index and whether it is hardened.");return e.hardened?kc(e.index):Lc(e.index)}function Hc(e){if(!(Nc(t=e)&&t<=Si))throw new Error("Invalid BIP-32 index: Must be a non-negative integer.");var t}function Cc(e){return e.endsWith("'")}function Pc(e){return e instanceof Uint8Array?e:er(e)}function Uc(e){if(void 0!==e)return Pc(e)}function Tc(e,t){if(e.length!==t)return!1;for(const t of e)if(0!==t)return!0;return!1}function Nc(e){return"number"==typeof e&&Number.isInteger(e)&&e>=0}function Kc(e,t){if(e instanceof Uint8Array)return Fc(e,t),e;if("string"==typeof e){const n=er(e);return Fc(n,t),n}throw new Error("Invalid value: Expected an instance of Uint8Array or hexadecimal string.")}function Rc(e,t){if(e instanceof Uint8Array)return M(e.length===t,`Invalid value: Must be a ${t}-byte byte array.`),e;if("string"==typeof e)return Rc(er(e),t);throw new Error("Invalid value: Expected an instance of Uint8Array or hexadecimal string.")}function Fc(e,t){if(!Tc(e,t))throw new Error(`Invalid value: Must be a non-zero ${t}-byte byte array.`)}const $c=(e,t)=>{if(!Tc(e,t))throw new Error(`Invalid public key: The key must be a ${t}-byte, non-zero byte array.`);return ir(qa(Ma(e))).getUint32(0,!1)};function qc(e){if(!e||"string"!=typeof e)throw new Error("Invalid curve: Must specify a curve.");if(!Object.keys(Ac).includes(e))throw new Error(`Invalid curve: Only the following curves are supported: ${Object.keys(Ac).join(", ")}.`)}function jc(e,t=!1){const n=new Uint8Array(4);return ir(n).setUint32(0,e,t),n}const Dc=ca.CURVE,_c="secp256k1",zc=tr("Bitcoin seed"),Mc=!0,Zc=65,Gc=e=>ca.utils.isValidPrivateKey(e),Vc=(e,t=!1)=>ca.getPublicKey(e,t),Wc=(e,t)=>{M(Tc(t,32),"Invalid tweak: Tweak must be a non-zero 32-byte Uint8Array.");const n=ca.ProjectivePoint.fromHex(e).add(ca.ProjectivePoint.fromPrivateKey(t));return n.assertValidity(),n.toRawBytes(!1)},Yc=e=>ca.ProjectivePoint.fromHex(e).toRawBytes(!0),Jc=e=>ca.ProjectivePoint.fromHex(e).toRawBytes(!1),Xc=32,Qc="slip10",ed=33,td=76067358,nd=76066276,rd=e=>{const t=(e=>{const t=hs(Ma);try{return t.decode(e)}catch{throw new Error("Invalid extended key: Value is not base58-encoded, or the checksum is invalid.")}})(e);if(78!==t.length)throw new Error(`Invalid extended key: Expected a length of 78, got ${t.length}.`);const n=ir(t),r=n.getUint32(0,!1),i=n.getUint8(4);_f(i);const o=n.getUint32(5,!1),a=n.getUint32(9,!1),s=t.slice(13,45);if(!Tc(s,32))throw new Error("Invalid extended key: Chain code must be a 32-byte non-zero byte array.");const c=t.slice(45,78);if(!Tc(c,33))throw new Error("Invalid extended key: Key must be a 33-byte non-zero byte array.");const d=ir(c);if(r===td){if(2!==d.getUint8(0)&&3!==d.getUint8(0))throw new Error("Invalid extended key: Public key must start with 0x02 or 0x03.");return{version:r,depth:i,parentFingerprint:o,index:a,chainCode:s,publicKey:Jc(c)}}if(r===nd){if(0!==d.getUint8(0))throw new Error("Invalid extended key: Private key must start with 0x00.");return{version:r,depth:i,parentFingerprint:o,index:a,chainCode:s,privateKey:c.slice(1)}}throw new Error("Invalid extended key: Expected a public (xpub) or private key (xprv) version.")},id=e=>{const{version:t,depth:n,parentFingerprint:r,index:i,chainCode:o}=e,a=new Uint8Array(78),s=ir(a);if(s.setUint32(0,t,!1),s.setUint8(4,n),s.setUint32(5,r,!1),s.setUint32(9,i,!1),a.set(o,13),e.version===td){const{publicKey:t}=e,n=Yc(t);a.set(n,45)}if(e.version===nd){const{privateKey:t}=e;a.set(t,46)}return c=a,hs(Ma).encode(c);var c};var od,ad=function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},sd=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};const cd=2;class dd{constructor(e,t){od.set(this,void 0),ad(this,od,e,"f"),this.coin_type=t,this.path=function(e){return`m / ${ki} / ${kc(e)}`}(t),Object.freeze(this)}static async fromJSON(e,t){ud(t),fd(e.depth);const n=await Df.fromExtendedKey({depth:e.depth,index:e.index,parentFingerprint:e.parentFingerprint,chainCode:Pc(e.chainCode),privateKey:Uc(e.privateKey),publicKey:Pc(e.publicKey)});return new dd(n,t)}static async fromDerivationPath(e){fd(e.length-1);const t=await Df.fromDerivationPath({derivationPath:e}),n=e[cd].split(":")[1]?.replace("'","");M(n,"Invalid derivation path.");const r=Number.parseInt(n,10);return new dd(t,r)}static async fromNode(e,t){if(!(e instanceof Df))throw new Error("Invalid node: Expected an instance of BIP44Node.");return ud(t),fd(e.depth),Promise.resolve(new dd(e,t))}get depth(){return sd(this,od,"f").depth}get privateKeyBytes(){return sd(this,od,"f").privateKeyBytes}get publicKeyBytes(){return sd(this,od,"f").publicKeyBytes}get chainCodeBytes(){return sd(this,od,"f").chainCodeBytes}get privateKey(){return sd(this,od,"f").privateKey}get publicKey(){return sd(this,od,"f").publicKey}get compressedPublicKey(){return sd(this,od,"f").compressedPublicKey}get compressedPublicKeyBytes(){return sd(this,od,"f").compressedPublicKeyBytes}get chainCode(){return sd(this,od,"f").chainCode}get address(){return sd(this,od,"f").address}get masterFingerprint(){return sd(this,od,"f").masterFingerprint}get parentFingerprint(){return sd(this,od,"f").parentFingerprint}get fingerprint(){return sd(this,od,"f").fingerprint}get index(){return sd(this,od,"f").index}get curve(){return sd(this,od,"f").curve}get extendedKey(){return sd(this,od,"f").extendedKey}async deriveBIP44AddressKey({account:e=0,change:t=0,address_index:n}){return await sd(this,od,"f").derive(Sc({account:e,change:t,address_index:n}))}toJSON(){return{...sd(this,od,"f").toJSON(),coin_type:this.coin_type,path:this.path}}}function fd(e){if(e!==cd)throw new Error(`Invalid depth: Coin type nodes must be of depth ${cd}. Received: "${e}"`)}function ud(e){if("number"!=typeof e||!Number.isInteger(e)||e<0)throw new Error("Invalid coin type: The specified coin type must be a non-negative integer number.")}async function ld(e){if(e instanceof dd)return fd(e.depth),e;if("string"==typeof e){const t=await Df.fromExtendedKey(e),n=await dd.fromNode(t,t.index-Ui);return fd(n.depth),n}return dd.fromJSON(e,e.coin_type)}od=new WeakMap;const hd=BigInt(2**32-1),pd=BigInt(32);function bd(e,t=!1){return t?{h:Number(e&hd),l:Number(e>>pd&hd)}:{h:0|Number(e>>pd&hd),l:0|Number(e&hd)}}function yd(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:o,l:a}=bd(e[i],t);[n[i],r[i]]=[o,a]}return[n,r]}const gd=(e,t,n)=>e<<n|t>>>32-n,wd=(e,t,n)=>t<<n|e>>>32-n,md=(e,t,n)=>t<<n-32|e>>>64-n,vd=(e,t,n)=>e<<n-32|t>>>64-n;const xd={fromBig:bd,split:yd,toBig:(e,t)=>BigInt(e>>>0)<<pd|BigInt(t>>>0),shrSH:(e,t,n)=>e>>>n,shrSL:(e,t,n)=>e<<32-n|t>>>n,rotrSH:(e,t,n)=>e>>>n|t<<32-n,rotrSL:(e,t,n)=>e<<32-n|t>>>n,rotrBH:(e,t,n)=>e<<64-n|t>>>n-32,rotrBL:(e,t,n)=>e>>>n-32|t<<64-n,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:gd,rotlSL:wd,rotlBH:md,rotlBL:vd,add:function(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:0|i}},add3L:(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),add3H:(e,t,n,r)=>t+n+r+(e/2**32|0)|0,add4L:(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),add4H:(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,add5H:(e,t,n,r,i,o)=>t+n+r+i+o+(e/2**32|0)|0,add5L:(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0)},Ed=[],Bd=[],Ad=[],Id=BigInt(0),Sd=BigInt(1),kd=BigInt(2),Ld=BigInt(7),Od=BigInt(256),Hd=BigInt(113);for(let e=0,t=Sd,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],Ed.push(2*(5*r+n)),Bd.push((e+1)*(e+2)/2%64);let i=Id;for(let e=0;e<7;e++)t=(t<<Sd^(t>>Ld)*Hd)%Od,t&kd&&(i^=Sd<<(Sd<<BigInt(e))-Sd);Ad.push(i)}const[Cd,Pd]=yd(Ad,!0),Ud=(e,t,n)=>n>32?md(e,t,n):gd(e,t,n),Td=(e,t,n)=>n>32?vd(e,t,n):wd(e,t,n);class Nd extends Ea{constructor(e,t,n,r=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=r,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,fa(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");var o;this.state=new Uint8Array(200),this.state32=(o=this.state,new Uint32Array(o.buffer,o.byteOffset,Math.floor(o.byteLength/4)))}keccak(){wa||va(this.state32),function(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let t=0;t<10;t++)n[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const r=(t+8)%10,i=(t+2)%10,o=n[i],a=n[i+1],s=Ud(o,a,1)^n[r],c=Td(o,a,1)^n[r+1];for(let n=0;n<50;n+=10)e[t+n]^=s,e[t+n+1]^=c}let t=e[2],i=e[3];for(let n=0;n<24;n++){const r=Bd[n],o=Ud(t,i,r),a=Td(t,i,r),s=Ed[n];t=e[s],i=e[s+1],e[s]=o,e[s+1]=a}for(let t=0;t<50;t+=10){for(let r=0;r<10;r++)n[r]=e[t+r];for(let r=0;r<10;r++)e[t+r]^=~n[(r+2)%10]&n[(r+4)%10]}e[0]^=Cd[r],e[1]^=Pd[r]}n.fill(0)}(this.state32,this.rounds),wa||va(this.state32),this.posOut=0,this.pos=0}update(e){ha(this);const{blockLen:t,state:n}=this,r=(e=xa(e)).length;for(let i=0;i<r;){const o=Math.min(t-this.pos,r-i);for(let t=0;t<o;t++)n[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,0!=(128&t)&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){ha(this,!1),ua(e),this.finish();const t=this.state,{blockLen:n}=this;for(let r=0,i=e.length;r<i;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,i-r);e.set(t.subarray(this.posOut,this.posOut+o),r),this.posOut+=o,r+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return fa(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(pa(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:r,rounds:i,enableXOF:o}=this;return e||(e=new Nd(t,n,r,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=r,e.enableXOF=o,e.destroyed=this.destroyed,e}}const Kd=(e,t,n)=>Aa((()=>new Nd(t,e,n))),Rd=Kd(1,136,32);class Fd extends Ea{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,la(e);const n=xa(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,i=new Uint8Array(r);i.set(n.length>r?e.create().update(n).digest():n);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),i.fill(0)}update(e){return ha(this),this.iHash.update(e),this}digestInto(e){ha(this),ua(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:o,outputLen:a}=this;return e.finished=r,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const $d=(e,t,n)=>new Fd(e,t).update(n).digest();$d.create=(e,t)=>new Fd(e,t);const[qd,jd]=xd.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))),Dd=new Uint32Array(80),_d=new Uint32Array(80);class zd extends Sa{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:i,Cl:o,Dh:a,Dl:s,Eh:c,El:d,Fh:f,Fl:u,Gh:l,Gl:h,Hh:p,Hl:b}=this;return[e,t,n,r,i,o,a,s,c,d,f,u,l,h,p,b]}set(e,t,n,r,i,o,a,s,c,d,f,u,l,h,p,b){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|i,this.Cl=0|o,this.Dh=0|a,this.Dl=0|s,this.Eh=0|c,this.El=0|d,this.Fh=0|f,this.Fl=0|u,this.Gh=0|l,this.Gl=0|h,this.Hh=0|p,this.Hl=0|b}process(e,t){for(let n=0;n<16;n++,t+=4)Dd[n]=e.getUint32(t),_d[n]=e.getUint32(t+=4);for(let e=16;e<80;e++){const t=0|Dd[e-15],n=0|_d[e-15],r=xd.rotrSH(t,n,1)^xd.rotrSH(t,n,8)^xd.shrSH(t,n,7),i=xd.rotrSL(t,n,1)^xd.rotrSL(t,n,8)^xd.shrSL(t,n,7),o=0|Dd[e-2],a=0|_d[e-2],s=xd.rotrSH(o,a,19)^xd.rotrBH(o,a,61)^xd.shrSH(o,a,6),c=xd.rotrSL(o,a,19)^xd.rotrBL(o,a,61)^xd.shrSL(o,a,6),d=xd.add4L(i,c,_d[e-7],_d[e-16]),f=xd.add4H(d,r,s,Dd[e-7],Dd[e-16]);Dd[e]=0|f,_d[e]=0|d}let{Ah:n,Al:r,Bh:i,Bl:o,Ch:a,Cl:s,Dh:c,Dl:d,Eh:f,El:u,Fh:l,Fl:h,Gh:p,Gl:b,Hh:y,Hl:g}=this;for(let e=0;e<80;e++){const t=xd.rotrSH(f,u,14)^xd.rotrSH(f,u,18)^xd.rotrBH(f,u,41),w=xd.rotrSL(f,u,14)^xd.rotrSL(f,u,18)^xd.rotrBL(f,u,41),m=f&l^~f&p,v=u&h^~u&b,x=xd.add5L(g,w,v,jd[e],_d[e]),E=xd.add5H(x,y,t,m,qd[e],Dd[e]),B=0|x,A=xd.rotrSH(n,r,28)^xd.rotrBH(n,r,34)^xd.rotrBH(n,r,39),I=xd.rotrSL(n,r,28)^xd.rotrBL(n,r,34)^xd.rotrBL(n,r,39),S=n&i^n&a^i&a,k=r&o^r&s^o&s;y=0|p,g=0|b,p=0|l,b=0|h,l=0|f,h=0|u,({h:f,l:u}=xd.add(0|c,0|d,0|E,0|B)),c=0|a,d=0|s,a=0|i,s=0|o,i=0|n,o=0|r;const L=xd.add3L(B,I,k);n=xd.add3H(L,E,A,S),r=0|L}({h:n,l:r}=xd.add(0|this.Ah,0|this.Al,0|n,0|r)),({h:i,l:o}=xd.add(0|this.Bh,0|this.Bl,0|i,0|o)),({h:a,l:s}=xd.add(0|this.Ch,0|this.Cl,0|a,0|s)),({h:c,l:d}=xd.add(0|this.Dh,0|this.Dl,0|c,0|d)),({h:f,l:u}=xd.add(0|this.Eh,0|this.El,0|f,0|u)),({h:l,l:h}=xd.add(0|this.Fh,0|this.Fl,0|l,0|h)),({h:p,l:b}=xd.add(0|this.Gh,0|this.Gl,0|p,0|b)),({h:y,l:g}=xd.add(0|this.Hh,0|this.Hl,0|y,0|g)),this.set(n,r,i,o,a,s,c,d,f,u,l,h,p,b,y,g)}roundClean(){Dd.fill(0),_d.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Md=Aa((()=>new zd));async function Zd({path:e,node:t,curve:n},r){Jd(t);const{childIndex:i,isHardened:o}=Xd(e,t,n),a={chainCode:t.chainCodeBytes,childIndex:i,isHardened:o,depth:t.depth,parentFingerprint:t.fingerprint,masterFingerprint:t.masterFingerprint,curve:n};if(t.privateKeyBytes){const e=await Vd({privateKey:t.privateKeyBytes,childIndex:i,isHardened:o,curve:n}),s=Yd({chainCode:t.chainCodeBytes,extension:e});return await Gd({privateKey:t.privateKeyBytes,entropy:s,...a},r)}const s=Wd({parentPublicKey:t.compressedPublicKeyBytes,childIndex:i}),c=Yd({chainCode:t.chainCodeBytes,extension:s});return await Gd({publicKey:t.compressedPublicKeyBytes,entropy:c,...a},r)}async function Gd(e,t){const{privateKey:n,publicKey:r,entropy:i,childIndex:o,isHardened:a,depth:s,parentFingerprint:c,masterFingerprint:d,curve:f}=e;try{return n?await async function({entropy:e,privateKey:t,depth:n,masterFingerprint:r,parentFingerprint:i,childIndex:o,isHardened:a,curve:s}){const c=o+(a?Ui:0),{privateKey:d,chainCode:f}=await async function({privateKey:e,entropy:t,curve:n}){const r=t.slice(0,32),i=t.slice(32);if("ed25519"===n.name){return{privateKey:r,publicKey:await n.getPublicKey(r),chainCode:i}}const o=function(e,t,n){M(Tc(t,32),"Invalid tweak: Tweak must be a non-zero 32-byte Uint8Array.");const r=Qn(e),i=Qn(t);if(i>=n.curve.n)throw new Error("Invalid tweak: Tweak is larger than the curve order.");const o=Oo(r+i,n.curve.n),a=er(o.toString(16).padStart(64,"0"));if(!n.isValidPrivateKey(a))throw new Error("Invalid private key or tweak: The resulting private key is invalid.");return a}(e,r,n),a=await n.getPublicKey(o);return{privateKey:o,publicKey:a,chainCode:i}}({privateKey:t,entropy:e,curve:s});return await Kf.fromExtendedKey({privateKey:d,chainCode:f,depth:n+1,masterFingerprint:r,parentFingerprint:i,index:c,curve:s.name})}({entropy:i,privateKey:n,depth:s,masterFingerprint:d,parentFingerprint:c,childIndex:o,isHardened:a,curve:f}):await async function({entropy:e,publicKey:t,depth:n,masterFingerprint:r,parentFingerprint:i,childIndex:o,curve:a}){const{publicKey:s,chainCode:c}=function({publicKey:e,entropy:t,curve:n}){const r=t.slice(0,32),i=t.slice(32),o=n.publicAdd(e,r);return{publicKey:o,chainCode:i}}({publicKey:t,entropy:e,curve:a});return await Kf.fromExtendedKey({publicKey:s,chainCode:c,depth:n+1,masterFingerprint:r,parentFingerprint:i,index:o,curve:a.name})}({entropy:i,publicKey:r,depth:s,masterFingerprint:d,parentFingerprint:c,childIndex:o,curve:f})}catch(n){return await Gd(await t(n,e),t)}}async function Vd({privateKey:e,childIndex:t,isHardened:n,curve:r}){if(n)return rr([new Uint8Array([0]),e,jc(t+Ui)]);return Wd({parentPublicKey:await r.getPublicKey(e,!0),childIndex:t})}function Wd({parentPublicKey:e,childIndex:t}){return rr([e,jc(t)])}function Yd({chainCode:e,extension:t}){return $d(Md,e,t)}function Jd(e){M(e,"Invalid parameters: Must specify a node to derive from.")}function Xd(e,t,n){!function(e,t,n){M("string"==typeof e,"Invalid path: Must be a string.");const r=e.endsWith("'");M(!r||t.privateKey,"Invalid parameters: Cannot derive hardened child keys without a private key."),M(r||n.deriveUnhardenedKeys,`Invalid path: Cannot derive unhardened child keys with ${n.name}.`)}(e,t,n);const r=e.split("'")[0];M(r);const i=parseInt(r,10);if(!Li.test(r)||!Number.isInteger(i)||i<0||i>=Ui)throw new Error(`Invalid path: The index must be a non-negative decimal integer less than ${Ui}.`);return{childIndex:i,isHardened:e.includes("'")}}function Qd(e){M(e instanceof Uint8Array&&Tc(e,Ai),"Invalid key: The key must be a 32-byte, non-zero Uint8Array.");return ef(Vc(e,!1))}function ef(e){return M(e instanceof Uint8Array&&Tc(e,Zc),"Invalid key: The key must be a 65-byte, non-zero Uint8Array."),Rd(e.slice(1)).slice(-20)}async function tf(e){return M("secp256k1"===e.curve.name,"Invalid curve: Only secp256k1 is supported by BIP-32."),Zd(e,nf)}async function nf(e,t){const{childIndex:n,privateKey:r,publicKey:i,isHardened:o,curve:a,chainCode:s}=t;if(Hc(n+1),r){const e=Yd({chainCode:s,extension:await Vd({privateKey:r,childIndex:n+1,isHardened:o,curve:a})});return{...t,childIndex:n+1,entropy:e}}const c=Yd({chainCode:s,extension:Wd({parentPublicKey:i,childIndex:n+1})});return{...t,childIndex:n+1,entropy:c}}var rf=n(695);function of(e,t,n,r){la(e);const i=function(e,t){if(void 0!==t&&"[object Object]"!==Ba.call(t))throw new Error("Options should be object or undefined");return Object.assign(e,t)}({dkLen:32,asyncTick:10},r),{c:o,dkLen:a,asyncTick:s}=i;if(fa(o),fa(a),fa(s),o<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const c=xa(t),d=xa(n),f=new Uint8Array(a),u=$d.create(e,c),l=u._cloneInto().update(d);return{c:o,dkLen:a,asyncTick:s,DK:f,PRF:u,PRFSalt:l}}function af(e,t,n,r,i){return e.destroy(),t.destroy(),r&&r.destroy(),i.fill(0),n}function sf(e){return`bip39:${e.toLowerCase().trim()}`}async function cf({path:e,curve:t}){switch(t.masterNodeGenerationSpec){case"slip10":return df(await(0,rf.OI)(e,da.U),t);case"cip3":return ff((0,rf.oy)(e,da.U),t);default:throw new Error("Unsupported master node generation spec.")}}async function df(e,t){M(e.length>=16&&e.length<=64,"Invalid seed: The seed must be between 16 and 64 bytes long.");const n=$d(Md,t.secret,e),r=n.slice(0,Ai),i=n.slice(Ai);M(t.isValidPrivateKey(r),"Invalid private key: The private key must greater than 0 and less than the curve order.");const o=$c(await t.getPublicKey(r,!0),t.compressedPublicKeyLength);return Kf.fromExtendedKey({privateKey:r,chainCode:i,masterFingerprint:o,depth:0,parentFingerprint:0,index:0,curve:t.name})}async function ff(e,t){M(e.length>=16&&e.length<=64,"Invalid entropy: The entropy must be between 16 and 64 bytes long.");const n=function(e,t,n,r){const{c:i,dkLen:o,DK:a,PRF:s,PRFSalt:c}=of(e,t,n,r);let d;const f=new Uint8Array(4),u=ba(f),l=new Uint8Array(s.outputLen);for(let e=1,t=0;t<o;e++,t+=s.outputLen){const n=a.subarray(t,t+s.outputLen);u.setInt32(0,e,!1),(d=c._cloneInto(d)).update(f).digestInto(l),n.set(l.subarray(0,n.length));for(let e=1;e<i;e++){s._cloneInto(d).update(l).digestInto(l);for(let e=0;e<n.length;e++)n[e]^=l[e]}}return af(s,c,a,d,l)}(Md,t.secret,e,{c:4096,dkLen:96});n[0]&=248,n[31]&=31,n[31]|=64;const r=n.slice(0,t.privateKeyLength),i=n.slice(t.privateKeyLength);M(t.isValidPrivateKey(r),"Invalid private key.");const o=$c(await t.getPublicKey(r),t.compressedPublicKeyLength);return Kf.fromExtendedKey({privateKey:r,chainCode:i,masterFingerprint:o,depth:0,parentFingerprint:0,index:0,curve:t.name})}const uf=e=>e.slice().reverse(),lf=e=>{const t=Xn(uf(e));return BigInt(t)},hf=e=>{const t=e.toString(16);return uf(er(t))},pf=e=>rr([e,new Uint8Array(Math.max(32-e.length,0)).fill(0)]),bf=e=>{const t=lf(e.slice(0,28))*BigInt(8);return pf(hf(t))},yf=e=>pf(hf(Oo(lf(e),BigInt(2)**BigInt(256)))),gf=(e,t)=>{const n=lf(e)+lf(t);return pf(hf(n)).slice(0,32)},wf=(e,t,n)=>rr([new Uint8Array([e]),t,jc(n,!0)]),mf=2,vf=0,xf=async({parentNode:e,childIndex:t,isHardened:n})=>{const r=n?wf(vf,e.privateKeyBytes,t+Ui):wf(mf,e.publicKeyBytes,t),i=Yd({chainCode:e.chainCodeBytes,extension:r}),o=i.subarray(0,32),a=i.subarray(32),s=e.privateKeyBytes.subarray(0,32),c=e.privateKeyBytes.subarray(32);return rr([gf(bf(o),s),gf(a,c)])},Ef=3,Bf=1,Af=async({parentNode:e,childIndex:t,isHardened:n})=>{const r=n?wf(Bf,e.privateKeyBytes,t+Ui):wf(Ef,e.publicKeyBytes,t);return Yd({chainCode:e.chainCodeBytes,extension:r}).subarray(32)},If=2,Sf=async({parentNode:e,childIndex:t,curve:n})=>{const r=wf(If,e.publicKeyBytes,t),i=Yd({chainCode:e.chainCodeBytes,extension:r}).slice(0,32),o=await n.getPublicKey(bf(i));return n.publicAdd(e.publicKeyBytes,o)};async function kf(e){const{curve:t,node:n,path:r}=e;Jd(n);const{childIndex:i,isHardened:o}=Xd(r,n,t);if("ed25519Bip32"!==t.name||!n)throw new Error("Unsupported curve: Only ed25519Bip32 is supported by CIP3.");const a=i+(o?Ui:0),{privateKeyBytes:s,chainCodeBytes:c,publicKeyBytes:d,masterFingerprint:f,depth:u,fingerprint:l}=n;if(s){const e={privateKeyBytes:s,chainCodeBytes:c,publicKeyBytes:d},n=await xf({parentNode:e,childIndex:i,isHardened:o}),r=await Af({parentNode:e,childIndex:i,isHardened:o});return Kf.fromExtendedKey({privateKey:Xn(n),chainCode:Xn(r),masterFingerprint:f,depth:u+1,parentFingerprint:l,index:a,curve:t.name})}M(!o,"Invalid parameters: Cannot derive hardened child keys without a private key.");const h={chainCodeBytes:c,publicKeyBytes:d},p=await Sf({parentNode:h,childIndex:i,isHardened:!1,curve:t}),b=await Af({parentNode:h,childIndex:i,isHardened:!1});return Kf.fromExtendedKey({publicKey:Xn(p),chainCode:Xn(b),masterFingerprint:f,depth:u+1,parentFingerprint:l,index:a,curve:t.name})}async function Lf(e){return await Zd(e,Of)}async function Of(e,t){const{curve:n,isHardened:r,childIndex:i,entropy:o,chainCode:a}=t;if("ed25519"===n.name)throw e;const s=r?i+Ui:i,c=Yd({chainCode:a,extension:rr([1,o.slice(32,64),jc(s)])});return{...t,entropy:c}}const Hf={bip32:a,bip39:s,slip10:d,cip3:c};async function Cf(e){const{path:t,depth:n=t.length}=e,r="node"in e?e.node:void 0,i="curve"in e?e.curve:r?.curve;if(r&&!(r instanceof Kf)&&!(r instanceof Df)&&!(r instanceof dd))throw new Error("Invalid arguments: Node must be a SLIP-10 node or a BIP-44 node when provided.");if(!i)throw new Error("Invalid arguments: Must specify either a parent node or curve.");return function(e,t,n){if(0===e.length)throw new Error("Invalid HD path segment: The segment must not be empty.");let r=!1;if(e.forEach(((e,t)=>{if(0===t){if(r=e instanceof Uint8Array||Pi.test(e),!(e instanceof Uint8Array||r||Oi.test(e)||Hi.test(e)||Ci.test(e)))throw Pf()}else if(e instanceof Uint8Array||!Oi.test(e)&&!Hi.test(e)&&!Ci.test(e))throw Pf()})),n===Ii&&(!r||1!==e.length))throw new Error(`Invalid HD path segment: The segment must consist of a single BIP-39 node for depths of ${Ii}. Received: "${String(e)}".`);if(!t&&!r)throw new Error("Invalid derivation parameters: Must specify parent key if the first node of the path segment is not a BIP-39 node.");if(t&&r)throw new Error("Invalid derivation parameters: May not specify parent key if the path segment starts with a BIP-39 node.");const i=r?e.slice(1):e;if(i.length>0){const e=i[0]?.split(":")[0];M(e),M(i.every((t=>t.startsWith(`${e}:`))),"Invalid HD path segment: Cannot mix 'bip32' and 'slip10' path segments.")}}(t,Boolean(r?.privateKey)||Boolean(r?.publicKey),n),await t.reduce((async(e,t,n)=>{const r=await e;if("string"==typeof t){const[e,n]=t.split(":");M(e),M(n),M(function(e){return e in Hf}(e),`Unknown derivation type: "${e}".`);const o=Hf[e];return await o.deriveChildKey({path:n,node:r,curve:Ic(i)})}return M(0===n,Pf()),await Hf.bip39.deriveChildKey({path:t,node:r,curve:Ic(i)})}),Promise.resolve(r))}function Pf(){return new Error("Invalid HD path segment: The path segment is malformed.")}var Uf,Tf,Nf=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};class Kf{constructor({depth:e,masterFingerprint:t,parentFingerprint:n,index:r,chainCode:i,privateKey:o,publicKey:a,curve:s},c){M(c===Nf(Kf,Uf,"f",Tf),"SLIP10Node can only be constructed using `SLIP10Node.fromJSON`, `SLIP10Node.fromExtendedKey`, or `SLIP10Node.fromDerivationPath`."),this.depth=e,this.masterFingerprint=t,this.parentFingerprint=n,this.index=r,this.chainCodeBytes=i,this.privateKeyBytes=o,this.publicKeyBytes=a,this.curve=s,Object.freeze(this)}static async fromJSON(e){return Kf.fromExtendedKey(e)}static async fromExtendedKey({depth:e,masterFingerprint:t,parentFingerprint:n,index:r,privateKey:i,publicKey:o,chainCode:a,curve:s}){const c=Kc(a,Ai);qc(s),Rf(e),Hc(r),function(e,t){if(0===t&&0!==e)throw new Error(`Invalid index: The index of the root node must be 0. Received: "${String(e)}".`)}(r,e),function(e,t){if(!Nc(e))throw new Error(`Invalid parent fingerprint: The fingerprint must be a positive integer. Received: "${String(e)}".`);if(0===t&&0!==e)throw new Error(`Invalid parent fingerprint: The fingerprint of the root node must be 0. Received: "${String(e)}".`);if(t>0&&0===e)throw new Error(`Invalid parent fingerprint: The fingerprint of a child node must not be 0. Received: "${String(e)}".`)}(n,e),function(e,t,n){if(!e)return;if(n>=2&&e===t)throw new Error(`Invalid parent fingerprint: The fingerprint of a child node cannot be equal to the master fingerprint. Received: "${String(t)}".`)}(t,n,e);const d=Ic(s);if(i){const o=Rc(i,d.privateKeyLength);return M(d.isValidPrivateKey(o),`Invalid private key: Value is not a valid ${s} private key.`),new Kf({depth:e,masterFingerprint:t,parentFingerprint:n,index:r,chainCode:c,privateKey:o,publicKey:await d.getPublicKey(o),curve:s},Nf(this,Uf,"f",Tf))}if(o){const i=Kc(o,d.publicKeyLength);return new Kf({depth:e,masterFingerprint:t,parentFingerprint:n,index:r,chainCode:c,publicKey:i,curve:s},Nf(this,Uf,"f",Tf))}throw new Error("Invalid options: Must provide either a private key or a public key.")}static async fromDerivationPath({derivationPath:e,curve:t}){if(qc(t),!e)throw new Error("Invalid options: Must provide a derivation path.");if(0===e.length)throw new Error("Invalid derivation path: May not specify an empty derivation path.");return await Cf({path:e,depth:e.length-1,curve:t})}get chainCode(){return Xn(this.chainCodeBytes)}get privateKey(){if(this.privateKeyBytes)return Xn(this.privateKeyBytes)}get publicKey(){return Xn(this.publicKeyBytes)}get compressedPublicKeyBytes(){return Ic(this.curve).compressPublicKey(this.publicKeyBytes)}get compressedPublicKey(){return Xn(this.compressedPublicKeyBytes)}get address(){if("secp256k1"!==this.curve)throw new Error("Unable to get address for this node: Only secp256k1 is supported.");return Xn(ef(this.publicKeyBytes))}get fingerprint(){return $c(this.compressedPublicKeyBytes,Ic(this.curve).compressedPublicKeyLength)}neuter(){return new Kf({depth:this.depth,masterFingerprint:this.masterFingerprint,parentFingerprint:this.parentFingerprint,index:this.index,chainCode:this.chainCodeBytes,publicKey:this.publicKeyBytes,curve:this.curve},Nf(Kf,Uf,"f",Tf))}async derive(e){return await Ff({path:e,node:this})}toJSON(){return{depth:this.depth,masterFingerprint:this.masterFingerprint,parentFingerprint:this.parentFingerprint,index:this.index,curve:this.curve,privateKey:this.privateKey,publicKey:this.publicKey,chainCode:this.chainCode}}}function Rf(e){if(!Nc(e))throw new Error(`Invalid HD tree path depth: The depth must be a positive integer. Received: "${String(e)}".`)}async function Ff({path:e,node:t}){if(0===e.length)throw new Error("Invalid HD tree derivation path: Deriving a path of length 0 is not defined.");const n=t.depth+e.length;return Rf(n),await Cf({path:e,node:t,depth:n})}Uf=Kf,Tf={value:Symbol("SLIP10Node.constructor")};var $f,qf=function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},jf=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};class Df{constructor(e){$f.set(this,void 0),qf(this,$f,e,"f"),Object.freeze(this)}static async fromJSON(e){return Df.fromExtendedKey(e)}static async fromExtendedKey(e){if("string"==typeof e){const t=rd(e),{chainCode:n,depth:r,parentFingerprint:i,index:o}=t;if(t.version===nd){const{privateKey:e}=t;return Df.fromExtendedKey({depth:r,parentFingerprint:i,index:o,privateKey:e,chainCode:n})}const{publicKey:a}=t;return Df.fromExtendedKey({depth:r,parentFingerprint:i,index:o,publicKey:a,chainCode:n})}const{privateKey:t,publicKey:n,chainCode:r,depth:i,parentFingerprint:o,index:a}=e;_f(i);const s=await Kf.fromExtendedKey({privateKey:t,publicKey:n,chainCode:r,depth:i,parentFingerprint:o,index:a,curve:"secp256k1"});return new Df(s)}static async fromDerivationPath({derivationPath:e}){_f(e.length-1),zf(e,Ii);const t=await Kf.fromDerivationPath({derivationPath:e,curve:"secp256k1"});return new Df(t)}get depth(){return jf(this,$f,"f").depth}get privateKeyBytes(){return jf(this,$f,"f").privateKeyBytes}get publicKeyBytes(){return jf(this,$f,"f").publicKeyBytes}get chainCodeBytes(){return jf(this,$f,"f").chainCodeBytes}get privateKey(){return jf(this,$f,"f").privateKey}get publicKey(){return jf(this,$f,"f").publicKey}get compressedPublicKey(){return jf(this,$f,"f").compressedPublicKey}get compressedPublicKeyBytes(){return jf(this,$f,"f").compressedPublicKeyBytes}get chainCode(){return jf(this,$f,"f").chainCode}get address(){return jf(this,$f,"f").address}get masterFingerprint(){return jf(this,$f,"f").masterFingerprint}get parentFingerprint(){return jf(this,$f,"f").parentFingerprint}get fingerprint(){return jf(this,$f,"f").fingerprint}get index(){return jf(this,$f,"f").index}get extendedKey(){const e={depth:this.depth,parentFingerprint:this.parentFingerprint,index:this.index,chainCode:this.chainCodeBytes};return this.privateKeyBytes?id({...e,version:nd,privateKey:this.privateKeyBytes}):id({...e,version:td,publicKey:this.publicKeyBytes})}get curve(){return jf(this,$f,"f").curve}neuter(){const e=jf(this,$f,"f").neuter();return new Df(e)}async derive(e){if(5===this.depth)throw new Error("Illegal operation: This HD tree node is already a leaf node.");_f(this.depth+e.length),zf(e,this.depth+1);const t=await jf(this,$f,"f").derive(e);return new Df(t)}toJSON(){return{depth:this.depth,masterFingerprint:this.masterFingerprint,parentFingerprint:this.parentFingerprint,index:this.index,privateKey:this.privateKey,publicKey:this.publicKey,chainCode:this.chainCode}}}function _f(e){if(Rf(e),e<Ii||e>5)throw new Error(`Invalid HD tree path depth: The depth must be a positive integer N such that 0 <= N <= 5. Received: "${e}"`)}function zf(e,t){e.forEach(((e,n)=>{const r=t+n;if(r!==Ii)switch(M("string"==typeof e),r){case 1:if(e!==ki)throw new Error(`Invalid derivation path: The "purpose" node (depth 1) must be the string "${ki}".`);break;case 2:if(!Oi.test(e)||!Cc(e))throw new Error('Invalid derivation path: The "coin_type" node (depth 2) must be a hardened BIP-32 node.');break;case 3:if(!Oi.test(e)||!Cc(e))throw new Error('Invalid derivation path: The "account" node (depth 3) must be a hardened BIP-32 node.');break;case 4:if(!Oi.test(e))throw new Error('Invalid derivation path: The "change" node (depth 4) must be a BIP-32 node.');break;case 5:if(!Oi.test(e))throw new Error('Invalid derivation path: The "address_index" node (depth 5) must be a BIP-32 node.')}else if(!(e instanceof Uint8Array||Pi.test(e)))throw new Error('Invalid derivation path: The "m" / seed node (depth 0) must be a BIP-39 node.')}))}$f=new WeakMap;const Mf=async({coinType:e=1,addressIndex:t=0}={})=>{const n=await snap.request({method:"snap_getBip44Entropy",params:{coinType:e}}),r=await async function(e,{account:t=0,change:n=0,address_index:r}){const i=Sc({account:t,change:n,address_index:r}),o=await ld(e),a=await Ff({path:i,node:o});return new Df(a)}(n,{account:0,change:0,address_index:t});return M(r.privateKey),_e(r.privateKey)},Zf=async({request:e})=>{switch(e.method){case"getPublicKey":{const t=e.params;return Xn(Bi(await Mf(t)))}case"signMessage":{const t=e.params,n=await Mf(t),r=Xn(Bi(n)),{message:i}=t;if(!await snap.request({method:"snap_dialog",params:{type:nn.Confirmation,content:jt([At("Signature request"),Tt(`Do you want to BLS sign "${i}" with the following public key?`),xt(r)])}}))throw new dt;const o=await async function(e,t){const n=await Ei(e);n.assertValidity();const r=n.multiply(wi(t));return e instanceof xi?r:r.toSignature()}(tr(i),n);return Xn(o)}default:throw new ct({method:e.method})}}})();var i=exports;for(var o in r)i[o]=r[o];r.__esModule&&Object.defineProperty(i,"__esModule",{value:!0})})();