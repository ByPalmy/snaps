(()=>{var e,t,n={695:(e,t,n)=>{"use strict";t.OI=t.oy=void 0;const r=n(23),i=n(707),o=n(30),s=n(63),a=n(846),c=n(269);function d(e){if("string"!=typeof e)throw new TypeError("Invalid mnemonic type: "+typeof e);return e.normalize("NFKD")}function u(e){const t=d(e),n=t.split(" ");if(![12,15,18,21,24].includes(n.length))throw new Error("Invalid mnemonic");return{nfkd:t,words:n}}function h(e){r.default.bytes(e,16,20,24,28,32)}const f=e=>{const t=8-e.length/4;return new Uint8Array([(0,o.sha256)(e)[0]>>t<<t])};function l(e){if(!Array.isArray(e)||2048!==e.length||"string"!=typeof e[0])throw new Error("Worlist: expected array of 2048 strings");return e.forEach((e=>{if("string"!=typeof e)throw new Error(`Wordlist: non-string element: ${e}`)})),c.utils.chain(c.utils.checksum(1,f),c.utils.radix2(11,!0),c.utils.alphabet(e))}function p(e,t){let n;if("string"==typeof e){const{words:r}=u(e);n=l(t).decode(r)}else n=l(t).decode(Array.from(new Uint16Array(e.buffer)).map((e=>t[e])));return h(n),n}function y(e,t){h(e);const n=l(t).encode(e).map((e=>t.indexOf(e)));return new Uint8Array(new Uint16Array(n).buffer)}t.oy=p;const g=e=>d(`mnemonic${e}`);function w(e,t){let n;return n="string"==typeof e?(new TextEncoder).encode(u(e).nfkd):(new TextEncoder).encode(Array.from(new Uint16Array(e.buffer)).map((e=>t[e])).join(" ")),n}t.OI=function(e,t,n=""){const r=w(e,t);return(0,i.pbkdf2Async)(s.sha512,r,g(n),{c:2048,dkLen:64})}},983:(e,t)=>{"use strict";t.U=void 0,t.U="abandon\nability\nable\nabout\nabove\nabsent\nabsorb\nabstract\nabsurd\nabuse\naccess\naccident\naccount\naccuse\nachieve\nacid\nacoustic\nacquire\nacross\nact\naction\nactor\nactress\nactual\nadapt\nadd\naddict\naddress\nadjust\nadmit\nadult\nadvance\nadvice\naerobic\naffair\nafford\nafraid\nagain\nage\nagent\nagree\nahead\naim\nair\nairport\naisle\nalarm\nalbum\nalcohol\nalert\nalien\nall\nalley\nallow\nalmost\nalone\nalpha\nalready\nalso\nalter\nalways\namateur\namazing\namong\namount\namused\nanalyst\nanchor\nancient\nanger\nangle\nangry\nanimal\nankle\nannounce\nannual\nanother\nanswer\nantenna\nantique\nanxiety\nany\napart\napology\nappear\napple\napprove\napril\narch\narctic\narea\narena\nargue\narm\narmed\narmor\narmy\naround\narrange\narrest\narrive\narrow\nart\nartefact\nartist\nartwork\nask\naspect\nassault\nasset\nassist\nassume\nasthma\nathlete\natom\nattack\nattend\nattitude\nattract\nauction\naudit\naugust\naunt\nauthor\nauto\nautumn\naverage\navocado\navoid\nawake\naware\naway\nawesome\nawful\nawkward\naxis\nbaby\nbachelor\nbacon\nbadge\nbag\nbalance\nbalcony\nball\nbamboo\nbanana\nbanner\nbar\nbarely\nbargain\nbarrel\nbase\nbasic\nbasket\nbattle\nbeach\nbean\nbeauty\nbecause\nbecome\nbeef\nbefore\nbegin\nbehave\nbehind\nbelieve\nbelow\nbelt\nbench\nbenefit\nbest\nbetray\nbetter\nbetween\nbeyond\nbicycle\nbid\nbike\nbind\nbiology\nbird\nbirth\nbitter\nblack\nblade\nblame\nblanket\nblast\nbleak\nbless\nblind\nblood\nblossom\nblouse\nblue\nblur\nblush\nboard\nboat\nbody\nboil\nbomb\nbone\nbonus\nbook\nboost\nborder\nboring\nborrow\nboss\nbottom\nbounce\nbox\nboy\nbracket\nbrain\nbrand\nbrass\nbrave\nbread\nbreeze\nbrick\nbridge\nbrief\nbright\nbring\nbrisk\nbroccoli\nbroken\nbronze\nbroom\nbrother\nbrown\nbrush\nbubble\nbuddy\nbudget\nbuffalo\nbuild\nbulb\nbulk\nbullet\nbundle\nbunker\nburden\nburger\nburst\nbus\nbusiness\nbusy\nbutter\nbuyer\nbuzz\ncabbage\ncabin\ncable\ncactus\ncage\ncake\ncall\ncalm\ncamera\ncamp\ncan\ncanal\ncancel\ncandy\ncannon\ncanoe\ncanvas\ncanyon\ncapable\ncapital\ncaptain\ncar\ncarbon\ncard\ncargo\ncarpet\ncarry\ncart\ncase\ncash\ncasino\ncastle\ncasual\ncat\ncatalog\ncatch\ncategory\ncattle\ncaught\ncause\ncaution\ncave\nceiling\ncelery\ncement\ncensus\ncentury\ncereal\ncertain\nchair\nchalk\nchampion\nchange\nchaos\nchapter\ncharge\nchase\nchat\ncheap\ncheck\ncheese\nchef\ncherry\nchest\nchicken\nchief\nchild\nchimney\nchoice\nchoose\nchronic\nchuckle\nchunk\nchurn\ncigar\ncinnamon\ncircle\ncitizen\ncity\ncivil\nclaim\nclap\nclarify\nclaw\nclay\nclean\nclerk\nclever\nclick\nclient\ncliff\nclimb\nclinic\nclip\nclock\nclog\nclose\ncloth\ncloud\nclown\nclub\nclump\ncluster\nclutch\ncoach\ncoast\ncoconut\ncode\ncoffee\ncoil\ncoin\ncollect\ncolor\ncolumn\ncombine\ncome\ncomfort\ncomic\ncommon\ncompany\nconcert\nconduct\nconfirm\ncongress\nconnect\nconsider\ncontrol\nconvince\ncook\ncool\ncopper\ncopy\ncoral\ncore\ncorn\ncorrect\ncost\ncotton\ncouch\ncountry\ncouple\ncourse\ncousin\ncover\ncoyote\ncrack\ncradle\ncraft\ncram\ncrane\ncrash\ncrater\ncrawl\ncrazy\ncream\ncredit\ncreek\ncrew\ncricket\ncrime\ncrisp\ncritic\ncrop\ncross\ncrouch\ncrowd\ncrucial\ncruel\ncruise\ncrumble\ncrunch\ncrush\ncry\ncrystal\ncube\nculture\ncup\ncupboard\ncurious\ncurrent\ncurtain\ncurve\ncushion\ncustom\ncute\ncycle\ndad\ndamage\ndamp\ndance\ndanger\ndaring\ndash\ndaughter\ndawn\nday\ndeal\ndebate\ndebris\ndecade\ndecember\ndecide\ndecline\ndecorate\ndecrease\ndeer\ndefense\ndefine\ndefy\ndegree\ndelay\ndeliver\ndemand\ndemise\ndenial\ndentist\ndeny\ndepart\ndepend\ndeposit\ndepth\ndeputy\nderive\ndescribe\ndesert\ndesign\ndesk\ndespair\ndestroy\ndetail\ndetect\ndevelop\ndevice\ndevote\ndiagram\ndial\ndiamond\ndiary\ndice\ndiesel\ndiet\ndiffer\ndigital\ndignity\ndilemma\ndinner\ndinosaur\ndirect\ndirt\ndisagree\ndiscover\ndisease\ndish\ndismiss\ndisorder\ndisplay\ndistance\ndivert\ndivide\ndivorce\ndizzy\ndoctor\ndocument\ndog\ndoll\ndolphin\ndomain\ndonate\ndonkey\ndonor\ndoor\ndose\ndouble\ndove\ndraft\ndragon\ndrama\ndrastic\ndraw\ndream\ndress\ndrift\ndrill\ndrink\ndrip\ndrive\ndrop\ndrum\ndry\nduck\ndumb\ndune\nduring\ndust\ndutch\nduty\ndwarf\ndynamic\neager\neagle\nearly\nearn\nearth\neasily\neast\neasy\necho\necology\neconomy\nedge\nedit\neducate\neffort\negg\neight\neither\nelbow\nelder\nelectric\nelegant\nelement\nelephant\nelevator\nelite\nelse\nembark\nembody\nembrace\nemerge\nemotion\nemploy\nempower\nempty\nenable\nenact\nend\nendless\nendorse\nenemy\nenergy\nenforce\nengage\nengine\nenhance\nenjoy\nenlist\nenough\nenrich\nenroll\nensure\nenter\nentire\nentry\nenvelope\nepisode\nequal\nequip\nera\nerase\nerode\nerosion\nerror\nerupt\nescape\nessay\nessence\nestate\neternal\nethics\nevidence\nevil\nevoke\nevolve\nexact\nexample\nexcess\nexchange\nexcite\nexclude\nexcuse\nexecute\nexercise\nexhaust\nexhibit\nexile\nexist\nexit\nexotic\nexpand\nexpect\nexpire\nexplain\nexpose\nexpress\nextend\nextra\neye\neyebrow\nfabric\nface\nfaculty\nfade\nfaint\nfaith\nfall\nfalse\nfame\nfamily\nfamous\nfan\nfancy\nfantasy\nfarm\nfashion\nfat\nfatal\nfather\nfatigue\nfault\nfavorite\nfeature\nfebruary\nfederal\nfee\nfeed\nfeel\nfemale\nfence\nfestival\nfetch\nfever\nfew\nfiber\nfiction\nfield\nfigure\nfile\nfilm\nfilter\nfinal\nfind\nfine\nfinger\nfinish\nfire\nfirm\nfirst\nfiscal\nfish\nfit\nfitness\nfix\nflag\nflame\nflash\nflat\nflavor\nflee\nflight\nflip\nfloat\nflock\nfloor\nflower\nfluid\nflush\nfly\nfoam\nfocus\nfog\nfoil\nfold\nfollow\nfood\nfoot\nforce\nforest\nforget\nfork\nfortune\nforum\nforward\nfossil\nfoster\nfound\nfox\nfragile\nframe\nfrequent\nfresh\nfriend\nfringe\nfrog\nfront\nfrost\nfrown\nfrozen\nfruit\nfuel\nfun\nfunny\nfurnace\nfury\nfuture\ngadget\ngain\ngalaxy\ngallery\ngame\ngap\ngarage\ngarbage\ngarden\ngarlic\ngarment\ngas\ngasp\ngate\ngather\ngauge\ngaze\ngeneral\ngenius\ngenre\ngentle\ngenuine\ngesture\nghost\ngiant\ngift\ngiggle\nginger\ngiraffe\ngirl\ngive\nglad\nglance\nglare\nglass\nglide\nglimpse\nglobe\ngloom\nglory\nglove\nglow\nglue\ngoat\ngoddess\ngold\ngood\ngoose\ngorilla\ngospel\ngossip\ngovern\ngown\ngrab\ngrace\ngrain\ngrant\ngrape\ngrass\ngravity\ngreat\ngreen\ngrid\ngrief\ngrit\ngrocery\ngroup\ngrow\ngrunt\nguard\nguess\nguide\nguilt\nguitar\ngun\ngym\nhabit\nhair\nhalf\nhammer\nhamster\nhand\nhappy\nharbor\nhard\nharsh\nharvest\nhat\nhave\nhawk\nhazard\nhead\nhealth\nheart\nheavy\nhedgehog\nheight\nhello\nhelmet\nhelp\nhen\nhero\nhidden\nhigh\nhill\nhint\nhip\nhire\nhistory\nhobby\nhockey\nhold\nhole\nholiday\nhollow\nhome\nhoney\nhood\nhope\nhorn\nhorror\nhorse\nhospital\nhost\nhotel\nhour\nhover\nhub\nhuge\nhuman\nhumble\nhumor\nhundred\nhungry\nhunt\nhurdle\nhurry\nhurt\nhusband\nhybrid\nice\nicon\nidea\nidentify\nidle\nignore\nill\nillegal\nillness\nimage\nimitate\nimmense\nimmune\nimpact\nimpose\nimprove\nimpulse\ninch\ninclude\nincome\nincrease\nindex\nindicate\nindoor\nindustry\ninfant\ninflict\ninform\ninhale\ninherit\ninitial\ninject\ninjury\ninmate\ninner\ninnocent\ninput\ninquiry\ninsane\ninsect\ninside\ninspire\ninstall\nintact\ninterest\ninto\ninvest\ninvite\ninvolve\niron\nisland\nisolate\nissue\nitem\nivory\njacket\njaguar\njar\njazz\njealous\njeans\njelly\njewel\njob\njoin\njoke\njourney\njoy\njudge\njuice\njump\njungle\njunior\njunk\njust\nkangaroo\nkeen\nkeep\nketchup\nkey\nkick\nkid\nkidney\nkind\nkingdom\nkiss\nkit\nkitchen\nkite\nkitten\nkiwi\nknee\nknife\nknock\nknow\nlab\nlabel\nlabor\nladder\nlady\nlake\nlamp\nlanguage\nlaptop\nlarge\nlater\nlatin\nlaugh\nlaundry\nlava\nlaw\nlawn\nlawsuit\nlayer\nlazy\nleader\nleaf\nlearn\nleave\nlecture\nleft\nleg\nlegal\nlegend\nleisure\nlemon\nlend\nlength\nlens\nleopard\nlesson\nletter\nlevel\nliar\nliberty\nlibrary\nlicense\nlife\nlift\nlight\nlike\nlimb\nlimit\nlink\nlion\nliquid\nlist\nlittle\nlive\nlizard\nload\nloan\nlobster\nlocal\nlock\nlogic\nlonely\nlong\nloop\nlottery\nloud\nlounge\nlove\nloyal\nlucky\nluggage\nlumber\nlunar\nlunch\nluxury\nlyrics\nmachine\nmad\nmagic\nmagnet\nmaid\nmail\nmain\nmajor\nmake\nmammal\nman\nmanage\nmandate\nmango\nmansion\nmanual\nmaple\nmarble\nmarch\nmargin\nmarine\nmarket\nmarriage\nmask\nmass\nmaster\nmatch\nmaterial\nmath\nmatrix\nmatter\nmaximum\nmaze\nmeadow\nmean\nmeasure\nmeat\nmechanic\nmedal\nmedia\nmelody\nmelt\nmember\nmemory\nmention\nmenu\nmercy\nmerge\nmerit\nmerry\nmesh\nmessage\nmetal\nmethod\nmiddle\nmidnight\nmilk\nmillion\nmimic\nmind\nminimum\nminor\nminute\nmiracle\nmirror\nmisery\nmiss\nmistake\nmix\nmixed\nmixture\nmobile\nmodel\nmodify\nmom\nmoment\nmonitor\nmonkey\nmonster\nmonth\nmoon\nmoral\nmore\nmorning\nmosquito\nmother\nmotion\nmotor\nmountain\nmouse\nmove\nmovie\nmuch\nmuffin\nmule\nmultiply\nmuscle\nmuseum\nmushroom\nmusic\nmust\nmutual\nmyself\nmystery\nmyth\nnaive\nname\nnapkin\nnarrow\nnasty\nnation\nnature\nnear\nneck\nneed\nnegative\nneglect\nneither\nnephew\nnerve\nnest\nnet\nnetwork\nneutral\nnever\nnews\nnext\nnice\nnight\nnoble\nnoise\nnominee\nnoodle\nnormal\nnorth\nnose\nnotable\nnote\nnothing\nnotice\nnovel\nnow\nnuclear\nnumber\nnurse\nnut\noak\nobey\nobject\noblige\nobscure\nobserve\nobtain\nobvious\noccur\nocean\noctober\nodor\noff\noffer\noffice\noften\noil\nokay\nold\nolive\nolympic\nomit\nonce\none\nonion\nonline\nonly\nopen\nopera\nopinion\noppose\noption\norange\norbit\norchard\norder\nordinary\norgan\norient\noriginal\norphan\nostrich\nother\noutdoor\nouter\noutput\noutside\noval\noven\nover\nown\nowner\noxygen\noyster\nozone\npact\npaddle\npage\npair\npalace\npalm\npanda\npanel\npanic\npanther\npaper\nparade\nparent\npark\nparrot\nparty\npass\npatch\npath\npatient\npatrol\npattern\npause\npave\npayment\npeace\npeanut\npear\npeasant\npelican\npen\npenalty\npencil\npeople\npepper\nperfect\npermit\nperson\npet\nphone\nphoto\nphrase\nphysical\npiano\npicnic\npicture\npiece\npig\npigeon\npill\npilot\npink\npioneer\npipe\npistol\npitch\npizza\nplace\nplanet\nplastic\nplate\nplay\nplease\npledge\npluck\nplug\nplunge\npoem\npoet\npoint\npolar\npole\npolice\npond\npony\npool\npopular\nportion\nposition\npossible\npost\npotato\npottery\npoverty\npowder\npower\npractice\npraise\npredict\nprefer\nprepare\npresent\npretty\nprevent\nprice\npride\nprimary\nprint\npriority\nprison\nprivate\nprize\nproblem\nprocess\nproduce\nprofit\nprogram\nproject\npromote\nproof\nproperty\nprosper\nprotect\nproud\nprovide\npublic\npudding\npull\npulp\npulse\npumpkin\npunch\npupil\npuppy\npurchase\npurity\npurpose\npurse\npush\nput\npuzzle\npyramid\nquality\nquantum\nquarter\nquestion\nquick\nquit\nquiz\nquote\nrabbit\nraccoon\nrace\nrack\nradar\nradio\nrail\nrain\nraise\nrally\nramp\nranch\nrandom\nrange\nrapid\nrare\nrate\nrather\nraven\nraw\nrazor\nready\nreal\nreason\nrebel\nrebuild\nrecall\nreceive\nrecipe\nrecord\nrecycle\nreduce\nreflect\nreform\nrefuse\nregion\nregret\nregular\nreject\nrelax\nrelease\nrelief\nrely\nremain\nremember\nremind\nremove\nrender\nrenew\nrent\nreopen\nrepair\nrepeat\nreplace\nreport\nrequire\nrescue\nresemble\nresist\nresource\nresponse\nresult\nretire\nretreat\nreturn\nreunion\nreveal\nreview\nreward\nrhythm\nrib\nribbon\nrice\nrich\nride\nridge\nrifle\nright\nrigid\nring\nriot\nripple\nrisk\nritual\nrival\nriver\nroad\nroast\nrobot\nrobust\nrocket\nromance\nroof\nrookie\nroom\nrose\nrotate\nrough\nround\nroute\nroyal\nrubber\nrude\nrug\nrule\nrun\nrunway\nrural\nsad\nsaddle\nsadness\nsafe\nsail\nsalad\nsalmon\nsalon\nsalt\nsalute\nsame\nsample\nsand\nsatisfy\nsatoshi\nsauce\nsausage\nsave\nsay\nscale\nscan\nscare\nscatter\nscene\nscheme\nschool\nscience\nscissors\nscorpion\nscout\nscrap\nscreen\nscript\nscrub\nsea\nsearch\nseason\nseat\nsecond\nsecret\nsection\nsecurity\nseed\nseek\nsegment\nselect\nsell\nseminar\nsenior\nsense\nsentence\nseries\nservice\nsession\nsettle\nsetup\nseven\nshadow\nshaft\nshallow\nshare\nshed\nshell\nsheriff\nshield\nshift\nshine\nship\nshiver\nshock\nshoe\nshoot\nshop\nshort\nshoulder\nshove\nshrimp\nshrug\nshuffle\nshy\nsibling\nsick\nside\nsiege\nsight\nsign\nsilent\nsilk\nsilly\nsilver\nsimilar\nsimple\nsince\nsing\nsiren\nsister\nsituate\nsix\nsize\nskate\nsketch\nski\nskill\nskin\nskirt\nskull\nslab\nslam\nsleep\nslender\nslice\nslide\nslight\nslim\nslogan\nslot\nslow\nslush\nsmall\nsmart\nsmile\nsmoke\nsmooth\nsnack\nsnake\nsnap\nsniff\nsnow\nsoap\nsoccer\nsocial\nsock\nsoda\nsoft\nsolar\nsoldier\nsolid\nsolution\nsolve\nsomeone\nsong\nsoon\nsorry\nsort\nsoul\nsound\nsoup\nsource\nsouth\nspace\nspare\nspatial\nspawn\nspeak\nspecial\nspeed\nspell\nspend\nsphere\nspice\nspider\nspike\nspin\nspirit\nsplit\nspoil\nsponsor\nspoon\nsport\nspot\nspray\nspread\nspring\nspy\nsquare\nsqueeze\nsquirrel\nstable\nstadium\nstaff\nstage\nstairs\nstamp\nstand\nstart\nstate\nstay\nsteak\nsteel\nstem\nstep\nstereo\nstick\nstill\nsting\nstock\nstomach\nstone\nstool\nstory\nstove\nstrategy\nstreet\nstrike\nstrong\nstruggle\nstudent\nstuff\nstumble\nstyle\nsubject\nsubmit\nsubway\nsuccess\nsuch\nsudden\nsuffer\nsugar\nsuggest\nsuit\nsummer\nsun\nsunny\nsunset\nsuper\nsupply\nsupreme\nsure\nsurface\nsurge\nsurprise\nsurround\nsurvey\nsuspect\nsustain\nswallow\nswamp\nswap\nswarm\nswear\nsweet\nswift\nswim\nswing\nswitch\nsword\nsymbol\nsymptom\nsyrup\nsystem\ntable\ntackle\ntag\ntail\ntalent\ntalk\ntank\ntape\ntarget\ntask\ntaste\ntattoo\ntaxi\nteach\nteam\ntell\nten\ntenant\ntennis\ntent\nterm\ntest\ntext\nthank\nthat\ntheme\nthen\ntheory\nthere\nthey\nthing\nthis\nthought\nthree\nthrive\nthrow\nthumb\nthunder\nticket\ntide\ntiger\ntilt\ntimber\ntime\ntiny\ntip\ntired\ntissue\ntitle\ntoast\ntobacco\ntoday\ntoddler\ntoe\ntogether\ntoilet\ntoken\ntomato\ntomorrow\ntone\ntongue\ntonight\ntool\ntooth\ntop\ntopic\ntopple\ntorch\ntornado\ntortoise\ntoss\ntotal\ntourist\ntoward\ntower\ntown\ntoy\ntrack\ntrade\ntraffic\ntragic\ntrain\ntransfer\ntrap\ntrash\ntravel\ntray\ntreat\ntree\ntrend\ntrial\ntribe\ntrick\ntrigger\ntrim\ntrip\ntrophy\ntrouble\ntruck\ntrue\ntruly\ntrumpet\ntrust\ntruth\ntry\ntube\ntuition\ntumble\ntuna\ntunnel\nturkey\nturn\nturtle\ntwelve\ntwenty\ntwice\ntwin\ntwist\ntwo\ntype\ntypical\nugly\numbrella\nunable\nunaware\nuncle\nuncover\nunder\nundo\nunfair\nunfold\nunhappy\nuniform\nunique\nunit\nuniverse\nunknown\nunlock\nuntil\nunusual\nunveil\nupdate\nupgrade\nuphold\nupon\nupper\nupset\nurban\nurge\nusage\nuse\nused\nuseful\nuseless\nusual\nutility\nvacant\nvacuum\nvague\nvalid\nvalley\nvalve\nvan\nvanish\nvapor\nvarious\nvast\nvault\nvehicle\nvelvet\nvendor\nventure\nvenue\nverb\nverify\nversion\nvery\nvessel\nveteran\nviable\nvibrant\nvicious\nvictory\nvideo\nview\nvillage\nvintage\nviolin\nvirtual\nvirus\nvisa\nvisit\nvisual\nvital\nvivid\nvocal\nvoice\nvoid\nvolcano\nvolume\nvote\nvoyage\nwage\nwagon\nwait\nwalk\nwall\nwalnut\nwant\nwarfare\nwarm\nwarrior\nwash\nwasp\nwaste\nwater\nwave\nway\nwealth\nweapon\nwear\nweasel\nweather\nweb\nwedding\nweekend\nweird\nwelcome\nwest\nwet\nwhale\nwhat\nwheat\nwheel\nwhen\nwhere\nwhip\nwhisper\nwide\nwidth\nwife\nwild\nwill\nwin\nwindow\nwine\nwing\nwink\nwinner\nwinter\nwire\nwisdom\nwise\nwish\nwitness\nwolf\nwoman\nwonder\nwood\nwool\nword\nwork\nworld\nworry\nworth\nwrap\nwreck\nwrestle\nwrist\nwrite\nwrong\nyard\nyear\nyellow\nyou\nyoung\nyouth\nzebra\nzero\nzone\nzoo".split("\n")},23:(e,t)=>{"use strict";function n(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function r(e){if("boolean"!=typeof e)throw new Error(`Expected boolean, not ${e}`)}function i(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function o(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");n(e.outputLen),n(e.blockLen)}function s(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function a(e,t){i(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}Object.defineProperty(t,"__esModule",{value:!0}),t.output=t.exists=t.hash=t.bytes=t.bool=t.number=void 0,t.number=n,t.bool=r,t.bytes=i,t.hash=o,t.exists=s,t.output=a;const c={number:n,bool:r,bytes:i,hash:o,exists:s,output:a};t.default=c},350:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHA2=void 0;const r=n(23),i=n(846);class o extends i.Hash{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,i.createView)(this.buffer)}update(e){(0,r.exists)(this);const{view:t,buffer:n,blockLen:o}=this,s=(e=(0,i.toBytes)(e)).length;for(let r=0;r<s;){const a=Math.min(o-this.pos,s-r);if(a!==o)n.set(e.subarray(r,r+a),this.pos),this.pos+=a,r+=a,this.pos===o&&(this.process(t,0),this.pos=0);else{const t=(0,i.createView)(e);for(;o<=s-r;r+=o)this.process(t,r)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,r.exists)(this),(0,r.output)(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:o,isLE:s}=this;let{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>o-a&&(this.process(n,0),a=0);for(let e=a;e<o;e++)t[e]=0;!function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),c=r?4:0,d=r?0:4;e.setUint32(t+c,s,r),e.setUint32(t+d,a,r)}(n,o-8,BigInt(8*this.length),s),this.process(n,0);const c=(0,i.createView)(e),d=this.outputLen;if(d%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=d/4,h=this.get();if(u>h.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<u;e++)c.setUint32(4*e,h[e],s)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:o,pos:s}=this;return e.length=r,e.pos=s,e.finished=i,e.destroyed=o,r%t&&e.buffer.set(n),e}}t.SHA2=o},568:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.add5L=t.add5H=t.add4H=t.add4L=t.add3H=t.add3L=t.add=t.rotlBL=t.rotlBH=t.rotlSL=t.rotlSH=t.rotr32L=t.rotr32H=t.rotrBL=t.rotrBH=t.rotrSL=t.rotrSH=t.shrSL=t.shrSH=t.toBig=t.split=t.fromBig=void 0;const n=BigInt(2**32-1),r=BigInt(32);function i(e,t=!1){return t?{h:Number(e&n),l:Number(e>>r&n)}:{h:0|Number(e>>r&n),l:0|Number(e&n)}}function o(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let o=0;o<e.length;o++){const{h:s,l:a}=i(e[o],t);[n[o],r[o]]=[s,a]}return[n,r]}t.fromBig=i,t.split=o;const s=(e,t)=>BigInt(e>>>0)<<r|BigInt(t>>>0);t.toBig=s;const a=(e,t,n)=>e>>>n;t.shrSH=a;const c=(e,t,n)=>e<<32-n|t>>>n;t.shrSL=c;const d=(e,t,n)=>e>>>n|t<<32-n;t.rotrSH=d;const u=(e,t,n)=>e<<32-n|t>>>n;t.rotrSL=u;const h=(e,t,n)=>e<<64-n|t>>>n-32;t.rotrBH=h;const f=(e,t,n)=>e>>>n-32|t<<64-n;t.rotrBL=f;const l=(e,t)=>t;t.rotr32H=l;const p=(e,t)=>e;t.rotr32L=p;const y=(e,t,n)=>e<<n|t>>>32-n;t.rotlSH=y;const g=(e,t,n)=>t<<n|e>>>32-n;t.rotlSL=g;const w=(e,t,n)=>t<<n-32|e>>>64-n;t.rotlBH=w;const b=(e,t,n)=>e<<n-32|t>>>64-n;function m(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:0|i}}t.rotlBL=b,t.add=m;const v=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0);t.add3L=v;const x=(e,t,n,r)=>t+n+r+(e/2**32|0)|0;t.add3H=x;const E=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0);t.add4L=E;const B=(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0;t.add4H=B;const A=(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0);t.add5L=A;const I=(e,t,n,r,i,o)=>t+n+r+i+o+(e/2**32|0)|0;t.add5H=I;const S={fromBig:i,split:o,toBig:s,shrSH:a,shrSL:c,rotrSH:d,rotrSL:u,rotrBH:h,rotrBL:f,rotr32H:l,rotr32L:p,rotlSH:y,rotlSL:g,rotlBH:w,rotlBL:b,add:m,add3L:v,add3H:x,add4L:E,add4H:B,add5H:I,add5L:A};t.default=S},808:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.crypto=void 0,t.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},180:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hmac=t.HMAC=void 0;const r=n(23),i=n(846);class o extends i.Hash{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,(0,r.hash)(e);const n=(0,i.toBytes)(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,s=new Uint8Array(o);s.set(n.length>o?e.create().update(n).digest():n);for(let e=0;e<s.length;e++)s[e]^=54;this.iHash.update(s),this.oHash=e.create();for(let e=0;e<s.length;e++)s[e]^=106;this.oHash.update(s),s.fill(0)}update(e){return(0,r.exists)(this),this.iHash.update(e),this}digestInto(e){(0,r.exists)(this),(0,r.bytes)(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:o,outputLen:s}=this;return e.finished=r,e.destroyed=i,e.blockLen=o,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}t.HMAC=o;t.hmac=(e,t,n)=>new o(e,t).update(n).digest(),t.hmac.create=(e,t)=>new o(e,t)},707:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pbkdf2Async=t.pbkdf2=void 0;const r=n(23),i=n(180),o=n(846);function s(e,t,n,s){(0,r.hash)(e);const a=(0,o.checkOpts)({dkLen:32,asyncTick:10},s),{c,dkLen:d,asyncTick:u}=a;if((0,r.number)(c),(0,r.number)(d),(0,r.number)(u),c<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const h=(0,o.toBytes)(t),f=(0,o.toBytes)(n),l=new Uint8Array(d),p=i.hmac.create(e,h),y=p._cloneInto().update(f);return{c,dkLen:d,asyncTick:u,DK:l,PRF:p,PRFSalt:y}}function a(e,t,n,r,i){return e.destroy(),t.destroy(),r&&r.destroy(),i.fill(0),n}t.pbkdf2=function(e,t,n,r){const{c:i,dkLen:c,DK:d,PRF:u,PRFSalt:h}=s(e,t,n,r);let f;const l=new Uint8Array(4),p=(0,o.createView)(l),y=new Uint8Array(u.outputLen);for(let e=1,t=0;t<c;e++,t+=u.outputLen){const n=d.subarray(t,t+u.outputLen);p.setInt32(0,e,!1),(f=h._cloneInto(f)).update(l).digestInto(y),n.set(y.subarray(0,n.length));for(let e=1;e<i;e++){u._cloneInto(f).update(y).digestInto(y);for(let e=0;e<n.length;e++)n[e]^=y[e]}}return a(u,h,d,f,y)},t.pbkdf2Async=async function(e,t,n,r){const{c:i,dkLen:c,asyncTick:d,DK:u,PRF:h,PRFSalt:f}=s(e,t,n,r);let l;const p=new Uint8Array(4),y=(0,o.createView)(p),g=new Uint8Array(h.outputLen);for(let e=1,t=0;t<c;e++,t+=h.outputLen){const n=u.subarray(t,t+h.outputLen);y.setInt32(0,e,!1),(l=f._cloneInto(l)).update(p).digestInto(g),n.set(g.subarray(0,n.length)),await(0,o.asyncLoop)(i-1,d,(()=>{h._cloneInto(l).update(g).digestInto(g);for(let e=0;e<n.length;e++)n[e]^=g[e]}))}return a(h,f,u,l,g)}},30:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sha224=t.sha256=void 0;const r=n(350),i=n(846),o=(e,t,n)=>e&t^e&n^t&n,s=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),a=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),c=new Uint32Array(64);class d extends r.SHA2{constructor(){super(64,32,8,!1),this.A=0|a[0],this.B=0|a[1],this.C=0|a[2],this.D=0|a[3],this.E=0|a[4],this.F=0|a[5],this.G=0|a[6],this.H=0|a[7]}get(){const{A:e,B:t,C:n,D:r,E:i,F:o,G:s,H:a}=this;return[e,t,n,r,i,o,s,a]}set(e,t,n,r,i,o,s,a){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(e,t){for(let n=0;n<16;n++,t+=4)c[n]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=c[e-15],n=c[e-2],r=(0,i.rotr)(t,7)^(0,i.rotr)(t,18)^t>>>3,o=(0,i.rotr)(n,17)^(0,i.rotr)(n,19)^n>>>10;c[e]=o+c[e-7]+r+c[e-16]|0}let{A:n,B:r,C:a,D:d,E:u,F:h,G:f,H:l}=this;for(let e=0;e<64;e++){const t=l+((0,i.rotr)(u,6)^(0,i.rotr)(u,11)^(0,i.rotr)(u,25))+((p=u)&h^~p&f)+s[e]+c[e]|0,y=((0,i.rotr)(n,2)^(0,i.rotr)(n,13)^(0,i.rotr)(n,22))+o(n,r,a)|0;l=f,f=h,h=u,u=d+t|0,d=a,a=r,r=n,n=t+y|0}var p;n=n+this.A|0,r=r+this.B|0,a=a+this.C|0,d=d+this.D|0,u=u+this.E|0,h=h+this.F|0,f=f+this.G|0,l=l+this.H|0,this.set(n,r,a,d,u,h,f,l)}roundClean(){c.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class u extends d{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}t.sha256=(0,i.wrapConstructor)((()=>new d)),t.sha224=(0,i.wrapConstructor)((()=>new u))},63:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sha384=t.sha512_256=t.sha512_224=t.sha512=t.SHA512=void 0;const r=n(350),i=n(568),o=n(846),[s,a]=i.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))),c=new Uint32Array(80),d=new Uint32Array(80);class u extends r.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:i,Cl:o,Dh:s,Dl:a,Eh:c,El:d,Fh:u,Fl:h,Gh:f,Gl:l,Hh:p,Hl:y}=this;return[e,t,n,r,i,o,s,a,c,d,u,h,f,l,p,y]}set(e,t,n,r,i,o,s,a,c,d,u,h,f,l,p,y){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|i,this.Cl=0|o,this.Dh=0|s,this.Dl=0|a,this.Eh=0|c,this.El=0|d,this.Fh=0|u,this.Fl=0|h,this.Gh=0|f,this.Gl=0|l,this.Hh=0|p,this.Hl=0|y}process(e,t){for(let n=0;n<16;n++,t+=4)c[n]=e.getUint32(t),d[n]=e.getUint32(t+=4);for(let e=16;e<80;e++){const t=0|c[e-15],n=0|d[e-15],r=i.default.rotrSH(t,n,1)^i.default.rotrSH(t,n,8)^i.default.shrSH(t,n,7),o=i.default.rotrSL(t,n,1)^i.default.rotrSL(t,n,8)^i.default.shrSL(t,n,7),s=0|c[e-2],a=0|d[e-2],u=i.default.rotrSH(s,a,19)^i.default.rotrBH(s,a,61)^i.default.shrSH(s,a,6),h=i.default.rotrSL(s,a,19)^i.default.rotrBL(s,a,61)^i.default.shrSL(s,a,6),f=i.default.add4L(o,h,d[e-7],d[e-16]),l=i.default.add4H(f,r,u,c[e-7],c[e-16]);c[e]=0|l,d[e]=0|f}let{Ah:n,Al:r,Bh:o,Bl:u,Ch:h,Cl:f,Dh:l,Dl:p,Eh:y,El:g,Fh:w,Fl:b,Gh:m,Gl:v,Hh:x,Hl:E}=this;for(let e=0;e<80;e++){const t=i.default.rotrSH(y,g,14)^i.default.rotrSH(y,g,18)^i.default.rotrBH(y,g,41),B=i.default.rotrSL(y,g,14)^i.default.rotrSL(y,g,18)^i.default.rotrBL(y,g,41),A=y&w^~y&m,I=g&b^~g&v,S=i.default.add5L(E,B,I,a[e],d[e]),k=i.default.add5H(S,x,t,A,s[e],c[e]),H=0|S,L=i.default.rotrSH(n,r,28)^i.default.rotrBH(n,r,34)^i.default.rotrBH(n,r,39),U=i.default.rotrSL(n,r,28)^i.default.rotrBL(n,r,34)^i.default.rotrBL(n,r,39),P=n&o^n&h^o&h,C=r&u^r&f^u&f;x=0|m,E=0|v,m=0|w,v=0|b,w=0|y,b=0|g,({h:y,l:g}=i.default.add(0|l,0|p,0|k,0|H)),l=0|h,p=0|f,h=0|o,f=0|u,o=0|n,u=0|r;const O=i.default.add3L(H,U,C);n=i.default.add3H(O,k,L,P),r=0|O}({h:n,l:r}=i.default.add(0|this.Ah,0|this.Al,0|n,0|r)),({h:o,l:u}=i.default.add(0|this.Bh,0|this.Bl,0|o,0|u)),({h,l:f}=i.default.add(0|this.Ch,0|this.Cl,0|h,0|f)),({h:l,l:p}=i.default.add(0|this.Dh,0|this.Dl,0|l,0|p)),({h:y,l:g}=i.default.add(0|this.Eh,0|this.El,0|y,0|g)),({h:w,l:b}=i.default.add(0|this.Fh,0|this.Fl,0|w,0|b)),({h:m,l:v}=i.default.add(0|this.Gh,0|this.Gl,0|m,0|v)),({h:x,l:E}=i.default.add(0|this.Hh,0|this.Hl,0|x,0|E)),this.set(n,r,o,u,h,f,l,p,y,g,w,b,m,v,x,E)}roundClean(){c.fill(0),d.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}t.SHA512=u;class h extends u{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class f extends u{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class l extends u{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}t.sha512=(0,o.wrapConstructor)((()=>new u)),t.sha512_224=(0,o.wrapConstructor)((()=>new h)),t.sha512_256=(0,o.wrapConstructor)((()=>new f)),t.sha384=(0,o.wrapConstructor)((()=>new l))},846:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomBytes=t.wrapXOFConstructorWithOpts=t.wrapConstructorWithOpts=t.wrapConstructor=t.checkOpts=t.Hash=t.concatBytes=t.toBytes=t.utf8ToBytes=t.asyncLoop=t.nextTick=t.hexToBytes=t.bytesToHex=t.isLE=t.rotr=t.createView=t.u32=t.u8=void 0;const r=n(808),i=e=>e instanceof Uint8Array;t.u8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength);t.u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));t.createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);if(t.rotr=(e,t)=>e<<32-t|e>>>t,t.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!t.isLE)throw new Error("Non little-endian hardware is not supported");const o=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));t.bytesToHex=function(e){if(!i(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=o[e[n]];return t},t.hexToBytes=function(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let t=0;t<n.length;t++){const r=2*t,i=e.slice(r,r+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");n[t]=o}return n};function s(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function a(e){if("string"==typeof e&&(e=s(e)),!i(e))throw new Error("expected Uint8Array, got "+typeof e);return e}t.nextTick=async()=>{},t.asyncLoop=async function(e,n,r){let i=Date.now();for(let o=0;o<e;o++){r(o);const e=Date.now()-i;e>=0&&e<n||(await(0,t.nextTick)(),i+=e)}},t.utf8ToBytes=s,t.toBytes=a,t.concatBytes=function(...e){const t=new Uint8Array(e.reduce(((e,t)=>e+t.length),0));let n=0;return e.forEach((e=>{if(!i(e))throw new Error("Uint8Array expected");t.set(e,n),n+=e.length})),t};t.Hash=class{clone(){return this._cloneInto()}};const c={}.toString;t.checkOpts=function(e,t){if(void 0!==t&&"[object Object]"!==c.call(t))throw new Error("Options should be object or undefined");return Object.assign(e,t)},t.wrapConstructor=function(e){const t=t=>e().update(a(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t},t.wrapConstructorWithOpts=function(e){const t=(t,n)=>e(n).update(a(t)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t},t.wrapXOFConstructorWithOpts=function(e){const t=(t,n)=>e(n).update(a(t)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t},t.randomBytes=function(e=32){if(r.crypto&&"function"==typeof r.crypto.getRandomValues)return r.crypto.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}},269:(e,t)=>{"use strict";function n(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function r(...e){const t=(e,t)=>n=>e(t(n)),n=Array.from(e).reverse().reduce(((e,n)=>e?t(e,n.encode):n.encode),void 0),r=e.reduce(((e,n)=>e?t(e,n.decode):n.decode),void 0);return{encode:n,decode:r}}function i(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("alphabet.encode input should be an array of numbers");return t.map((t=>{if(n(t),t<0||t>=e.length)throw new Error(`Digit index outside alphabet: ${t} (alphabet: ${e.length})`);return e[t]}))},decode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("alphabet.decode input should be array of strings");return t.map((t=>{if("string"!=typeof t)throw new Error(`alphabet.decode: not string element=${t}`);const n=e.indexOf(t);if(-1===n)throw new Error(`Unknown letter: "${t}". Allowed: ${e}`);return n}))}}}function o(e=""){if("string"!=typeof e)throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("join.encode input should be array of strings");for(let e of t)if("string"!=typeof e)throw new Error(`join.encode: non-string input=${e}`);return t.join(e)},decode:t=>{if("string"!=typeof t)throw new Error("join.decode input should be string");return t.split(e)}}}function s(e,t="="){if(n(e),"string"!=typeof t)throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&"string"!=typeof n[0])throw new Error("padding.encode input should be array of strings");for(let e of n)if("string"!=typeof e)throw new Error(`padding.encode: non-string input=${e}`);for(;n.length*e%8;)n.push(t);return n},decode(n){if(!Array.isArray(n)||n.length&&"string"!=typeof n[0])throw new Error("padding.encode input should be array of strings");for(let e of n)if("string"!=typeof e)throw new Error(`padding.decode: non-string input=${e}`);let r=n.length;if(r*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--)if(!((r-1)*e%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,r)}}}function a(e){if("function"!=typeof e)throw new Error("normalize fn should be function");return{encode:e=>e,decode:t=>e(t)}}function c(e,t,r){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(r<2)throw new Error(`convertRadix: wrong to=${r}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let i=0;const o=[],s=Array.from(e);for(s.forEach((e=>{if(n(e),e<0||e>=t)throw new Error(`Wrong integer: ${e}`)}));;){let e=0,n=!0;for(let o=i;o<s.length;o++){const a=s[o],c=t*e+a;if(!Number.isSafeInteger(c)||t*e/t!==e||c-a!=t*e)throw new Error("convertRadix: carry overflow");e=c%r;const d=Math.floor(c/r);if(s[o]=d,!Number.isSafeInteger(d)||d*r+e!==c)throw new Error("convertRadix: carry overflow");n&&(d?n=!1:i=o)}if(o.push(e),n)break}for(let t=0;t<e.length-1&&0===e[t];t++)o.push(0);return o.reverse()}Object.defineProperty(t,"__esModule",{value:!0}),t.bytes=t.stringToBytes=t.str=t.bytesToString=t.hex=t.utf8=t.bech32m=t.bech32=t.base58check=t.base58xmr=t.base58xrp=t.base58flickr=t.base58=t.base64urlnopad=t.base64url=t.base64=t.base32crockford=t.base32hex=t.base32=t.base16=t.utils=t.assertNumber=void 0,t.assertNumber=n;const d=(e,t)=>t?d(t,e%t):e,u=(e,t)=>e+(t-d(e,t));function h(e,t,r,i){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(u(t,r)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${r} carryBits=${u(t,r)}`);let o=0,s=0;const a=2**r-1,c=[];for(const i of e){if(n(i),i>=2**t)throw new Error(`convertRadix2: invalid data word=${i} from=${t}`);if(o=o<<t|i,s+t>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${t}`);for(s+=t;s>=r;s-=r)c.push((o>>s-r&a)>>>0);o&=2**s-1}if(o=o<<r-s&a,!i&&s>=t)throw new Error("Excess padding");if(!i&&o)throw new Error(`Non-zero padding: ${o}`);return i&&s>0&&c.push(o>>>0),c}function f(e){return n(e),{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return c(Array.from(t),256,e)},decode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("radix.decode input should be array of strings");return Uint8Array.from(c(t,e,256))}}}function l(e,t=!1){if(n(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(u(8,e)>32||u(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!(n instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return h(Array.from(n),8,e,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&"number"!=typeof n[0])throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(h(n,e,8,t))}}}function p(e){if("function"!=typeof e)throw new Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch(e){}}}function y(e,t){if(n(e),"function"!=typeof t)throw new Error("checksum fn should be function");return{encode(n){if(!(n instanceof Uint8Array))throw new Error("checksum.encode: input should be Uint8Array");const r=t(n).slice(0,e),i=new Uint8Array(n.length+e);return i.set(n),i.set(r,n.length),i},decode(n){if(!(n instanceof Uint8Array))throw new Error("checksum.decode: input should be Uint8Array");const r=n.slice(0,-e),i=t(r).slice(0,e),o=n.slice(-e);for(let t=0;t<e;t++)if(i[t]!==o[t])throw new Error("Invalid checksum");return r}}}t.utils={alphabet:i,chain:r,checksum:y,radix:f,radix2:l,join:o,padding:s},t.base16=r(l(4),i("0123456789ABCDEF"),o("")),t.base32=r(l(5),i("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),s(5),o("")),t.base32hex=r(l(5),i("0123456789ABCDEFGHIJKLMNOPQRSTUV"),s(5),o("")),t.base32crockford=r(l(5),i("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),o(""),a((e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")))),t.base64=r(l(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),s(6),o("")),t.base64url=r(l(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),s(6),o("")),t.base64urlnopad=r(l(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),o(""));const g=e=>r(f(58),i(e),o(""));t.base58=g("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),t.base58flickr=g("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),t.base58xrp=g("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const w=[0,2,3,5,6,7,9,10,11];t.base58xmr={encode(e){let n="";for(let r=0;r<e.length;r+=8){const i=e.subarray(r,r+8);n+=t.base58.encode(i).padStart(w[i.length],"1")}return n},decode(e){let n=[];for(let r=0;r<e.length;r+=11){const i=e.slice(r,r+11),o=w.indexOf(i.length),s=t.base58.decode(i);for(let e=0;e<s.length-o;e++)if(0!==s[e])throw new Error("base58xmr: wrong padding");n=n.concat(Array.from(s.slice(s.length-o)))}return Uint8Array.from(n)}};t.base58check=e=>r(y(4,(t=>e(e(t)))),t.base58);const b=r(i("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),o("")),m=[996825010,642813549,513874426,1027748829,705979059];function v(e){const t=e>>25;let n=(33554431&e)<<5;for(let e=0;e<m.length;e++)1==(t>>e&1)&&(n^=m[e]);return n}function x(e,t,n=1){const r=e.length;let i=1;for(let t=0;t<r;t++){const n=e.charCodeAt(t);if(n<33||n>126)throw new Error(`Invalid prefix (${e})`);i=v(i)^n>>5}i=v(i);for(let t=0;t<r;t++)i=v(i)^31&e.charCodeAt(t);for(let e of t)i=v(i)^e;for(let e=0;e<6;e++)i=v(i);return i^=n,b.encode(h([i%2**30],30,5,!1))}function E(e){const t="bech32"===e?1:734539939,n=l(5),r=n.decode,i=n.encode,o=p(r);function s(e,n=90){if("string"!=typeof e)throw new Error("bech32.decode input should be string, not "+typeof e);if(e.length<8||!1!==n&&e.length>n)throw new TypeError(`Wrong string length: ${e.length} (${e}). Expected (8..${n})`);const r=e.toLowerCase();if(e!==r&&e!==e.toUpperCase())throw new Error("String must be lowercase or uppercase");const i=(e=r).lastIndexOf("1");if(0===i||-1===i)throw new Error('Letter "1" must be present between prefix and data only');const o=e.slice(0,i),s=e.slice(i+1);if(s.length<6)throw new Error("Data must be at least 6 characters long");const a=b.decode(s).slice(0,-6),c=x(o,a,t);if(!s.endsWith(c))throw new Error(`Invalid checksum in ${e}: expected "${c}"`);return{prefix:o,words:a}}return{encode:function(e,n,r=90){if("string"!=typeof e)throw new Error("bech32.encode prefix should be string, not "+typeof e);if(!Array.isArray(n)||n.length&&"number"!=typeof n[0])throw new Error("bech32.encode words should be array of numbers, not "+typeof n);const i=e.length+7+n.length;if(!1!==r&&i>r)throw new TypeError(`Length ${i} exceeds limit ${r}`);const o=e.toLowerCase(),s=x(o,n,t);return`${o}1${b.encode(n)}${s}`},decode:s,decodeToBytes:function(e){const{prefix:t,words:n}=s(e,!1);return{prefix:t,words:n,bytes:r(n)}},decodeUnsafe:p(s),fromWords:r,fromWordsUnsafe:o,toWords:i}}t.bech32=E("bech32"),t.bech32m=E("bech32m"),t.utf8={encode:e=>(new TextDecoder).decode(e),decode:e=>(new TextEncoder).encode(e)},t.hex=r(l(4),i("0123456789abcdef"),o(""),a((e=>{if("string"!=typeof e||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()})));const B={utf8:t.utf8,hex:t.hex,base16:t.base16,base32:t.base32,base64:t.base64,base64url:t.base64url,base58:t.base58,base58xmr:t.base58xmr},A="Invalid encoding type. Available types: utf8, hex, base16, base32, base64, base64url, base58, base58xmr";t.bytesToString=(e,t)=>{if("string"!=typeof e||!B.hasOwnProperty(e))throw new TypeError(A);if(!(t instanceof Uint8Array))throw new TypeError("bytesToString() expects Uint8Array");return B[e].encode(t)},t.str=t.bytesToString;t.stringToBytes=(e,t)=>{if(!B.hasOwnProperty(e))throw new TypeError(A);if("string"!=typeof t)throw new TypeError("stringToBytes() expects string");return B[e].decode(t)},t.bytes=t.stringToBytes},12:e=>{e.exports=s,s.default=s,s.stable=u,s.stableStringify=u;var t="[...]",n="[Circular]",r=[],i=[];function o(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function s(e,t,n,s){var a;void 0===s&&(s=o()),c(e,"",0,[],void 0,0,s);try{a=0===i.length?JSON.stringify(e,t,n):JSON.stringify(e,f(t),n)}catch(e){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==r.length;){var d=r.pop();4===d.length?Object.defineProperty(d[0],d[1],d[3]):d[0][d[1]]=d[2]}}return a}function a(e,t,n,o){var s=Object.getOwnPropertyDescriptor(o,n);void 0!==s.get?s.configurable?(Object.defineProperty(o,n,{value:e}),r.push([o,n,t,s])):i.push([t,n,e]):(o[n]=e,r.push([o,n,t]))}function c(e,r,i,o,s,d,u){var h;if(d+=1,"object"==typeof e&&null!==e){for(h=0;h<o.length;h++)if(o[h]===e)return void a(n,e,r,s);if(void 0!==u.depthLimit&&d>u.depthLimit)return void a(t,e,r,s);if(void 0!==u.edgesLimit&&i+1>u.edgesLimit)return void a(t,e,r,s);if(o.push(e),Array.isArray(e))for(h=0;h<e.length;h++)c(e[h],h,h,o,e,d,u);else{var f=Object.keys(e);for(h=0;h<f.length;h++){var l=f[h];c(e[l],l,h,o,e,d,u)}}o.pop()}}function d(e,t){return e<t?-1:e>t?1:0}function u(e,t,n,s){void 0===s&&(s=o());var a,c=h(e,"",0,[],void 0,0,s)||e;try{a=0===i.length?JSON.stringify(c,t,n):JSON.stringify(c,f(t),n)}catch(e){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==r.length;){var d=r.pop();4===d.length?Object.defineProperty(d[0],d[1],d[3]):d[0][d[1]]=d[2]}}return a}function h(e,i,o,s,c,u,f){var l;if(u+=1,"object"==typeof e&&null!==e){for(l=0;l<s.length;l++)if(s[l]===e)return void a(n,e,i,c);try{if("function"==typeof e.toJSON)return}catch(e){return}if(void 0!==f.depthLimit&&u>f.depthLimit)return void a(t,e,i,c);if(void 0!==f.edgesLimit&&o+1>f.edgesLimit)return void a(t,e,i,c);if(s.push(e),Array.isArray(e))for(l=0;l<e.length;l++)h(e[l],l,l,s,e,u,f);else{var p={},y=Object.keys(e).sort(d);for(l=0;l<y.length;l++){var g=y[l];h(e[g],g,l,s,e,u,f),p[g]=e[g]}if(void 0===c)return p;r.push([c,i,e]),c[i]=p}s.pop()}}function f(e){return e=void 0!==e?e:function(e,t){return t},function(t,n){if(i.length>0)for(var r=0;r<i.length;r++){var o=i[r];if(o[1]===t&&o[0]===n){n=o[2],i.splice(r,1);break}}return e.call(this,t,n)}}},315:()=>{},719:()=>{}},r={};function i(e){var t=r[e];if(void 0!==t)return t.exports;var o=r[e]={exports:{}};return n[e](o,o.exports,i),o.exports}t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,i.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var o=Object.create(null);i.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&r&&n;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>s[e]=()=>n[e]));return s.default=()=>n,i.d(o,s),o},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};(()=>{"use strict";i.r(o),i.d(o,{onRpcRequest:()=>ph});var e={};i.r(e),i.d(e,{dQ:()=>_o,ci:()=>Ko,bytesToNumberBE:()=>No,ty:()=>To,eV:()=>Do,n$:()=>Vo,ql:()=>zo,hexToBytes:()=>Fo,tL:()=>$o,S5:()=>jo,FF:()=>Wo});var t={};i.r(t),i.d(t,{compressPublicKey:()=>Uc,compressedPublicKeyLength:()=>Kc,curve:()=>Ec,decompressPublicKey:()=>Pc,deriveUnhardenedKeys:()=>Sc,getPublicKey:()=>Hc,isValidPrivateKey:()=>Ic,masterNodeGenerationSpec:()=>Oc,name:()=>Bc,privateKeyLength:()=>Cc,publicAdd:()=>Lc,publicKeyLength:()=>kc,secret:()=>Ac});var n={};i.r(n),i.d(n,{bytesToNumberLE:()=>Dc,compressPublicKey:()=>Vc,compressedPublicKeyLength:()=>Jc,curve:()=>Rc,decompressPublicKey:()=>Mc,deriveUnhardenedKeys:()=>jc,getPublicKey:()=>qc,isValidPrivateKey:()=>$c,masterNodeGenerationSpec:()=>Zc,multiplyWithBase:()=>_c,name:()=>Fc,privateKeyLength:()=>Wc,publicAdd:()=>Gc,publicKeyLength:()=>zc,secret:()=>Nc});var r={};i.r(r),i.d(r,{compressPublicKey:()=>Ed,compressedPublicKeyLength:()=>Sd,curve:()=>pd,decompressPublicKey:()=>Bd,deriveUnhardenedKeys:()=>wd,getPublicKey:()=>vd,isValidPrivateKey:()=>md,masterNodeGenerationSpec:()=>Id,name:()=>yd,privateKeyLength:()=>Ad,publicAdd:()=>xd,publicKeyLength:()=>bd,secret:()=>gd});var s={};i.r(s),i.d(s,{deriveChildKey:()=>Su,privateKeyToEthAddress:()=>Au,publicKeyToEthAddress:()=>Iu});var a={};i.r(a),i.d(a,{bip39MnemonicToMultipath:()=>Pu,createBip39KeyFromSeed:()=>Ou,deriveChildKey:()=>Cu,entropyToCip3MasterNode:()=>Ku});var c={};i.r(c),i.d(c,{add:()=>zu,bigIntToBytes:()=>Nu,bytesToBigInt:()=>Fu,deriveChainCode:()=>Wu,deriveChildKey:()=>Yu,derivePrivateKey:()=>Gu,derivePublicKey:()=>Ju,getKeyExtension:()=>Du,mod2Pow256:()=>ju,padEnd32Bytes:()=>Tu,toReversed:()=>Ru,trunc28Mul8:()=>$u});var d={};function u(e){return Boolean(e)&&"object"==typeof e&&!Array.isArray(e)}i.r(d),i.d(d,{deriveChildKey:()=>Xu});const h=(e,t)=>Object.hasOwnProperty.call(e,t);var f;!function(e){e[e.Null=4]="Null",e[e.Comma=1]="Comma",e[e.Wrapper=1]="Wrapper",e[e.True=4]="True",e[e.False=5]="False",e[e.Quote=1]="Quote",e[e.Colon=1]="Colon",e[e.Date=24]="Date"}(f=f||(f={}));function l(e){if("object"!=typeof e||null===e)return!1;try{let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch(e){return!1}}class p extends TypeError{constructor(e,t){let n;const{message:r,explanation:i,...o}=e,{path:s}=e,a=0===s.length?r:`At path: ${s.join(".")} -- ${r}`;super(i??a),null!=i&&(this.cause=a),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...t()])}}function y(e){return"object"==typeof e&&null!==e}function g(e){return"symbol"==typeof e?e.toString():"string"==typeof e?JSON.stringify(e):`${e}`}function w(e,t,n,r){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});const{path:i,branch:o}=t,{type:s}=n,{refinement:a,message:c=`Expected a value of type \`${s}\`${a?` with refinement \`${a}\``:""}, but received: \`${g(r)}\``}=e;return{value:r,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...e,message:c}}function*b(e,t,n,r){(function(e){return y(e)&&"function"==typeof e[Symbol.iterator]})(e)||(e=[e]);for(const i of e){const e=w(i,t,n,r);e&&(yield e)}}function*m(e,t,n={}){const{path:r=[],branch:i=[e],coerce:o=!1,mask:s=!1}=n,a={path:r,branch:i};if(o&&(e=t.coercer(e,a),s&&"type"!==t.type&&y(t.schema)&&y(e)&&!Array.isArray(e)))for(const n in e)void 0===t.schema[n]&&delete e[n];let c="valid";for(const r of t.validator(e,a))r.explanation=n.message,c="not_valid",yield[r,void 0];for(let[d,u,h]of t.entries(e,a)){const t=m(u,h,{path:void 0===d?r:[...r,d],branch:void 0===d?i:[...i,u],coerce:o,mask:s,message:n.message});for(const n of t)n[0]?(c=null===n[0].refinement||void 0===n[0].refinement?"not_valid":"not_refined",yield[n[0],void 0]):o&&(u=n[1],void 0===d?e=u:e instanceof Map?e.set(d,u):e instanceof Set?e.add(u):y(e)&&(void 0!==u||d in e)&&(e[d]=u))}if("not_valid"!==c)for(const r of t.refiner(e,a))r.explanation=n.message,c="not_refined",yield[r,void 0];"valid"===c&&(yield[void 0,e])}class v{constructor(e){const{type:t,schema:n,validator:r,refiner:i,coercer:o=(e=>e),entries:s=function*(){}}=e;this.type=t,this.schema=n,this.entries=s,this.coercer=o,this.validator=r?(e,t)=>b(r(e,t),t,this,e):()=>[],this.refiner=i?(e,t)=>b(i(e,t),t,this,e):()=>[]}assert(e,t){return x(e,this,t)}create(e,t){return E(e,this,t)}is(e){return B(e,this)}mask(e,t){return function(e,t,n){const r=A(e,t,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}(e,this,t)}validate(e,t={}){return A(e,this,t)}}function x(e,t,n){const r=A(e,t,{message:n});if(r[0])throw r[0]}function E(e,t,n){const r=A(e,t,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function B(e,t){return!A(e,t)[0]}function A(e,t,n={}){const r=m(e,t,n),i=function(e){const{done:t,value:n}=e.next();return t?void 0:n}(r);if(i[0]){return[new p(i[0],(function*(){for(const e of r)e[0]&&(yield e[0])})),void 0]}return[void 0,i[1]]}function I(...e){const t="type"===e[0]?.type,n=e.map((({schema:e})=>e)),r=Object.assign({},...n);return t?function(e){const t=Object.keys(e);return new v({type:"type",schema:e,*entries(n){if(y(n))for(const r of t)yield[r,n[r],e[r]]},validator:e=>y(e)||`Expected an object, but received: ${g(e)}`,coercer:e=>y(e)?{...e}:e})}(r):K(r)}function S(e,t){return new v({type:e,schema:null,validator:t})}function k(e){let t;return new v({type:"lazy",schema:null,*entries(n,r){t??(t=e()),yield*t.entries(n,r)},validator:(n,r)=>(t??(t=e()),t.validator(n,r)),coercer:(n,r)=>(t??(t=e()),t.coercer(n,r)),refiner:(n,r)=>(t??(t=e()),t.refiner(n,r))})}function H(e){return new v({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[n,r]of t.entries())yield[n,r,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${g(e)}`})}function L(){return S("boolean",(e=>"boolean"==typeof e))}function U(e){const t=g(e),n=typeof e;return new v({type:"literal",schema:"string"===n||"number"===n||"boolean"===n?e:null,validator:n=>n===e||`Expected the literal \`${t}\`, but received: ${g(n)}`})}function P(){return S("never",(()=>!1))}function C(e){return new v({...e,validator:(t,n)=>null===t||e.validator(t,n),refiner:(t,n)=>null===t||e.refiner(t,n)})}function O(){return S("number",(e=>"number"==typeof e&&!isNaN(e)||`Expected a number, but received: ${g(e)}`))}function K(e){const t=e?Object.keys(e):[],n=P();return new v({type:"object",schema:e??null,*entries(r){if(e&&y(r)){const i=new Set(Object.keys(r));for(const n of t)i.delete(n),yield[n,r[n],e[n]];for(const e of i)yield[e,r[e],n]}},validator:e=>y(e)||`Expected an object, but received: ${g(e)}`,coercer:e=>y(e)?{...e}:e})}function R(e){return new v({...e,validator:(t,n)=>void 0===t||e.validator(t,n),refiner:(t,n)=>void 0===t||e.refiner(t,n)})}function F(e,t){return new v({type:"record",schema:null,*entries(n){if(y(n))for(const r in n){const i=n[r];yield[r,r,e],yield[r,i,t]}},validator:e=>y(e)||`Expected an object, but received: ${g(e)}`})}function N(){return S("string",(e=>"string"==typeof e||`Expected a string, but received: ${g(e)}`))}function T(e){const t=P();return new v({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(e.length,n.length);for(let i=0;i<r;i++)yield[i,n[i],e[i]||t]}},validator:e=>Array.isArray(e)||`Expected an array, but received: ${g(e)}`})}function $(e){const t=e.map((e=>e.type)).join(" | ");return new v({type:"union",schema:null,coercer(t){for(const n of e){const[e,r]=n.validate(t,{coerce:!0});if(!e)return r}return t},validator(n,r){const i=[];for(const t of e){const[...e]=m(n,t,r),[o]=e;if(!o?.[0])return[];for(const[t]of e)t&&i.push(t)}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${g(n)}`,...i]}})}function j(){return S("unknown",(()=>!0))}function z(e,t,n){return new v({...e,coercer:(r,i)=>B(r,t)?e.coercer(n(r,i),i):e.coercer(r,i)})}function D(e){return function(e){return function(e){return"object"==typeof e&&null!==e&&"message"in e}(e)&&"string"==typeof e.message?e.message:null==e?"":String(e)}(e).replace(/\.$/u,"")}function _(e,t){return n=e,Boolean("string"==typeof n?.prototype?.constructor?.name)?new e({message:t}):e({message:t});var n}class q extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}}function G(e,t="Assertion failed.",n=q){if(!e){if(t instanceof Error)throw t;throw _(n,t)}}function V(e,t,n="Assertion failed",r=q){try{x(e,t)}catch(e){throw _(r,`${n}: ${D(e)}.`)}}const M=e=>K(e);function W({path:e,branch:t}){const n=e[e.length-1];return h(t[t.length-2],n)}function Z(e){return new v({...e,type:`optional ${e.type}`,validator:(t,n)=>!W(n)||e.validator(t,n),refiner:(t,n)=>!W(n)||e.refiner(t,n)})}const J=$([U(null),L(),S("finite number",(e=>B(e,O())&&Number.isFinite(e))),N(),H(k((()=>J))),F(N(),k((()=>J)))]),Y=z(J,S("any",(()=>!0)),(e=>(V(e,J),JSON.parse(JSON.stringify(e,((e,t)=>{if("__proto__"!==e&&"constructor"!==e)return t}))))));function X(e){try{return function(e){E(e,Y)}(e),!0}catch{return!1}}const Q=U("2.0"),ee=C($([O(),N()])),te=M({code:S("integer",(e=>"number"==typeof e&&!isNaN(e)&&Number.isInteger(e)||`Expected an integer, but received: ${g(e)}`)),message:N(),data:Z(Y),stack:Z(N())}),ne=$([F(N(),Y),H(Y)]);M({id:ee,jsonrpc:Q,method:N(),params:Z(ne)}),M({jsonrpc:Q,method:N(),params:Z(ne)});K({id:ee,jsonrpc:Q,result:R(j()),error:R(te)});const re=M({id:ee,jsonrpc:Q,result:Y}),ie=M({id:ee,jsonrpc:Q,error:te});$([re,ie]);function oe(e,t){return se(e,"pattern",(n=>t.test(n)||`Expected a ${e.type} matching \`/${t.source}/\` but received "${n}"`))}function se(e,t,n){return new v({...e,*refiner(r,i){yield*e.refiner(r,i);const o=b(n(r,i),i,e,r);for(const e of o)yield{...e,refinement:t}}})}var ae={invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},ce={userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901},de={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}},ue=ae.internal,he="Unspecified error message. This is a bug, please report it.",fe=(le(ue),"Unspecified server error.");function le(e,t=he){if(function(e){return Number.isInteger(e)}(e)){const t=e.toString();if(h(de,t))return de[t].message;if(function(e){return e>=-32099&&e<=-32e3}(e))return fe}return t}function pe(e){return Array.isArray(e)?e.map((e=>X(e)?e:u(e)?ye(e):null)):u(e)?ye(e):X(e)?e:null}function ye(e){return Object.getOwnPropertyNames(e).reduce(((t,n)=>{const r=e[n];return X(r)&&(t[n]=r),t}),{})}var ge=i(12),we=class extends Error{constructor(e,t,n){var r=(...e)=>{super(...e)};if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!t||"string"!=typeof t)throw new Error('"message" must be a non-empty string.');!function(e){return u(e)&&h(e,"cause")&&u(e.cause)}(n)?r(t):(r(t,{cause:n.cause}),h(this,"cause")||Object.assign(this,{cause:n.cause})),void 0!==n&&(this.data=n),this.code=e}serialize(){const e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data,l(this.data)&&(e.data.cause=pe(this.data.cause))),this.stack&&(e.stack=this.stack),e}toString(){return ge(this.serialize(),me,2)}},be=class extends we{constructor(e,t,n){if(!function(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,t,n)}};function me(e,t){if("[Circular]"!==t)return t}var ve=e=>Fe(ae.parse,e),xe=e=>Fe(ae.invalidRequest,e),Ee=e=>Fe(ae.invalidParams,e),Be=e=>Fe(ae.methodNotFound,e),Ae=e=>Fe(ae.internal,e),Ie=e=>Fe(ae.invalidInput,e),Se=e=>Fe(ae.resourceNotFound,e),ke=e=>Fe(ae.resourceUnavailable,e),He=e=>Fe(ae.transactionRejected,e),Le=e=>Fe(ae.methodNotSupported,e),Ue=e=>Fe(ae.limitExceeded,e),Pe=e=>Ne(ce.userRejectedRequest,e),Ce=e=>Ne(ce.unauthorized,e),Oe=e=>Ne(ce.unsupportedMethod,e),Ke=e=>Ne(ce.disconnected,e),Re=e=>Ne(ce.chainDisconnected,e);function Fe(e,t){const[n,r]=Te(t);return new we(e,n??le(e),r)}function Ne(e,t){const[n,r]=Te(t);return new be(e,n??le(e),r)}function Te(e){if(e){if("string"==typeof e)return[e];if("object"==typeof e&&!Array.isArray(e)){const{message:t,data:n}=e;if(t&&"string"!=typeof t)throw new Error("Must specify string message.");return[t??void 0,n]}}return[]}const $e=oe(N(),/^(?:0x)?[0-9a-f]+$/iu),je=(oe(N(),/^0x[0-9a-f]+$/iu),oe(N(),/^0x[0-9a-f]{40}$/u),oe(N(),/^0x[0-9a-fA-F]{40}$/u));function ze(e){G(function(e){return B(e,$e)}(e),"Value must be a hexadecimal string.")}function De(e){return e.startsWith("0x")?e:e.startsWith("0X")?`0x${e.substring(2)}`:`0x${e}`}function _e(e){return e.startsWith("0x")||e.startsWith("0X")?e.substring(2):e}var qe,Ge,Ve,Me,We=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Ze=(e,t,n)=>(We(e,t,"read from private field"),n?n.call(e):t.get(e)),Je=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Ye=(e,t,n,r)=>(We(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Xe=class extends Error{constructor(e,t={}){const n=function(e){if(u(e)&&h(e,"message")&&"string"==typeof e.message)return e.message;return String(e)}(e);super(n),Je(this,qe,void 0),Je(this,Ge,void 0),Je(this,Ve,void 0),Je(this,Me,void 0),Ye(this,Ge,n),Ye(this,qe,function(e){if(u(e)&&h(e,"code")&&"number"==typeof e.code&&Number.isInteger(e.code))return e.code;return-32603}(e));const r={...nt(e),...t};Object.keys(r).length>0&&Ye(this,Ve,r),Ye(this,Me,super.stack)}get name(){return"SnapError"}get code(){return Ze(this,qe)}get message(){return Ze(this,Ge)}get data(){return Ze(this,Ve)}get stack(){return Ze(this,Me)}toJSON(){return{code:et,message:tt,data:{cause:{code:this.code,message:this.message,stack:this.stack,...this.data?{data:this.data}:{}}}}}serialize(){return this.toJSON()}};function Qe(e){return class extends Xe{constructor(t,n){if("object"==typeof t){const n=e();return void super({code:n.code,message:n.message,data:t})}const r=e(t);super({code:r.code,message:r.message,data:n})}}}qe=new WeakMap,Ge=new WeakMap,Ve=new WeakMap,Me=new WeakMap;var et=-31002,tt="Snap Error";function nt(e){return u(e)&&h(e,"data")&&"object"==typeof e.data&&null!==e.data&&X(e.data)&&!Array.isArray(e.data)?e.data:{}}function rt(e){return S(JSON.stringify(e),U(e).validator)}function it(e){return rt(e)}function ot(e){return new v({type:"union",schema:null,*entries(t,n){if(!l(t)||!h(t,"type"))return;const{type:r}=t,i=e.find((({schema:e})=>B(r,e.type)));if(i)for(const e of i.entries(t,n))yield e},validator(t,n){const r=e.map((({schema:e})=>e.type.type));if(!l(t)||!h(t,"type")||"string"!=typeof t.type)return`Expected type to be one of: ${r.join(", ")}, but received: undefined`;const{type:i}=t,o=e.find((({schema:e})=>B(i,e.type)));return o?o.validator(t,n):`Expected type to be one of: ${r.join(", ")}, but received: "${i}"`}})}function st(e){return function([e,...t]){const n=$([e,...t]);return new v({...n,schema:[e,...t]})}(e)}function at(){return se(N(),"SVG",(e=>!!e.includes("<svg")||"Value is not a valid SVG."))}Qe(Ae),Qe(Ie);var ct=Qe(Ee),dt=(Qe(xe),Qe(Ue),Qe(Be)),ut=(Qe(Le),Qe(ve),Qe(Se),Qe(ke),Qe(He),Qe(Re),Qe(Ke),Qe(Ce),Qe(Oe),Qe(Pe));function ht(e,t,n=[]){return(...r)=>{if(1===r.length&&l(r[0])){const n={...r[0],type:e};return V(n,t,`Invalid ${e} component`),n}const i=n.reduce(((e,t,n)=>void 0!==r[n]?{...e,[t]:r[n]}:e),{type:e});return V(i,t,`Invalid ${e} component`),i}}var ft,lt,pt,yt,gt,wt=((ft=wt||{}).Copyable="copyable",ft.Divider="divider",ft.Heading="heading",ft.Panel="panel",ft.Spinner="spinner",ft.Text="text",ft.Image="image",ft.Row="row",ft.Address="address",ft.Button="button",ft.Input="input",ft.Form="form",ft),bt=K({type:N()}),mt=I(bt,K({value:j()})),vt=I(mt,K({type:U("address"),value:je})),xt=(ht("address",vt,["value"]),I(mt,K({type:U("copyable"),value:N(),sensitive:R(L())}))),Et=ht("copyable",xt,["value","sensitive"]),Bt=I(bt,K({type:U("divider")})),At=(ht("divider",Bt),I(mt,K({type:U("heading"),value:N()}))),It=ht("heading",At,["value"]),St=I(bt,K({type:U("image"),value:at()})),kt=(ht("image",St,["value"]),(lt=kt||{}).Primary="primary",lt.Secondary="secondary",lt),Ht=((pt=Ht||{}).Button="button",pt.Submit="submit",pt),Lt=I(mt,K({type:U("button"),value:N(),variant:R($([it("primary"),it("secondary")])),buttonType:R($([it("button"),it("submit")])),name:R(N())})),Ut=(ht("button",Lt,["value","buttonType","name","variant"]),(yt=Ut||{}).Text="text",yt.Number="number",yt.Password="password",yt),Pt=I(mt,K({type:U("input"),value:R(N()),name:N(),inputType:R($([it("text"),it("password"),it("number")])),placeholder:R(N()),label:R(N()),error:R(N())})),Ct=(ht("input",Pt,["name","inputType","placeholder","value","label"]),$([Pt,Lt])),Ot=I(bt,K({type:U("form"),children:H(Ct),name:N()})),Kt=(ht("form",Ot,["name","children"]),I(mt,K({type:U("text"),value:N(),markdown:R(L())}))),Rt=ht("text",Kt,["value","markdown"]),Ft=((gt=Ft||{}).Default="default",gt.Critical="critical",gt.Warning="warning",gt),Nt=$([St,Kt,vt]),Tt=I(mt,K({type:U("row"),variant:R($([it("default"),it("critical"),it("warning")])),label:N(),value:Nt})),$t=(ht("row",Tt,["label","value","variant"]),I(bt,K({type:U("spinner")}))),jt=(ht("spinner",$t),I(bt,K({children:H(k((()=>_t)))}))),zt=I(jt,K({type:U("panel")})),Dt=ht("panel",zt,["children"]),_t=ot([xt,Bt,At,St,zt,$t,Kt,Tt,vt,Pt,Ot,Lt]);var qt,Gt,Vt,Mt,Wt,Zt,Jt=((qt=Jt||{}).Critical="critical",qt),Yt=((Gt=Yt||{}).ButtonClickEvent="ButtonClickEvent",Gt.FormSubmitEvent="FormSubmitEvent",Gt.InputChangeEvent="InputChangeEvent",Gt.FileUploadEvent="FileUploadEvent",Gt),Xt=K({type:N(),name:R(N())}),Qt=I(Xt,K({type:U("ButtonClickEvent"),name:R(N())})),en=K({name:N(),size:O(),contentType:N(),contents:N()}),tn=I(Xt,K({type:U("FormSubmitEvent"),value:F(N(),C($([N(),en,L()]))),name:N()})),nn=I(Xt,K({type:U("InputChangeEvent"),name:N(),value:$([N(),L()])})),rn=($([Qt,tn,nn,I(Xt,K({type:U("FileUploadEvent"),name:N(),file:C(en)}))]),(Vt=rn||{}).Alert="alert",Vt.Confirmation="confirmation",Vt.Prompt="prompt",Vt),on=((Mt=on||{}).Base64="base64",Mt.Hex="hex",Mt.Utf8="utf8",Mt),sn=((Wt=sn||{}).ClearState="clear",Wt.GetState="get",Wt.UpdateState="update",Wt),an=((Zt=an||{}).InApp="inApp",Zt.Native="native",Zt),cn=st([N(),O()]),dn=un([N()]);K({type:N(),props:F(N(),Y),key:C(cn)});function un(e){return function(e){const t=st([e,H(k((()=>t)))]);return t}(C(st([...e,L()])))}function hn(e,t={}){return K({type:rt(e),props:K(t),key:C(cn)})}var fn=hn("Button",{children:dn,name:R(N()),type:R(st([rt("button"),rt("submit")])),variant:R(st([rt("primary"),rt("destructive")])),disabled:R(L())}),ln=hn("Checkbox",{name:N(),checked:R(L()),label:R(N()),variant:R(st([rt("default"),rt("toggle")]))}),pn=hn("Input",{name:N(),type:R(st([rt("text"),rt("password"),rt("number")])),value:R(N()),placeholder:R(N())}),yn=hn("Option",{value:N(),children:N()}),gn=hn("Dropdown",{name:N(),value:R(N()),children:un([yn])}),wn=hn("FileInput",{name:N(),accept:st([R(H(N()))]),compact:R(L())}),bn=[pn,fn],mn=[pn,gn,wn,ln],vn=(st([...mn,...bn]),st([T(bn),...mn])),xn=hn("Field",{label:R(N()),error:R(N()),children:vn}),En=hn("Form",{children:un([xn,k((()=>_n))]),name:N()}),Bn=hn("Bold",{children:un([N(),k((()=>An))])}),An=hn("Italic",{children:un([N(),k((()=>Bn))])}),In=st([Bn,An]),Sn=hn("Address",{address:je}),kn=hn("Box",{children:un([k((()=>_n))]),direction:R(st([rt("horizontal"),rt("vertical")])),alignment:R(st([rt("start"),rt("center"),rt("end"),rt("space-between"),rt("space-around")]))}),Hn=hn("Footer",{children:st([T([fn,fn]),fn])}),Ln=hn("Container",{children:st([T([kn,Hn]),kn])}),Un=hn("Copyable",{value:N(),sensitive:R(L())}),Pn=hn("Divider"),Cn=hn("Value",{value:N(),extra:N()}),On=hn("Card",{image:R(N()),title:N(),description:R(N()),value:N(),extra:R(N())}),Kn=hn("Heading",{children:dn}),Rn=hn("Image",{src:at(),alt:R(N())}),Fn=hn("Link",{href:N(),children:un([In,N()])}),Nn=hn("Text",{children:un([N(),Bn,An,Fn]),alignment:R(st([rt("start"),rt("center"),rt("end")]))}),Tn=st([Nn,Bn,An,Fn,Rn,L()]),$n=st([Nn,Bn,An,Fn,N()]),jn=hn("Tooltip",{children:C(Tn),content:$n}),zn=hn("Row",{label:N(),children:st([Sn,Rn,Nn,Cn]),variant:R(st([rt("default"),rt("warning"),rt("critical")])),tooltip:R(N())}),Dn=hn("Spinner"),_n=ot([Sn,Bn,kn,fn,Un,Pn,gn,wn,En,Kn,pn,Rn,An,Fn,zn,Dn,Nn,jn,ln,On]),qn=st([_n,Ln]),Gn=(ot([fn,pn,wn,xn,En,Bn,An,Sn,kn,Un,Pn,Kn,Rn,Fn,zn,Dn,Nn,gn,yn,Cn,jn,ln,Hn,Ln,On]),$([en,N(),L()])),Vn=F(N(),C(Gn));F(N(),$([Vn,C(Gn)])),$([_t,qn]),F(N(),Y);const Mn=48,Wn=58,Zn=87;const Jn=function(){const e=[];return()=>{if(0===e.length)for(let t=0;t<256;t++)e.push(t.toString(16).padStart(2,"0"));return e}}();function Yn(e){return e instanceof Uint8Array}function Xn(e){G(Yn(e),"Value must be a Uint8Array.")}function Qn(e){if(Xn(e),0===e.length)return"0x";const t=Jn(),n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=t[e[r]];return De(n.join(""))}function er(e){Xn(e);const t=Qn(e);return BigInt(t)}function tr(e){if("0x"===e?.toLowerCase?.())return new Uint8Array;ze(e);const t=_e(e).toLowerCase(),n=t.length%2==0?t:`0${t}`,r=new Uint8Array(n.length/2);for(let e=0;e<r.length;e++){const t=n.charCodeAt(2*e),i=n.charCodeAt(2*e+1),o=t-(t<Wn?Mn:Zn),s=i-(i<Wn?Mn:Zn);r[e]=16*o+s}return r}function nr(e){return G("string"==typeof e,"Value must be a string."),(new TextEncoder).encode(e)}function rr(e){if("bigint"==typeof e)return function(e){return G("bigint"==typeof e,"Value must be a bigint."),G(e>=BigInt(0),"Value must be a non-negative bigint."),tr(e.toString(16))}(e);if("number"==typeof e)return function(e){return G("number"==typeof e,"Value must be a number."),G(e>=0,"Value must be a non-negative number."),G(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToBytes` instead."),tr(e.toString(16))}(e);if("string"==typeof e)return e.startsWith("0x")?tr(e):nr(e);if(Yn(e))return e;throw new TypeError(`Unsupported value type: "${typeof e}".`)}function ir(e){const t=new Array(e.length);let n=0;for(let r=0;r<e.length;r++){const i=rr(e[r]);t[r]=i,n+=i.length}const r=new Uint8Array(n);for(let e=0,n=0;e<t.length;e++)r.set(t[e],n),n+=t[e].length;return r}function or(e){if("undefined"!=typeof Buffer&&e instanceof Buffer){const t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return new DataView(t)}return new DataView(e.buffer,e.byteOffset,e.byteLength)}var sr=i(315);const ar=BigInt(0),cr=BigInt(1),dr=BigInt(2),ur=BigInt(255),hr=dr**BigInt(252)+BigInt("27742317777372353535851937790883648493"),fr={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:dr**ur-BigInt(19),l:hr,n:hr,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")},lr=dr**BigInt(256),pr=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),yr=(BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742"),BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235")),gr=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),wr=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),br=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");class mr{constructor(e,t,n,r){this.x=e,this.y=t,this.z=n,this.t=r}static fromAffine(e){if(!(e instanceof Ir))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return e.equals(Ir.ZERO)?mr.ZERO:new mr(e.x,e.y,cr,Rr(e.x*e.y))}static toAffineBatch(e){const t=function(e,t=fr.P){const n=new Array(e.length),r=e.reduce(((e,r,i)=>r===ar?e:(n[i]=e,Rr(e*r,t))),cr),i=Fr(r,t);return e.reduceRight(((e,r,i)=>r===ar?e:(n[i]=Rr(e*n[i],t),Rr(e*r,t))),i),n}(e.map((e=>e.z)));return e.map(((e,n)=>e.toAffine(t[n])))}static normalizeZ(e){return this.toAffineBatch(e).map(this.fromAffine)}equals(e){vr(e);const{x:t,y:n,z:r}=this,{x:i,y:o,z:s}=e,a=Rr(t*s),c=Rr(i*r),d=Rr(n*s),u=Rr(o*r);return a===c&&d===u}negate(){return new mr(Rr(-this.x),this.y,this.z,Rr(-this.t))}double(){const{x:e,y:t,z:n}=this,{a:r}=fr,i=Rr(e**dr),o=Rr(t**dr),s=Rr(dr*Rr(n**dr)),a=Rr(r*i),c=Rr(Rr((e+t)**dr)-i-o),d=a+o,u=d-s,h=a-o,f=Rr(c*u),l=Rr(d*h),p=Rr(c*h),y=Rr(u*d);return new mr(f,l,y,p)}add(e){vr(e);const{x:t,y:n,z:r,t:i}=this,{x:o,y:s,z:a,t:c}=e,d=Rr((n-t)*(s+o)),u=Rr((n+t)*(s-o)),h=Rr(u-d);if(h===ar)return this.double();const f=Rr(r*dr*c),l=Rr(i*dr*a),p=l+f,y=u+d,g=l-f,w=Rr(p*h),b=Rr(y*g),m=Rr(p*g),v=Rr(h*y);return new mr(w,b,v,m)}subtract(e){return this.add(e.negate())}precomputeWindow(e){const t=1+256/e,n=[];let r=this,i=r;for(let o=0;o<t;o++){i=r,n.push(i);for(let t=1;t<2**(e-1);t++)i=i.add(r),n.push(i);r=i.double()}return n}wNAF(e,t){!t&&this.equals(mr.BASE)&&(t=Ir.BASE);const n=t&&t._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let r=t&&Ar.get(t);r||(r=this.precomputeWindow(n),t&&1!==n&&(r=mr.normalizeZ(r),Ar.set(t,r)));let i=mr.ZERO,o=mr.ZERO;const s=1+256/n,a=2**(n-1),c=BigInt(2**n-1),d=2**n,u=BigInt(n);for(let t=0;t<s;t++){const n=t*a;let s=Number(e&c);if(e>>=u,s>a&&(s-=d,e+=cr),0===s){let e=r[n];t%2&&(e=e.negate()),o=o.add(e)}else{let e=r[n+Math.abs(s)-1];s<0&&(e=e.negate()),i=i.add(e)}}return mr.normalizeZ([i,o])[0]}multiply(e,t){return this.wNAF(_r(e,fr.l),t)}multiplyUnsafe(e){let t=_r(e,fr.l,!1);const n=mr.BASE,r=mr.ZERO;if(t===ar)return r;if(this.equals(r)||t===cr)return this;if(this.equals(n))return this.wNAF(t);let i=r,o=this;for(;t>ar;)t&cr&&(i=i.add(o)),o=o.double(),t>>=cr;return i}isSmallOrder(){return this.multiplyUnsafe(fr.h).equals(mr.ZERO)}isTorsionFree(){return this.multiplyUnsafe(fr.l).equals(mr.ZERO)}toAffine(e=Fr(this.z)){const{x:t,y:n,z:r}=this,i=Rr(t*e),o=Rr(n*e);if(Rr(r*e)!==cr)throw new Error("invZ was invalid");return new Ir(i,o)}fromRistrettoBytes(){Er()}toRistrettoBytes(){Er()}fromRistrettoHash(){Er()}}function vr(e){if(!(e instanceof mr))throw new TypeError("ExtendedPoint expected")}function xr(e){if(!(e instanceof Br))throw new TypeError("RistrettoPoint expected")}function Er(){throw new Error("Legacy method: switch to RistrettoPoint")}mr.BASE=new mr(fr.Gx,fr.Gy,cr,Rr(fr.Gx*fr.Gy)),mr.ZERO=new mr(ar,cr,cr,ar);class Br{constructor(e){this.ep=e}static calcElligatorRistrettoMap(e){const{d:t}=fr,n=Rr(pr*e*e),r=Rr((n+cr)*wr);let i=BigInt(-1);const o=Rr((i-t*n)*Rr(n+t));let{isValid:s,value:a}=$r(r,o),c=Rr(a*e);Cr(c)||(c=Rr(-c)),s||(a=c),s||(i=n);const d=Rr(i*(n-cr)*br-o),u=a*a,h=Rr((a+a)*o),f=Rr(d*yr),l=Rr(cr-u),p=Rr(cr+u);return new mr(Rr(h*p),Rr(l*f),Rr(f*p),Rr(h*l))}static hashToCurve(e){const t=Kr((e=Dr(e,64)).slice(0,32)),n=this.calcElligatorRistrettoMap(t),r=Kr(e.slice(32,64)),i=this.calcElligatorRistrettoMap(r);return new Br(n.add(i))}static fromHex(e){e=Dr(e,32);const{a:t,d:n}=fr,r="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",i=Kr(e);if(!function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(Pr(i),e)||Cr(i))throw new Error(r);const o=Rr(i*i),s=Rr(cr+t*o),a=Rr(cr-t*o),c=Rr(s*s),d=Rr(a*a),u=Rr(t*n*c-d),{isValid:h,value:f}=jr(Rr(u*d)),l=Rr(f*a),p=Rr(f*l*u);let y=Rr((i+i)*l);Cr(y)&&(y=Rr(-y));const g=Rr(s*p),w=Rr(y*g);if(!h||Cr(w)||g===ar)throw new Error(r);return new Br(new mr(y,g,cr,w))}toRawBytes(){let{x:e,y:t,z:n,t:r}=this.ep;const i=Rr(Rr(n+t)*Rr(n-t)),o=Rr(e*t),{value:s}=jr(Rr(i*o**dr)),a=Rr(s*i),c=Rr(s*o),d=Rr(a*c*r);let u;if(Cr(r*d)){let n=Rr(t*pr),r=Rr(e*pr);e=n,t=r,u=Rr(a*gr)}else u=c;Cr(e*d)&&(t=Rr(-t));let h=Rr((n-t)*u);return Cr(h)&&(h=Rr(-h)),Pr(h)}toHex(){return Hr(this.toRawBytes())}toString(){return this.toHex()}equals(e){xr(e);const t=this.ep,n=e.ep,r=Rr(t.x*n.y)===Rr(t.y*n.x),i=Rr(t.y*n.y)===Rr(t.x*n.x);return r||i}add(e){return xr(e),new Br(this.ep.add(e.ep))}subtract(e){return xr(e),new Br(this.ep.subtract(e.ep))}multiply(e){return new Br(this.ep.multiply(e))}multiplyUnsafe(e){return new Br(this.ep.multiplyUnsafe(e))}}Br.BASE=new Br(mr.BASE),Br.ZERO=new Br(mr.ZERO);const Ar=new WeakMap;class Ir{constructor(e,t){this.x=e,this.y=t}_setWindowSize(e){this._WINDOW_SIZE=e,Ar.delete(this)}static fromHex(e,t=!0){const{d:n,P:r}=fr,i=(e=Dr(e,32)).slice();i[31]=-129&e[31];const o=Or(i);if(t&&o>=r)throw new Error("Expected 0 < hex < P");if(!t&&o>=lr)throw new Error("Expected 0 < hex < 2**256");const s=Rr(o*o),a=Rr(s-cr),c=Rr(n*s+cr);let{isValid:d,value:u}=$r(a,c);if(!d)throw new Error("Point.fromHex: invalid y coordinate");const h=(u&cr)===cr;return 0!=(128&e[31])!==h&&(u=Rr(-u)),new Ir(u,o)}static async fromPrivateKey(e){return(await Gr(e)).point}toRawBytes(){const e=Pr(this.y);return e[31]|=this.x&cr?128:0,e}toHex(){return Hr(this.toRawBytes())}toX25519(){const{y:e}=this;return Pr(Rr((cr+e)*Fr(cr-e)))}isTorsionFree(){return mr.fromAffine(this).isTorsionFree()}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new Ir(Rr(-this.x),this.y)}add(e){return mr.fromAffine(this).add(mr.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return mr.fromAffine(this).multiply(e,this).toAffine()}}Ir.BASE=new Ir(fr.Gx,fr.Gy),Ir.ZERO=new Ir(ar,cr);class Sr{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromHex(e){const t=Dr(e,64),n=Ir.fromHex(t.slice(0,32),!1),r=Or(t.slice(32,64));return new Sr(n,r)}assertValidity(){const{r:e,s:t}=this;if(!(e instanceof Ir))throw new Error("Expected Point instance");return _r(t,fr.l,!1),this}toRawBytes(){const e=new Uint8Array(64);return e.set(this.r.toRawBytes()),e.set(Pr(this.s),32),e}toHex(){return Hr(this.toRawBytes())}}const kr=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function Hr(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=kr[e[n]];return t}function Lr(e){if("string"!=typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++){const r=2*n,i=e.slice(r,r+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");t[n]=o}return t}function Ur(e){return Lr(e.toString(16).padStart(64,"0"))}function Pr(e){return Ur(e).reverse()}function Cr(e){return(Rr(e)&cr)===cr}function Or(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+Hr(Uint8Array.from(e).reverse()))}function Kr(e){return Rr(Or(e)&dr**ur-cr)}function Rr(e,t=fr.P){const n=e%t;return n>=ar?n:t+n}function Fr(e,t=fr.P){if(e===ar||t<=ar)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=Rr(e,t),r=t,i=ar,o=cr,s=cr,a=ar;for(;n!==ar;){const e=r/n,t=r%n,c=i-s*e,d=o-a*e;r=n,n=t,i=s,o=a,s=c,a=d}if(r!==cr)throw new Error("invert: does not exist");return Rr(i,t)}function Nr(e,t){const{P:n}=fr;let r=e;for(;t-- >ar;)r*=r,r%=n;return r}function Tr(e){const{P:t}=fr,n=BigInt(5),r=BigInt(10),i=BigInt(20),o=BigInt(40),s=BigInt(80),a=e*e%t*e%t,c=Nr(a,dr)*a%t,d=Nr(c,cr)*e%t,u=Nr(d,n)*d%t,h=Nr(u,r)*u%t,f=Nr(h,i)*h%t,l=Nr(f,o)*f%t,p=Nr(l,s)*l%t,y=Nr(p,s)*l%t,g=Nr(y,r)*u%t;return{pow_p_5_8:Nr(g,dr)*e%t,b2:a}}function $r(e,t){const n=Rr(t*t*t),r=Rr(n*n*t);let i=Rr(e*n*Tr(e*r).pow_p_5_8);const o=Rr(t*i*i),s=i,a=Rr(i*pr),c=o===e,d=o===Rr(-e),u=o===Rr(-e*pr);return c&&(i=s),(d||u)&&(i=a),Cr(i)&&(i=Rr(-i)),{isValid:c||d,value:i}}function jr(e){return $r(cr,e)}async function zr(...e){const t=await Mr.sha512(function(...e){if(!e.every((e=>e instanceof Uint8Array)))throw new Error("Expected Uint8Array list");if(1===e.length)return e[0];const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const i=e[t];n.set(i,r),r+=i.length}return n}(...e));return Rr(Or(t),fr.l)}function Dr(e,t){const n=e instanceof Uint8Array?Uint8Array.from(e):Lr(e);if("number"==typeof t&&n.length!==t)throw new Error(`Expected ${t} bytes`);return n}function _r(e,t,n=!0){if(!t)throw new TypeError("Specify max value");if("number"==typeof e&&Number.isSafeInteger(e)&&(e=BigInt(e)),"bigint"==typeof e&&e<t)if(n){if(ar<e)return e}else if(ar<=e)return e;throw new TypeError("Expected valid scalar: 0 < scalar < max")}function qr(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}async function Gr(e){if(32!==(e="bigint"==typeof e||"number"==typeof e?Ur(_r(e,lr)):Dr(e)).length)throw new Error("Expected 32 bytes");const t=await Mr.sha512(e),n=qr(t.slice(0,32)),r=t.slice(32,64),i=Rr(Or(n),fr.l),o=Ir.BASE.multiply(i),s=o.toRawBytes();return{head:n,prefix:r,scalar:i,point:o,pointBytes:s}}Ir.BASE._setWindowSize(8);const Vr={node:sr,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0},Mr={TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],bytesToHex:Hr,getExtendedPublicKey:Gr,mod:Rr,invert:Fr,hashToPrivateScalar:e=>{if((e=Dr(e)).length<40||e.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");const t=Rr(Or(e),fr.l);if(t===ar||t===cr)throw new Error("Invalid private key");return t},randomBytes:(e=32)=>{if(Vr.web)return Vr.web.getRandomValues(new Uint8Array(e));if(Vr.node){const{randomBytes:t}=Vr.node;return new Uint8Array(t(e).buffer)}throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>Mr.randomBytes(32),sha512:async e=>{if(Vr.web){const t=await Vr.web.subtle.digest("SHA-512",e.buffer);return new Uint8Array(t)}if(Vr.node)return Uint8Array.from(Vr.node.createHash("sha512").update(e).digest());throw new Error("The environment doesn't have sha512 function")},precompute(e=8,t=Ir.BASE){const n=t.equals(Ir.BASE)?t:new Ir(t.x,t.y);return n._setWindowSize(e),n.multiply(dr),n}};var Wr=i(719),Zr=i.t(Wr,2);const Jr=BigInt(0),Yr=BigInt(1),Xr=BigInt(2),Qr=BigInt(3),ei=BigInt(8),ti=Object.freeze({a:Jr,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:Yr,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),ni=(e,t)=>(e+t/Xr)/t,ri={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(e){const{n:t}=ti,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Yr*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,s=BigInt("0x100000000000000000000000000000000"),a=ni(o*e,t),c=ni(-r*e,t);let d=Pi(e-a*n-c*i,t),u=Pi(-a*r-c*o,t);const h=d>s,f=u>s;if(h&&(d=t-d),f&&(u=t-u),d>s||u>s)throw new Error("splitScalarEndo: Endomorphism failed, k="+e);return{k1neg:h,k1:d,k2neg:f,k2:u}}},ii=32,oi=32,si=ii+1,ai=2*ii+1;function ci(e){const{a:t,b:n}=ti,r=Pi(e*e),i=Pi(r*e);return Pi(i+t*e+n)}const di=ti.a===Jr;class ui extends Error{constructor(e){super(e)}}function hi(e){if(!(e instanceof fi))throw new TypeError("JacobianPoint expected")}class fi{constructor(e,t,n){this.x=e,this.y=t,this.z=n}static fromAffine(e){if(!(e instanceof yi))throw new TypeError("JacobianPoint#fromAffine: expected Point");return e.equals(yi.ZERO)?fi.ZERO:new fi(e.x,e.y,Yr)}static toAffineBatch(e){const t=function(e,t=ti.P){const n=new Array(e.length),r=e.reduce(((e,r,i)=>r===Jr?e:(n[i]=e,Pi(e*r,t))),Yr),i=Oi(r,t);return e.reduceRight(((e,r,i)=>r===Jr?e:(n[i]=Pi(e*n[i],t),Pi(e*r,t))),i),n}(e.map((e=>e.z)));return e.map(((e,n)=>e.toAffine(t[n])))}static normalizeZ(e){return fi.toAffineBatch(e).map(fi.fromAffine)}equals(e){hi(e);const{x:t,y:n,z:r}=this,{x:i,y:o,z:s}=e,a=Pi(r*r),c=Pi(s*s),d=Pi(t*c),u=Pi(i*a),h=Pi(Pi(n*s)*c),f=Pi(Pi(o*r)*a);return d===u&&h===f}negate(){return new fi(this.x,Pi(-this.y),this.z)}double(){const{x:e,y:t,z:n}=this,r=Pi(e*e),i=Pi(t*t),o=Pi(i*i),s=e+i,a=Pi(Xr*(Pi(s*s)-r-o)),c=Pi(Qr*r),d=Pi(c*c),u=Pi(d-Xr*a),h=Pi(c*(a-u)-ei*o),f=Pi(Xr*t*n);return new fi(u,h,f)}add(e){hi(e);const{x:t,y:n,z:r}=this,{x:i,y:o,z:s}=e;if(i===Jr||o===Jr)return this;if(t===Jr||n===Jr)return e;const a=Pi(r*r),c=Pi(s*s),d=Pi(t*c),u=Pi(i*a),h=Pi(Pi(n*s)*c),f=Pi(Pi(o*r)*a),l=Pi(u-d),p=Pi(f-h);if(l===Jr)return p===Jr?this.double():fi.ZERO;const y=Pi(l*l),g=Pi(l*y),w=Pi(d*y),b=Pi(p*p-g-Xr*w),m=Pi(p*(w-b)-h*g),v=Pi(r*s*l);return new fi(b,m,v)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){const t=fi.ZERO;if("bigint"==typeof e&&e===Jr)return t;let n=Ui(e);if(n===Yr)return this;if(!di){let e=t,r=this;for(;n>Jr;)n&Yr&&(e=e.add(r)),r=r.double(),n>>=Yr;return e}let{k1neg:r,k1:i,k2neg:o,k2:s}=ri.splitScalar(n),a=t,c=t,d=this;for(;i>Jr||s>Jr;)i&Yr&&(a=a.add(d)),s&Yr&&(c=c.add(d)),d=d.double(),i>>=Yr,s>>=Yr;return r&&(a=a.negate()),o&&(c=c.negate()),c=new fi(Pi(c.x*ri.beta),c.y,c.z),a.add(c)}precomputeWindow(e){const t=di?128/e+1:256/e+1,n=[];let r=this,i=r;for(let o=0;o<t;o++){i=r,n.push(i);for(let t=1;t<2**(e-1);t++)i=i.add(r),n.push(i);r=i.double()}return n}wNAF(e,t){!t&&this.equals(fi.BASE)&&(t=yi.BASE);const n=t&&t._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let r=t&&pi.get(t);r||(r=this.precomputeWindow(n),t&&1!==n&&(r=fi.normalizeZ(r),pi.set(t,r)));let i=fi.ZERO,o=fi.BASE;const s=1+(di?128/n:256/n),a=2**(n-1),c=BigInt(2**n-1),d=2**n,u=BigInt(n);for(let t=0;t<s;t++){const n=t*a;let s=Number(e&c);e>>=u,s>a&&(s-=d,e+=Yr);const h=n,f=n+Math.abs(s)-1,l=t%2!=0,p=s<0;0===s?o=o.add(li(l,r[h])):i=i.add(li(p,r[f]))}return{p:i,f:o}}multiply(e,t){let n,r,i=Ui(e);if(di){const{k1neg:e,k1:o,k2neg:s,k2:a}=ri.splitScalar(i);let{p:c,f:d}=this.wNAF(o,t),{p:u,f:h}=this.wNAF(a,t);c=li(e,c),u=li(s,u),u=new fi(Pi(u.x*ri.beta),u.y,u.z),n=c.add(u),r=d.add(h)}else{const{p:e,f:o}=this.wNAF(i,t);n=e,r=o}return fi.normalizeZ([n,r])[0]}toAffine(e){const{x:t,y:n,z:r}=this,i=this.equals(fi.ZERO);null==e&&(e=i?ei:Oi(r));const o=e,s=Pi(o*o),a=Pi(s*o),c=Pi(t*s),d=Pi(n*a),u=Pi(r*o);if(i)return yi.ZERO;if(u!==Yr)throw new Error("invZ was invalid");return new yi(c,d)}}function li(e,t){const n=t.negate();return e?n:t}fi.BASE=new fi(ti.Gx,ti.Gy,Yr),fi.ZERO=new fi(Jr,Yr,Jr);const pi=new WeakMap;class yi{constructor(e,t){this.x=e,this.y=t}_setWindowSize(e){this._WINDOW_SIZE=e,pi.delete(this)}hasEvenY(){return this.y%Xr===Jr}static fromCompressedHex(e){const t=32===e.length,n=Hi(t?e:e.subarray(1));if(!$i(n))throw new Error("Point is not on curve");let r=function(e){const{P:t}=ti,n=BigInt(6),r=BigInt(11),i=BigInt(22),o=BigInt(23),s=BigInt(44),a=BigInt(88),c=e*e*e%t,d=c*c*e%t,u=Ci(d,Qr)*d%t,h=Ci(u,Qr)*d%t,f=Ci(h,Xr)*c%t,l=Ci(f,r)*f%t,p=Ci(l,i)*l%t,y=Ci(p,s)*p%t,g=Ci(y,a)*y%t,w=Ci(g,s)*p%t,b=Ci(w,Qr)*d%t,m=Ci(b,o)*l%t,v=Ci(m,n)*c%t,x=Ci(v,Xr);if(x*x%t!==e)throw new Error("Cannot find square root");return x}(ci(n));const i=(r&Yr)===Yr;if(t)i&&(r=Pi(-r));else{1==(1&e[0])!==i&&(r=Pi(-r))}const o=new yi(n,r);return o.assertValidity(),o}static fromUncompressedHex(e){const t=Hi(e.subarray(1,ii+1)),n=Hi(e.subarray(ii+1,2*ii+1)),r=new yi(t,n);return r.assertValidity(),r}static fromHex(e){const t=Li(e),n=t.length,r=t[0];if(n===ii)return this.fromCompressedHex(t);if(n===si&&(2===r||3===r))return this.fromCompressedHex(t);if(n===ai&&4===r)return this.fromUncompressedHex(t);throw new Error(`Point.fromHex: received invalid point. Expected 32-${si} compressed bytes or ${ai} uncompressed bytes, not ${n}`)}static fromPrivateKey(e){return yi.BASE.multiply(zi(e))}static fromSignature(e,t,n){const{r,s:i}=Di(t);if(![0,1,2,3].includes(n))throw new Error("Cannot recover: invalid recovery bit");const o=Ki(Li(e)),{n:s}=ti,a=2===n||3===n?r+s:r,c=Oi(a,s),d=Pi(-o*c,s),u=Pi(i*c,s),h=1&n?"03":"02",f=yi.fromHex(h+Bi(a)),l=yi.BASE.multiplyAndAddUnsafe(f,d,u);if(!l)throw new Error("Cannot recover signature: point at infinify");return l.assertValidity(),l}toRawBytes(e=!1){return ki(this.toHex(e))}toHex(e=!1){const t=Bi(this.x);if(e){return`${this.hasEvenY()?"02":"03"}${t}`}return`04${t}${Bi(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const e="Point is not on elliptic curve",{x:t,y:n}=this;if(!$i(t)||!$i(n))throw new Error(e);const r=Pi(n*n);if(Pi(r-ci(t))!==Jr)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new yi(this.x,Pi(-this.y))}double(){return fi.fromAffine(this).double().toAffine()}add(e){return fi.fromAffine(this).add(fi.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return fi.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,t,n){const r=fi.fromAffine(this),i=t===Jr||t===Yr||this!==yi.BASE?r.multiplyUnsafe(t):r.multiply(t),o=fi.fromAffine(e).multiplyUnsafe(n),s=i.add(o);return s.equals(fi.ZERO)?void 0:s.toAffine()}}function gi(e){return Number.parseInt(e[0],16)>=8?"00"+e:e}function wi(e){if(e.length<2||2!==e[0])throw new Error(`Invalid signature integer tag: ${xi(e)}`);const t=e[1],n=e.subarray(2,t+2);if(!t||n.length!==t)throw new Error("Invalid signature integer: wrong length");if(0===n[0]&&n[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:Hi(n),left:e.subarray(t+2)}}yi.BASE=new yi(ti.Gx,ti.Gy),yi.ZERO=new yi(Jr,Jr);class bi{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromCompact(e){const t=e instanceof Uint8Array,n="Signature.fromCompact";if("string"!=typeof e&&!t)throw new TypeError(`${n}: Expected string or Uint8Array`);const r=t?xi(e):e;if(128!==r.length)throw new Error(`${n}: Expected 64-byte hex`);return new bi(Si(r.slice(0,64)),Si(r.slice(64,128)))}static fromDER(e){const t=e instanceof Uint8Array;if("string"!=typeof e&&!t)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r:n,s:r}=function(e){if(e.length<2||48!=e[0])throw new Error(`Invalid signature tag: ${xi(e)}`);if(e[1]!==e.length-2)throw new Error("Invalid signature: incorrect length");const{data:t,left:n}=wi(e.subarray(2)),{data:r,left:i}=wi(n);if(i.length)throw new Error(`Invalid signature: left bytes after parsing: ${xi(i)}`);return{r:t,s:r}}(t?e:ki(e));return new bi(n,r)}static fromHex(e){return this.fromDER(e)}assertValidity(){const{r:e,s:t}=this;if(!Ti(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!Ti(t))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const e=ti.n>>Yr;return this.s>e}normalizeS(){return this.hasHighS()?new bi(this.r,Pi(-this.s,ti.n)):this}toDERRawBytes(){return ki(this.toDERHex())}toDERHex(){const e=gi(Ii(this.s)),t=gi(Ii(this.r)),n=e.length/2,r=t.length/2,i=Ii(n),o=Ii(r);return`30${Ii(r+n+4)}02${o}${t}02${i}${e}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return ki(this.toCompactHex())}toCompactHex(){return Bi(this.r)+Bi(this.s)}}function mi(...e){if(!e.every((e=>e instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===e.length)return e[0];const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const i=e[t];n.set(i,r),r+=i.length}return n}const vi=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function xi(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");let t="";for(let n=0;n<e.length;n++)t+=vi[e[n]];return t}const Ei=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function Bi(e){if("bigint"!=typeof e)throw new Error("Expected bigint");if(!(Jr<=e&&e<Ei))throw new Error("Expected number 0 <= n < 2^256");return e.toString(16).padStart(64,"0")}function Ai(e){const t=ki(Bi(e));if(32!==t.length)throw new Error("Error: expected 32 bytes");return t}function Ii(e){const t=e.toString(16);return 1&t.length?`0${t}`:t}function Si(e){if("string"!=typeof e)throw new TypeError("hexToNumber: expected string, got "+typeof e);return BigInt(`0x${e}`)}function ki(e){if("string"!=typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+e.length);const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++){const r=2*n,i=e.slice(r,r+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");t[n]=o}return t}function Hi(e){return Si(xi(e))}function Li(e){return e instanceof Uint8Array?Uint8Array.from(e):ki(e)}function Ui(e){if("number"==typeof e&&Number.isSafeInteger(e)&&e>0)return BigInt(e);if("bigint"==typeof e&&Ti(e))return e;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function Pi(e,t=ti.P){const n=e%t;return n>=Jr?n:t+n}function Ci(e,t){const{P:n}=ti;let r=e;for(;t-- >Jr;)r*=r,r%=n;return r}function Oi(e,t=ti.P){if(e===Jr||t<=Jr)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=Pi(e,t),r=t,i=Jr,o=Yr,s=Yr,a=Jr;for(;n!==Jr;){const e=r/n,t=r%n,c=i-s*e,d=o-a*e;r=n,n=t,i=s,o=a,s=c,a=d}if(r!==Yr)throw new Error("invert: does not exist");return Pi(i,t)}function Ki(e,t=!1){const n=function(e){const t=8*e.length-8*oi,n=Hi(e);return t>0?n>>BigInt(t):n}(e);if(t)return n;const{n:r}=ti;return n>=r?n-r:n}let Ri,Fi;class Ni{constructor(e,t){if(this.hashLen=e,this.qByteLen=t,"number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(e).fill(1),this.k=new Uint8Array(e).fill(0),this.counter=0}hmac(...e){return Ji.hmacSha256(this.k,...e)}hmacSync(...e){return Fi(this.k,...e)}checkSync(){if("function"!=typeof Fi)throw new ui("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(e=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),e),this.v=await this.hmac(this.v),0!==e.length&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),e),this.v=await this.hmac(this.v))}reseedSync(e=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),e),this.v=this.hmacSync(this.v),0!==e.length&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),e),this.v=this.hmacSync(this.v))}async generate(){this.incr();let e=0;const t=[];for(;e<this.qByteLen;){this.v=await this.hmac(this.v);const n=this.v.slice();t.push(n),e+=this.v.length}return mi(...t)}generateSync(){this.checkSync(),this.incr();let e=0;const t=[];for(;e<this.qByteLen;){this.v=this.hmacSync(this.v);const n=this.v.slice();t.push(n),e+=this.v.length}return mi(...t)}}function Ti(e){return Jr<e&&e<ti.n}function $i(e){return Jr<e&&e<ti.P}function ji(e,t,n,r=!0){const{n:i}=ti,o=Ki(e,!0);if(!Ti(o))return;const s=Oi(o,i),a=yi.BASE.multiply(o),c=Pi(a.x,i);if(c===Jr)return;const d=Pi(s*Pi(t+n*c,i),i);if(d===Jr)return;let u=new bi(c,d),h=(a.x===u.r?0:2)|Number(a.y&Yr);return r&&u.hasHighS()&&(u=u.normalizeS(),h^=1),{sig:u,recovery:h}}function zi(e){let t;if("bigint"==typeof e)t=e;else if("number"==typeof e&&Number.isSafeInteger(e)&&e>0)t=BigInt(e);else if("string"==typeof e){if(e.length!==2*oi)throw new Error("Expected 32 bytes of private key");t=Si(e)}else{if(!(e instanceof Uint8Array))throw new TypeError("Expected valid private key");if(e.length!==oi)throw new Error("Expected 32 bytes of private key");t=Hi(e)}if(!Ti(t))throw new Error("Expected private key: 0 < key < n");return t}function Di(e){if(e instanceof bi)return e.assertValidity(),e;try{return bi.fromDER(e)}catch(t){return bi.fromCompact(e)}}function _i(e){return Hi(e.length>ii?e.slice(0,ii):e)}function qi(e){const t=_i(e),n=Pi(t,ti.n);return Gi(n<Jr?t:n)}function Gi(e){return Ai(e)}function Vi(e,t,n){if(null==e)throw new Error(`sign: expected valid message hash, not "${e}"`);const r=Li(e),i=zi(t),o=[Gi(i),qi(r)];if(null!=n){!0===n&&(n=Ji.randomBytes(ii));const e=Li(n);if(e.length!==ii)throw new Error(`sign: Expected ${ii} bytes of extra data`);o.push(e)}return{seed:mi(...o),m:_i(r),d:i}}function Mi(e,t){const{sig:n,recovery:r}=e,{der:i,recovered:o}=Object.assign({canonical:!0,der:!0},t),s=i?n.toDERRawBytes():n.toCompactRawBytes();return o?[s,r]:s}yi.BASE._setWindowSize(8);const Wi={node:Zr,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0},Zi={},Ji={bytesToHex:xi,hexToBytes:ki,concatBytes:mi,mod:Pi,invert:Oi,isValidPrivateKey(e){try{return zi(e),!0}catch(e){return!1}},_bigintTo32Bytes:Ai,_normalizePrivateKey:zi,hashToPrivateKey:e=>{e=Li(e);const t=oi+8;if(e.length<t||e.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");return Ai(Pi(Hi(e),ti.n-Yr)+Yr)},randomBytes:(e=32)=>{if(Wi.web)return Wi.web.getRandomValues(new Uint8Array(e));if(Wi.node){const{randomBytes:t}=Wi.node;return Uint8Array.from(t(e))}throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>Ji.hashToPrivateKey(Ji.randomBytes(oi+8)),precompute(e=8,t=yi.BASE){const n=t===yi.BASE?t:new yi(t.x,t.y);return n._setWindowSize(e),n.multiply(Qr),n},sha256:async(...e)=>{if(Wi.web){const t=await Wi.web.subtle.digest("SHA-256",mi(...e));return new Uint8Array(t)}if(Wi.node){const{createHash:t}=Wi.node,n=t("sha256");return e.forEach((e=>n.update(e))),Uint8Array.from(n.digest())}throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(e,...t)=>{if(Wi.web){const n=await Wi.web.subtle.importKey("raw",e,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),r=mi(...t),i=await Wi.web.subtle.sign("HMAC",n,r);return new Uint8Array(i)}if(Wi.node){const{createHmac:n}=Wi.node,r=n("sha256",e);return t.forEach((e=>r.update(e))),Uint8Array.from(r.digest())}throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(e,...t)=>{let n=Zi[e];if(void 0===n){const t=await Ji.sha256(Uint8Array.from(e,(e=>e.charCodeAt(0))));n=mi(t,t),Zi[e]=n}return Ji.sha256(n,...t)},taggedHashSync:(e,...t)=>{if("function"!=typeof Ri)throw new ui("sha256Sync is undefined, you need to set it");let n=Zi[e];if(void 0===n){const t=Ri(Uint8Array.from(e,(e=>e.charCodeAt(0))));n=mi(t,t),Zi[e]=n}return Ri(n,...t)},_JacobianPoint:fi};Object.defineProperties(Ji,{sha256Sync:{configurable:!1,get:()=>Ri,set(e){Ri||(Ri=e)}},hmacSha256Sync:{configurable:!1,get:()=>Fi,set(e){Fi||(Fi=e)}}});const Yi=32,Xi=0,Qi=4294967295,eo="bip32:44'",to=/^\d+$/u,no=/^bip32:\d+'?$/u,ro=/^slip10:\d+'?$/u,io=/^cip3:\d+'?$/u,oo=/^bip39:([a-z]+){1}( [a-z]+){11,23}$/u,so=2147483648;function ao(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function co(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function uo(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");ao(e.outputLen),ao(e.blockLen)}function ho(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function fo(e,t){co(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const lo="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,po=e=>e instanceof Uint8Array,yo=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),go=(e,t)=>e<<32-t|e>>>t;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function wo(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function bo(e){if("string"==typeof e&&(e=wo(e)),!po(e))throw new Error("expected Uint8Array, got "+typeof e);return e}function mo(...e){const t=new Uint8Array(e.reduce(((e,t)=>e+t.length),0));let n=0;return e.forEach((e=>{if(!po(e))throw new Error("Uint8Array expected");t.set(e,n),n+=e.length})),t}class vo{clone(){return this._cloneInto()}}function xo(e){const t=t=>e().update(bo(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Eo(e=32){if(lo&&"function"==typeof lo.getRandomValues)return lo.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}class Bo extends vo{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=yo(this.buffer)}update(e){ho(this);const{view:t,buffer:n,blockLen:r}=this,i=(e=bo(e)).length;for(let o=0;o<i;){const s=Math.min(r-this.pos,i-o);if(s!==r)n.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===r&&(this.process(t,0),this.pos=0);else{const t=yo(e);for(;r<=i-o;o+=r)this.process(t,o)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){ho(this),fo(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>r-o&&(this.process(n,0),o=0);for(let e=o;e<r;e++)t[e]=0;!function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),c=r?4:0,d=r?0:4;e.setUint32(t+c,s,r),e.setUint32(t+d,a,r)}(n,r-8,BigInt(8*this.length),i),this.process(n,0);const s=yo(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=a/4,d=this.get();if(c>d.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<c;e++)s.setUint32(4*e,d[e],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:o,pos:s}=this;return e.length=r,e.pos=s,e.finished=i,e.destroyed=o,r%t&&e.buffer.set(n),e}}const Ao=(e,t,n)=>e&t^e&n^t&n,Io=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),So=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ko=new Uint32Array(64);class Ho extends Bo{constructor(){super(64,32,8,!1),this.A=0|So[0],this.B=0|So[1],this.C=0|So[2],this.D=0|So[3],this.E=0|So[4],this.F=0|So[5],this.G=0|So[6],this.H=0|So[7]}get(){const{A:e,B:t,C:n,D:r,E:i,F:o,G:s,H:a}=this;return[e,t,n,r,i,o,s,a]}set(e,t,n,r,i,o,s,a){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(e,t){for(let n=0;n<16;n++,t+=4)ko[n]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=ko[e-15],n=ko[e-2],r=go(t,7)^go(t,18)^t>>>3,i=go(n,17)^go(n,19)^n>>>10;ko[e]=i+ko[e-7]+r+ko[e-16]|0}let{A:n,B:r,C:i,D:o,E:s,F:a,G:c,H:d}=this;for(let e=0;e<64;e++){const t=d+(go(s,6)^go(s,11)^go(s,25))+((u=s)&a^~u&c)+Io[e]+ko[e]|0,h=(go(n,2)^go(n,13)^go(n,22))+Ao(n,r,i)|0;d=c,c=a,a=s,s=o+t|0,o=i,i=r,r=n,n=t+h|0}var u;n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,o=o+this.D|0,s=s+this.E|0,a=a+this.F|0,c=c+this.G|0,d=d+this.H|0,this.set(n,r,i,o,s,a,c,d)}roundClean(){ko.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Lo=xo((()=>new Ho)),Uo=(BigInt(0),BigInt(1)),Po=BigInt(2),Co=e=>e instanceof Uint8Array,Oo=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function Ko(e){if(!Co(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=Oo[e[n]];return t}function Ro(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}function Fo(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let t=0;t<n.length;t++){const r=2*t,i=e.slice(r,r+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");n[t]=o}return n}function No(e){return Ro(Ko(e))}function To(e){if(!Co(e))throw new Error("Uint8Array expected");return Ro(Ko(Uint8Array.from(e).reverse()))}function $o(e,t){return Fo(e.toString(16).padStart(2*t,"0"))}function jo(e,t){return $o(e,t).reverse()}function zo(e,t,n){let r;if("string"==typeof t)try{r=Fo(t)}catch(n){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${n}`)}else{if(!Co(t))throw new Error(`${e} must be hex string or Uint8Array`);r=Uint8Array.from(t)}const i=r.length;if("number"==typeof n&&i!==n)throw new Error(`${e} expected ${n} bytes, got ${i}`);return r}function Do(...e){const t=new Uint8Array(e.reduce(((e,t)=>e+t.length),0));let n=0;return e.forEach((e=>{if(!Co(e))throw new Error("Uint8Array expected");t.set(e,n),n+=e.length})),t}const _o=e=>(Po<<BigInt(e-1))-Uo,qo=e=>new Uint8Array(e),Go=e=>Uint8Array.from(e);function Vo(e,t,n){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof n)throw new Error("hmacFn must be a function");let r=qo(e),i=qo(e),o=0;const s=()=>{r.fill(1),i.fill(0),o=0},a=(...e)=>n(i,r,...e),c=(e=qo())=>{i=a(Go([0]),e),r=a(),0!==e.length&&(i=a(Go([1]),e),r=a())},d=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){r=a();const t=r.slice();n.push(t),e+=r.length}return Do(...n)};return(e,t)=>{let n;for(s(),c(e);!(n=t(d()));)c();return s(),n}}const Mo={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function Wo(e,t,n={}){const r=(t,n,r)=>{const i=Mo[n];if("function"!=typeof i)throw new Error(`Invalid validator "${n}", expected function`);const o=e[t];if(!(r&&void 0===o||i(o,e)))throw new Error(`Invalid param ${String(t)}=${o} (${typeof o}), expected ${n}`)};for(const[e,n]of Object.entries(t))r(e,n,!1);for(const[e,t]of Object.entries(n))r(e,t,!0);return e}const Zo=BigInt(0),Jo=BigInt(1),Yo=BigInt(2),Xo=BigInt(3),Qo=BigInt(4),es=BigInt(5),ts=BigInt(8);BigInt(9),BigInt(16);function ns(e,t){const n=e%t;return n>=Zo?n:t+n}function rs(e,t,n){if(n<=Zo||t<Zo)throw new Error("Expected power/modulo > 0");if(n===Jo)return Zo;let r=Jo;for(;t>Zo;)t&Jo&&(r=r*e%n),e=e*e%n,t>>=Jo;return r}function is(e,t,n){let r=e;for(;t-- >Zo;)r*=r,r%=n;return r}function os(e,t){if(e===Zo||t<=Zo)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=ns(e,t),r=t,i=Zo,o=Jo,s=Jo,a=Zo;for(;n!==Zo;){const e=r/n,t=r%n,c=i-s*e,d=o-a*e;r=n,n=t,i=s,o=a,s=c,a=d}if(r!==Jo)throw new Error("invert: does not exist");return ns(i,t)}function ss(e){if(e%Qo===Xo){const t=(e+Jo)/Qo;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}if(e%ts===es){const t=(e-es)/ts;return function(e,n){const r=e.mul(n,Yo),i=e.pow(r,t),o=e.mul(n,i),s=e.mul(e.mul(o,Yo),i),a=e.mul(o,e.sub(s,e.ONE));if(!e.eql(e.sqr(a),n))throw new Error("Cannot find square root");return a}}return function(e){const t=(e-Jo)/Yo;let n,r,i;for(n=e-Jo,r=0;n%Yo===Zo;n/=Yo,r++);for(i=Yo;i<e&&rs(i,t,e)!==e-Jo;i++);if(1===r){const t=(e+Jo)/Qo;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}const o=(n+Jo)/Yo;return function(e,s){if(e.pow(s,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let a=r,c=e.pow(e.mul(e.ONE,i),n),d=e.pow(s,o),u=e.pow(s,n);for(;!e.eql(u,e.ONE);){if(e.eql(u,e.ZERO))return e.ZERO;let t=1;for(let n=e.sqr(u);t<a&&!e.eql(n,e.ONE);t++)n=e.sqr(n);const n=e.pow(c,Jo<<BigInt(a-t-1));c=e.sqr(n),d=e.mul(d,n),u=e.mul(u,c),a=t}return d}}(e)}const as=(e,t)=>(ns(e,t)&Jo)===Jo,cs=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ds(e,t){const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function us(e,t,n=!1,r={}){if(e<=Zo)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:i,nByteLength:o}=ds(e,t);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=ss(e),a=Object.freeze({ORDER:e,BITS:i,BYTES:o,MASK:_o(i),ZERO:Zo,ONE:Jo,create:t=>ns(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("Invalid field element: expected bigint, got "+typeof t);return Zo<=t&&t<e},is0:e=>e===Zo,isOdd:e=>(e&Jo)===Jo,neg:t=>ns(-t,e),eql:(e,t)=>e===t,sqr:t=>ns(t*t,e),add:(t,n)=>ns(t+n,e),sub:(t,n)=>ns(t-n,e),mul:(t,n)=>ns(t*n,e),pow:(e,t)=>function(e,t,n){if(n<Zo)throw new Error("Expected power > 0");if(n===Zo)return e.ONE;if(n===Jo)return t;let r=e.ONE,i=t;for(;n>Zo;)n&Jo&&(r=e.mul(r,i)),i=e.sqr(i),n>>=Jo;return r}(a,e,t),div:(t,n)=>ns(t*os(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>os(t,e),sqrt:r.sqrt||(e=>s(a,e)),invertBatch:e=>function(e,t){const n=new Array(t.length),r=t.reduce(((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r))),e.ONE),i=e.inv(r);return t.reduceRight(((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r))),i),n}(a,e),cmov:(e,t,n)=>n?t:e,toBytes:e=>n?jo(e,o):$o(e,o),fromBytes:e=>{if(e.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${e.length}`);return n?To(e):No(e)}});return Object.freeze(a)}function hs(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function fs(e){const t=hs(e);return t+Math.ceil(t/2)}class ls extends vo{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,uo(e);const n=bo(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,i=new Uint8Array(r);i.set(n.length>r?e.create().update(n).digest():n);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),i.fill(0)}update(e){return ho(this),this.iHash.update(e),this}digestInto(e){ho(this),co(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:o,outputLen:s}=this;return e.finished=r,e.destroyed=i,e.blockLen=o,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const ps=(e,t,n)=>new ls(e,t).update(n).digest();ps.create=(e,t)=>new ls(e,t);const ys=BigInt(0),gs=BigInt(1);function ws(e,t){const n=(e,t)=>{const n=t.negate();return e?n:t},r=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:n,unsafeLadder(t,n){let r=e.ZERO,i=t;for(;n>ys;)n&gs&&(r=r.add(i)),i=i.double(),n>>=gs;return r},precomputeWindow(e,t){const{windows:n,windowSize:i}=r(t),o=[];let s=e,a=s;for(let e=0;e<n;e++){a=s,o.push(a);for(let e=1;e<i;e++)a=a.add(s),o.push(a);s=a.double()}return o},wNAF(t,i,o){const{windows:s,windowSize:a}=r(t);let c=e.ZERO,d=e.BASE;const u=BigInt(2**t-1),h=2**t,f=BigInt(t);for(let e=0;e<s;e++){const t=e*a;let r=Number(o&u);o>>=f,r>a&&(r-=h,o+=gs);const s=t,l=t+Math.abs(r)-1,p=e%2!=0,y=r<0;0===r?d=d.add(n(p,i[s])):c=c.add(n(y,i[l]))}return{p:c,f:d}},wNAFCached(e,t,n,r){const i=e._WINDOW_SIZE||1;let o=t.get(e);return o||(o=this.precomputeWindow(e,i),1!==i&&t.set(e,r(o))),this.wNAF(i,o,n)}}}function bs(e){return function(e){const t=cs.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});Wo(e,t)}(e.Fp),Wo(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...ds(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}const{bytesToNumberBE:ms,hexToBytes:vs}=e,xs={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(e){const{Err:t}=xs;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");const n=e[1],r=e.subarray(2,n+2);if(!n||r.length!==n)throw new t("Invalid signature integer: wrong length");if(128&r[0])throw new t("Invalid signature integer: negative");if(0===r[0]&&!(128&r[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:ms(r),l:e.subarray(n+2)}},toSig(e){const{Err:t}=xs,n="string"==typeof e?vs(e):e;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||48!=n[0])throw new t("Invalid signature tag");if(n[1]!==r-2)throw new t("Invalid signature: incorrect length");const{d:i,l:o}=xs._parseInt(n.subarray(2)),{d:s,l:a}=xs._parseInt(o);if(a.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s}},hexFromSig(e){const t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,n=e=>{const t=e.toString(16);return 1&t.length?`0${t}`:t},r=t(n(e.s)),i=t(n(e.r)),o=r.length/2,s=i.length/2,a=n(o),c=n(s);return`30${n(s+o+4)}02${c}${i}02${a}${r}`}},Es=BigInt(0),Bs=BigInt(1),As=(BigInt(2),BigInt(3));BigInt(4);function Is(e){const t=function(e){const t=bs(e);Wo(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=t;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof n||"bigint"!=typeof n.beta||"function"!=typeof n.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:n}=t,r=t.toBytes||((e,t,r)=>{const i=t.toAffine();return Do(Uint8Array.from([4]),n.toBytes(i.x),n.toBytes(i.y))}),i=t.fromBytes||(e=>{const t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function o(e){const{a:r,b:i}=t,o=n.sqr(e),s=n.mul(o,e);return n.add(n.add(s,n.mul(e,r)),i)}if(!n.eql(n.sqr(t.Gy),o(t.Gx)))throw new Error("bad generator point: equation left != right");function s(e){return"bigint"==typeof e&&Es<e&&e<t.n}function a(e){if(!s(e))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(e){const{allowedPrivateKeyLengths:n,nByteLength:r,wrapPrivateKey:i,n:o}=t;if(n&&"bigint"!=typeof e){if(e instanceof Uint8Array&&(e=Ko(e)),"string"!=typeof e||!n.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*r,"0")}let s;try{s="bigint"==typeof e?e:No(zo("private key",e,r))}catch(t){throw new Error(`private key must be ${r} bytes, hex or bigint, not ${typeof e}`)}return i&&(s=ns(s,o)),a(s),s}const d=new Map;function u(e){if(!(e instanceof h))throw new Error("ProjectivePoint expected")}class h{constructor(e,t,r){if(this.px=e,this.py=t,this.pz=r,null==e||!n.isValid(e))throw new Error("x required");if(null==t||!n.isValid(t))throw new Error("y required");if(null==r||!n.isValid(r))throw new Error("z required")}static fromAffine(e){const{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw new Error("invalid affine point");if(e instanceof h)throw new Error("projective point not allowed");const i=e=>n.eql(e,n.ZERO);return i(t)&&i(r)?h.ZERO:new h(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(h.fromAffine)}static fromHex(e){const t=h.fromAffine(i(zo("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return h.BASE.multiply(c(e))}_setWindowSize(e){this._WINDOW_SIZE=e,d.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:e,y:r}=this.toAffine();if(!n.isValid(e)||!n.isValid(r))throw new Error("bad point: x or y not FE");const i=n.sqr(r),s=o(e);if(!n.eql(i,s))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){u(e);const{px:t,py:r,pz:i}=this,{px:o,py:s,pz:a}=e,c=n.eql(n.mul(t,a),n.mul(o,i)),d=n.eql(n.mul(r,a),n.mul(s,i));return c&&d}negate(){return new h(this.px,n.neg(this.py),this.pz)}double(){const{a:e,b:r}=t,i=n.mul(r,As),{px:o,py:s,pz:a}=this;let c=n.ZERO,d=n.ZERO,u=n.ZERO,f=n.mul(o,o),l=n.mul(s,s),p=n.mul(a,a),y=n.mul(o,s);return y=n.add(y,y),u=n.mul(o,a),u=n.add(u,u),c=n.mul(e,u),d=n.mul(i,p),d=n.add(c,d),c=n.sub(l,d),d=n.add(l,d),d=n.mul(c,d),c=n.mul(y,c),u=n.mul(i,u),p=n.mul(e,p),y=n.sub(f,p),y=n.mul(e,y),y=n.add(y,u),u=n.add(f,f),f=n.add(u,f),f=n.add(f,p),f=n.mul(f,y),d=n.add(d,f),p=n.mul(s,a),p=n.add(p,p),f=n.mul(p,y),c=n.sub(c,f),u=n.mul(p,l),u=n.add(u,u),u=n.add(u,u),new h(c,d,u)}add(e){u(e);const{px:r,py:i,pz:o}=this,{px:s,py:a,pz:c}=e;let d=n.ZERO,f=n.ZERO,l=n.ZERO;const p=t.a,y=n.mul(t.b,As);let g=n.mul(r,s),w=n.mul(i,a),b=n.mul(o,c),m=n.add(r,i),v=n.add(s,a);m=n.mul(m,v),v=n.add(g,w),m=n.sub(m,v),v=n.add(r,o);let x=n.add(s,c);return v=n.mul(v,x),x=n.add(g,b),v=n.sub(v,x),x=n.add(i,o),d=n.add(a,c),x=n.mul(x,d),d=n.add(w,b),x=n.sub(x,d),l=n.mul(p,v),d=n.mul(y,b),l=n.add(d,l),d=n.sub(w,l),l=n.add(w,l),f=n.mul(d,l),w=n.add(g,g),w=n.add(w,g),b=n.mul(p,b),v=n.mul(y,v),w=n.add(w,b),b=n.sub(g,b),b=n.mul(p,b),v=n.add(v,b),g=n.mul(w,v),f=n.add(f,g),g=n.mul(x,v),d=n.mul(m,d),d=n.sub(d,g),g=n.mul(m,w),l=n.mul(x,l),l=n.add(l,g),new h(d,f,l)}subtract(e){return this.add(e.negate())}is0(){return this.equals(h.ZERO)}wNAF(e){return l.wNAFCached(this,d,e,(e=>{const t=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(h.fromAffine)}))}multiplyUnsafe(e){const r=h.ZERO;if(e===Es)return r;if(a(e),e===Bs)return this;const{endo:i}=t;if(!i)return l.unsafeLadder(this,e);let{k1neg:o,k1:s,k2neg:c,k2:d}=i.splitScalar(e),u=r,f=r,p=this;for(;s>Es||d>Es;)s&Bs&&(u=u.add(p)),d&Bs&&(f=f.add(p)),p=p.double(),s>>=Bs,d>>=Bs;return o&&(u=u.negate()),c&&(f=f.negate()),f=new h(n.mul(f.px,i.beta),f.py,f.pz),u.add(f)}multiply(e){a(e);let r,i,o=e;const{endo:s}=t;if(s){const{k1neg:e,k1:t,k2neg:a,k2:c}=s.splitScalar(o);let{p:d,f:u}=this.wNAF(t),{p:f,f:p}=this.wNAF(c);d=l.constTimeNegate(e,d),f=l.constTimeNegate(a,f),f=new h(n.mul(f.px,s.beta),f.py,f.pz),r=d.add(f),i=u.add(p)}else{const{p:e,f:t}=this.wNAF(o);r=e,i=t}return h.normalizeZ([r,i])[0]}multiplyAndAddUnsafe(e,t,n){const r=h.BASE,i=(e,t)=>t!==Es&&t!==Bs&&e.equals(r)?e.multiply(t):e.multiplyUnsafe(t),o=i(this,t).add(i(e,n));return o.is0()?void 0:o}toAffine(e){const{px:t,py:r,pz:i}=this,o=this.is0();null==e&&(e=o?n.ONE:n.inv(i));const s=n.mul(t,e),a=n.mul(r,e),c=n.mul(i,e);if(o)return{x:n.ZERO,y:n.ZERO};if(!n.eql(c,n.ONE))throw new Error("invZ was invalid");return{x:s,y:a}}isTorsionFree(){const{h:e,isTorsionFree:n}=t;if(e===Bs)return!0;if(n)return n(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:n}=t;return e===Bs?this:n?n(h,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return this.assertValidity(),r(h,this,e)}toHex(e=!0){return Ko(this.toRawBytes(e))}}h.BASE=new h(t.Gx,t.Gy,n.ONE),h.ZERO=new h(n.ZERO,n.ONE,n.ZERO);const f=t.nBitLength,l=ws(h,t.endo?Math.ceil(f/2):f);return{CURVE:t,ProjectivePoint:h,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:s}}function Ss(e){const t=function(e){const t=bs(e);return Wo(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:n,n:r}=t,i=n.BYTES+1,o=2*n.BYTES+1;function s(e){return ns(e,r)}function a(e){return os(e,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:d,weierstrassEquation:u,isWithinCurveOrder:h}=Is({...t,toBytes(e,t,r){const i=t.toAffine(),o=n.toBytes(i.x),s=Do;return r?s(Uint8Array.from([t.hasEvenY()?2:3]),o):s(Uint8Array.from([4]),o,n.toBytes(i.y))},fromBytes(e){const t=e.length,r=e[0],s=e.subarray(1);if(t!==i||2!==r&&3!==r){if(t===o&&4===r){return{x:n.fromBytes(s.subarray(0,n.BYTES)),y:n.fromBytes(s.subarray(n.BYTES,2*n.BYTES))}}throw new Error(`Point of length ${t} was invalid. Expected ${i} compressed bytes or ${o} uncompressed bytes`)}{const e=No(s);if(!(Es<(a=e)&&a<n.ORDER))throw new Error("Point is not on curve");const t=u(e);let i=n.sqrt(t);return 1==(1&r)!==((i&Bs)===Bs)&&(i=n.neg(i)),{x:e,y:i}}var a}}),f=e=>Ko($o(e,t.nByteLength));function l(e){return e>r>>Bs}const p=(e,t,n)=>No(e.slice(t,n));class y{constructor(e,t,n){this.r=e,this.s=t,this.recovery=n,this.assertValidity()}static fromCompact(e){const n=t.nByteLength;return e=zo("compactSignature",e,2*n),new y(p(e,0,n),p(e,n,2*n))}static fromDER(e){const{r:t,s:n}=xs.toSig(zo("DER",e));return new y(t,n)}assertValidity(){if(!h(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!h(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new y(this.r,this.s,e)}recoverPublicKey(e){const{r,s:i,recovery:o}=this,d=m(zo("msgHash",e));if(null==o||![0,1,2,3].includes(o))throw new Error("recovery id invalid");const u=2===o||3===o?r+t.n:r;if(u>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const h=0==(1&o)?"02":"03",l=c.fromHex(h+f(u)),p=a(u),y=s(-d*p),g=s(i*p),w=c.BASE.multiplyAndAddUnsafe(l,y,g);if(!w)throw new Error("point at infinify");return w.assertValidity(),w}hasHighS(){return l(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return Fo(this.toDERHex())}toDERHex(){return xs.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Fo(this.toCompactHex())}toCompactHex(){return f(this.r)+f(this.s)}}const g={isValidPrivateKey(e){try{return d(e),!0}catch(e){return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const e=fs(t.n);return function(e,t,n=!1){const r=e.length,i=hs(t),o=fs(t);if(r<16||r<o||r>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${r}`);const s=ns(n?No(e):To(e),t-Jo)+Jo;return n?jo(s,i):$o(s,i)}(t.randomBytes(e),t.n)},precompute:(e=8,t=c.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};function w(e){const t=e instanceof Uint8Array,n="string"==typeof e,r=(t||n)&&e.length;return t?r===i||r===o:n?r===2*i||r===2*o:e instanceof c}const b=t.bits2int||function(e){const n=No(e),r=8*e.length-t.nBitLength;return r>0?n>>BigInt(r):n},m=t.bits2int_modN||function(e){return s(b(e))},v=_o(t.nBitLength);function x(e){if("bigint"!=typeof e)throw new Error("bigint expected");if(!(Es<=e&&e<v))throw new Error(`bigint expected < 2^${t.nBitLength}`);return $o(e,t.nByteLength)}function E(e,r,i=B){if(["recovered","canonical"].some((e=>e in i)))throw new Error("sign() legacy options not supported");const{hash:o,randomBytes:u}=t;let{lowS:f,prehash:p,extraEntropy:g}=i;null==f&&(f=!0),e=zo("msgHash",e),p&&(e=zo("prehashed msgHash",o(e)));const w=m(e),v=d(r),E=[x(v),x(w)];if(null!=g){const e=!0===g?u(n.BYTES):g;E.push(zo("extraEntropy",e))}const A=Do(...E),I=w;return{seed:A,k2sig:function(e){const t=b(e);if(!h(t))return;const n=a(t),r=c.BASE.multiply(t).toAffine(),i=s(r.x);if(i===Es)return;const o=s(n*s(I+i*v));if(o===Es)return;let d=(r.x===i?0:2)|Number(r.y&Bs),u=o;return f&&l(o)&&(u=function(e){return l(e)?s(-e):e}(o),d^=1),new y(i,u,d)}}}const B={lowS:t.lowS,prehash:!1},A={lowS:t.lowS,prehash:!1};return c.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return c.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,n=!0){if(w(e))throw new Error("first arg must be private key");if(!w(t))throw new Error("second arg must be public key");return c.fromHex(t).multiply(d(e)).toRawBytes(n)},sign:function(e,n,r=B){const{seed:i,k2sig:o}=E(e,n,r),s=t;return Vo(s.hash.outputLen,s.nByteLength,s.hmac)(i,o)},verify:function(e,n,r,i=A){const o=e;if(n=zo("msgHash",n),r=zo("publicKey",r),"strict"in i)throw new Error("options.strict was renamed to lowS");const{lowS:d,prehash:u}=i;let h,f;try{if("string"==typeof o||o instanceof Uint8Array)try{h=y.fromDER(o)}catch(e){if(!(e instanceof xs.Err))throw e;h=y.fromCompact(o)}else{if("object"!=typeof o||"bigint"!=typeof o.r||"bigint"!=typeof o.s)throw new Error("PARSE");{const{r:e,s:t}=o;h=new y(e,t)}}f=c.fromHex(r)}catch(e){if("PARSE"===e.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(d&&h.hasHighS())return!1;u&&(n=t.hash(n));const{r:l,s:p}=h,g=m(n),w=a(p),b=s(g*w),v=s(l*w),x=c.BASE.multiplyAndAddUnsafe(f,b,v)?.toAffine();return!!x&&s(x.x)===l},ProjectivePoint:c,Signature:y,utils:g}}function ks(e){return{hash:e,hmac:(t,...n)=>ps(e,t,mo(...n)),randomBytes:Eo}}const Hs=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Ls=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Us=BigInt(1),Ps=BigInt(2),Cs=(e,t)=>(e+t/Ps)/t;function Os(e){const t=Hs,n=BigInt(3),r=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),c=BigInt(88),d=e*e*e%t,u=d*d*e%t,h=is(u,n,t)*u%t,f=is(h,n,t)*u%t,l=is(f,Ps,t)*d%t,p=is(l,i,t)*l%t,y=is(p,o,t)*p%t,g=is(y,a,t)*y%t,w=is(g,c,t)*g%t,b=is(w,a,t)*y%t,m=is(b,n,t)*u%t,v=is(m,s,t)*p%t,x=is(v,r,t)*d%t,E=is(x,Ps,t);if(!Ks.eql(Ks.sqr(E),e))throw new Error("Cannot find square root");return E}const Ks=us(Hs,void 0,void 0,{sqrt:Os}),Rs=function(e,t){const n=t=>Ss({...e,...ks(t)});return Object.freeze({...n(t),create:n})}({a:BigInt(0),b:BigInt(7),Fp:Ks,n:Ls,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Ls,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Us*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,s=BigInt("0x100000000000000000000000000000000"),a=Cs(o*e,t),c=Cs(-r*e,t);let d=ns(e-a*n-c*i,t),u=ns(-a*r-c*o,t);const h=d>s,f=u>s;if(h&&(d=t-d),f&&(u=t-u),d>s||u>s)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:h,k1:d,k2neg:f,k2:u}}}},Lo);BigInt(0);Rs.ProjectivePoint;var Fs=i(983);function Ns(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function Ts(e,...t){if(!((n=e)instanceof Uint8Array||null!=n&&"object"==typeof n&&"Uint8Array"===n.constructor.name))throw new Error("Uint8Array expected");var n;if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function $s(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");Ns(e.outputLen),Ns(e.blockLen)}function js(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function zs(e,t){Ts(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Ds=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),_s=(e,t)=>e<<32-t|e>>>t,qs=(e,t)=>e<<t|e>>>32-t>>>0,Gs=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],Vs=e=>e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255;function Ms(e){for(let t=0;t<e.length;t++)e[t]=Vs(e[t])}Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function Ws(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),Ts(e),e}class Zs{clone(){return this._cloneInto()}}const Js={}.toString;function Ys(e){const t=t=>e().update(Ws(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}const Xs=(e,t,n)=>e&t^e&n^t&n;class Qs extends Zs{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Ds(this.buffer)}update(e){js(this);const{view:t,buffer:n,blockLen:r}=this,i=(e=Ws(e)).length;for(let o=0;o<i;){const s=Math.min(r-this.pos,i-o);if(s!==r)n.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===r&&(this.process(t,0),this.pos=0);else{const t=Ds(e);for(;r<=i-o;o+=r)this.process(t,o)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){js(this),zs(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>r-o&&(this.process(n,0),o=0);for(let e=o;e<r;e++)t[e]=0;!function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),c=r?4:0,d=r?0:4;e.setUint32(t+c,s,r),e.setUint32(t+d,a,r)}(n,r-8,BigInt(8*this.length),i),this.process(n,0);const s=Ds(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=a/4,d=this.get();if(c>d.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<c;e++)s.setUint32(4*e,d[e],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:o,pos:s}=this;return e.length=r,e.pos=s,e.finished=i,e.destroyed=o,r%t&&e.buffer.set(n),e}}const ea=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),ta=new Uint8Array(new Array(16).fill(0).map(((e,t)=>t))),na=ta.map((e=>(9*e+5)%16));let ra=[ta],ia=[na];for(let e=0;e<4;e++)for(let t of[ra,ia])t.push(t[e].map((e=>ea[e])));const oa=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map((e=>new Uint8Array(e))),sa=ra.map(((e,t)=>e.map((e=>oa[t][e])))),aa=ia.map(((e,t)=>e.map((e=>oa[t][e])))),ca=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),da=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]);function ua(e,t,n,r){return 0===e?t^n^r:1===e?t&n|~t&r:2===e?(t|~n)^r:3===e?t&r|n&~r:t^(n|~r)}const ha=new Uint32Array(16);class fa extends Qs{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:t,h2:n,h3:r,h4:i}=this;return[e,t,n,r,i]}set(e,t,n,r,i){this.h0=0|e,this.h1=0|t,this.h2=0|n,this.h3=0|r,this.h4=0|i}process(e,t){for(let n=0;n<16;n++,t+=4)ha[n]=e.getUint32(t,!0);let n=0|this.h0,r=n,i=0|this.h1,o=i,s=0|this.h2,a=s,c=0|this.h3,d=c,u=0|this.h4,h=u;for(let e=0;e<5;e++){const t=4-e,f=ca[e],l=da[e],p=ra[e],y=ia[e],g=sa[e],w=aa[e];for(let t=0;t<16;t++){const r=qs(n+ua(e,i,s,c)+ha[p[t]]+f,g[t])+u|0;n=u,u=c,c=0|qs(s,10),s=i,i=r}for(let e=0;e<16;e++){const n=qs(r+ua(t,o,a,d)+ha[y[e]]+l,w[e])+h|0;r=h,h=d,d=0|qs(a,10),a=o,o=n}}this.set(this.h1+s+d|0,this.h2+c+h|0,this.h3+u+r|0,this.h4+n+o|0,this.h0+i+a|0)}roundClean(){ha.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const la=Ys((()=>new fa)),pa=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ya=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ga=new Uint32Array(64);class wa extends Qs{constructor(){super(64,32,8,!1),this.A=0|ya[0],this.B=0|ya[1],this.C=0|ya[2],this.D=0|ya[3],this.E=0|ya[4],this.F=0|ya[5],this.G=0|ya[6],this.H=0|ya[7]}get(){const{A:e,B:t,C:n,D:r,E:i,F:o,G:s,H:a}=this;return[e,t,n,r,i,o,s,a]}set(e,t,n,r,i,o,s,a){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(e,t){for(let n=0;n<16;n++,t+=4)ga[n]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=ga[e-15],n=ga[e-2],r=_s(t,7)^_s(t,18)^t>>>3,i=_s(n,17)^_s(n,19)^n>>>10;ga[e]=i+ga[e-7]+r+ga[e-16]|0}let{A:n,B:r,C:i,D:o,E:s,F:a,G:c,H:d}=this;for(let e=0;e<64;e++){const t=d+(_s(s,6)^_s(s,11)^_s(s,25))+((u=s)&a^~u&c)+pa[e]+ga[e]|0,h=(_s(n,2)^_s(n,13)^_s(n,22))+Xs(n,r,i)|0;d=c,c=a,a=s,s=o+t|0,o=i,i=r,r=n,n=t+h|0}var u;n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,o=o+this.D|0,s=s+this.E|0,a=a+this.F|0,c=c+this.G|0,d=d+this.H|0,this.set(n,r,i,o,s,a,c,d)}roundClean(){ga.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const ba=Ys((()=>new wa));function ma(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function va(...e){const t=(e,t)=>n=>e(t(n)),n=Array.from(e).reverse().reduce(((e,n)=>e?t(e,n.encode):n.encode),void 0),r=e.reduce(((e,n)=>e?t(e,n.decode):n.decode),void 0);return{encode:n,decode:r}}function xa(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("alphabet.encode input should be an array of numbers");return t.map((t=>{if(ma(t),t<0||t>=e.length)throw new Error(`Digit index outside alphabet: ${t} (alphabet: ${e.length})`);return e[t]}))},decode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("alphabet.decode input should be array of strings");return t.map((t=>{if("string"!=typeof t)throw new Error(`alphabet.decode: not string element=${t}`);const n=e.indexOf(t);if(-1===n)throw new Error(`Unknown letter: "${t}". Allowed: ${e}`);return n}))}}}function Ea(e=""){if("string"!=typeof e)throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("join.encode input should be array of strings");for(let e of t)if("string"!=typeof e)throw new Error(`join.encode: non-string input=${e}`);return t.join(e)},decode:t=>{if("string"!=typeof t)throw new Error("join.decode input should be string");return t.split(e)}}}function Ba(e,t="="){if(ma(e),"string"!=typeof t)throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&"string"!=typeof n[0])throw new Error("padding.encode input should be array of strings");for(let e of n)if("string"!=typeof e)throw new Error(`padding.encode: non-string input=${e}`);for(;n.length*e%8;)n.push(t);return n},decode(n){if(!Array.isArray(n)||n.length&&"string"!=typeof n[0])throw new Error("padding.encode input should be array of strings");for(let e of n)if("string"!=typeof e)throw new Error(`padding.decode: non-string input=${e}`);let r=n.length;if(r*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--)if(!((r-1)*e%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,r)}}}function Aa(e){if("function"!=typeof e)throw new Error("normalize fn should be function");return{encode:e=>e,decode:t=>e(t)}}function Ia(e,t,n){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let r=0;const i=[],o=Array.from(e);for(o.forEach((e=>{if(ma(e),e<0||e>=t)throw new Error(`Wrong integer: ${e}`)}));;){let e=0,s=!0;for(let i=r;i<o.length;i++){const a=o[i],c=t*e+a;if(!Number.isSafeInteger(c)||t*e/t!==e||c-a!=t*e)throw new Error("convertRadix: carry overflow");e=c%n;const d=Math.floor(c/n);if(o[i]=d,!Number.isSafeInteger(d)||d*n+e!==c)throw new Error("convertRadix: carry overflow");s&&(d?s=!1:r=i)}if(i.push(e),s)break}for(let t=0;t<e.length-1&&0===e[t];t++)i.push(0);return i.reverse()}const Sa=(e,t)=>t?Sa(t,e%t):e,ka=(e,t)=>e+(t-Sa(e,t));function Ha(e,t,n,r){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(ka(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${ka(t,n)}`);let i=0,o=0;const s=2**n-1,a=[];for(const r of e){if(ma(r),r>=2**t)throw new Error(`convertRadix2: invalid data word=${r} from=${t}`);if(i=i<<t|r,o+t>32)throw new Error(`convertRadix2: carry overflow pos=${o} from=${t}`);for(o+=t;o>=n;o-=n)a.push((i>>o-n&s)>>>0);i&=2**o-1}if(i=i<<n-o&s,!r&&o>=t)throw new Error("Excess padding");if(!r&&i)throw new Error(`Non-zero padding: ${i}`);return r&&o>0&&a.push(i>>>0),a}function La(e){return ma(e),{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return Ia(Array.from(t),256,e)},decode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("radix.decode input should be array of strings");return Uint8Array.from(Ia(t,e,256))}}}function Ua(e,t=!1){if(ma(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(ka(8,e)>32||ka(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!(n instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return Ha(Array.from(n),8,e,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&"number"!=typeof n[0])throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(Ha(n,e,8,t))}}}function Pa(e,t){if(ma(e),"function"!=typeof t)throw new Error("checksum fn should be function");return{encode(n){if(!(n instanceof Uint8Array))throw new Error("checksum.encode: input should be Uint8Array");const r=t(n).slice(0,e),i=new Uint8Array(n.length+e);return i.set(n),i.set(r,n.length),i},decode(n){if(!(n instanceof Uint8Array))throw new Error("checksum.decode: input should be Uint8Array");const r=n.slice(0,-e),i=t(r).slice(0,e),o=n.slice(-e);for(let t=0;t<e;t++)if(i[t]!==o[t])throw new Error("Invalid checksum");return r}}}const Ca=va(Ua(4),xa("0123456789ABCDEF"),Ea("")),Oa=va(Ua(5),xa("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),Ba(5),Ea("")),Ka=(va(Ua(5),xa("0123456789ABCDEFGHIJKLMNOPQRSTUV"),Ba(5),Ea("")),va(Ua(5),xa("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),Ea(""),Aa((e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")))),va(Ua(6),xa("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),Ba(6),Ea(""))),Ra=va(Ua(6),xa("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),Ba(6),Ea("")),Fa=(va(Ua(6),xa("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),Ea("")),e=>va(La(58),xa(e),Ea(""))),Na=Fa("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),Ta=[0,2,3,5,6,7,9,10,11],$a={encode(e){let t="";for(let n=0;n<e.length;n+=8){const r=e.subarray(n,n+8);t+=Na.encode(r).padStart(Ta[r.length],"1")}return t},decode(e){let t=[];for(let n=0;n<e.length;n+=11){const r=e.slice(n,n+11),i=Ta.indexOf(r.length),o=Na.decode(r);for(let e=0;e<o.length-i;e++)if(0!==o[e])throw new Error("base58xmr: wrong padding");t=t.concat(Array.from(o.slice(o.length-i)))}return Uint8Array.from(t)}},ja=e=>va(Pa(4,(t=>e(e(t)))),Na);va(xa("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),Ea(""));const za={encode:e=>(new TextDecoder).decode(e),decode:e=>(new TextEncoder).encode(e)},Da=(va(Ua(4),xa("0123456789abcdef"),Ea(""),Aa((e=>{if("string"!=typeof e||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()}))),BigInt(2**32-1)),_a=BigInt(32);function qa(e,t=!1){return t?{h:Number(e&Da),l:Number(e>>_a&Da)}:{h:0|Number(e>>_a&Da),l:0|Number(e&Da)}}const Ga={fromBig:qa,split:function(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:o,l:s}=qa(e[i],t);[n[i],r[i]]=[o,s]}return[n,r]},toBig:(e,t)=>BigInt(e>>>0)<<_a|BigInt(t>>>0),shrSH:(e,t,n)=>e>>>n,shrSL:(e,t,n)=>e<<32-n|t>>>n,rotrSH:(e,t,n)=>e>>>n|t<<32-n,rotrSL:(e,t,n)=>e<<32-n|t>>>n,rotrBH:(e,t,n)=>e<<64-n|t>>>n-32,rotrBL:(e,t,n)=>e>>>n-32|t<<64-n,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:(e,t,n)=>e<<n|t>>>32-n,rotlSL:(e,t,n)=>t<<n|e>>>32-n,rotlBH:(e,t,n)=>t<<n-32|e>>>64-n,rotlBL:(e,t,n)=>e<<n-32|t>>>64-n,add:function(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:0|i}},add3L:(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),add3H:(e,t,n,r)=>t+n+r+(e/2**32|0)|0,add4L:(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),add4H:(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,add5H:(e,t,n,r,i,o)=>t+n+r+i+o+(e/2**32|0)|0,add5L:(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0)},Va=Ga,[Ma,Wa]=Va.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))),Za=new Uint32Array(80),Ja=new Uint32Array(80);class Ya extends Bo{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:i,Cl:o,Dh:s,Dl:a,Eh:c,El:d,Fh:u,Fl:h,Gh:f,Gl:l,Hh:p,Hl:y}=this;return[e,t,n,r,i,o,s,a,c,d,u,h,f,l,p,y]}set(e,t,n,r,i,o,s,a,c,d,u,h,f,l,p,y){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|i,this.Cl=0|o,this.Dh=0|s,this.Dl=0|a,this.Eh=0|c,this.El=0|d,this.Fh=0|u,this.Fl=0|h,this.Gh=0|f,this.Gl=0|l,this.Hh=0|p,this.Hl=0|y}process(e,t){for(let n=0;n<16;n++,t+=4)Za[n]=e.getUint32(t),Ja[n]=e.getUint32(t+=4);for(let e=16;e<80;e++){const t=0|Za[e-15],n=0|Ja[e-15],r=Va.rotrSH(t,n,1)^Va.rotrSH(t,n,8)^Va.shrSH(t,n,7),i=Va.rotrSL(t,n,1)^Va.rotrSL(t,n,8)^Va.shrSL(t,n,7),o=0|Za[e-2],s=0|Ja[e-2],a=Va.rotrSH(o,s,19)^Va.rotrBH(o,s,61)^Va.shrSH(o,s,6),c=Va.rotrSL(o,s,19)^Va.rotrBL(o,s,61)^Va.shrSL(o,s,6),d=Va.add4L(i,c,Ja[e-7],Ja[e-16]),u=Va.add4H(d,r,a,Za[e-7],Za[e-16]);Za[e]=0|u,Ja[e]=0|d}let{Ah:n,Al:r,Bh:i,Bl:o,Ch:s,Cl:a,Dh:c,Dl:d,Eh:u,El:h,Fh:f,Fl:l,Gh:p,Gl:y,Hh:g,Hl:w}=this;for(let e=0;e<80;e++){const t=Va.rotrSH(u,h,14)^Va.rotrSH(u,h,18)^Va.rotrBH(u,h,41),b=Va.rotrSL(u,h,14)^Va.rotrSL(u,h,18)^Va.rotrBL(u,h,41),m=u&f^~u&p,v=h&l^~h&y,x=Va.add5L(w,b,v,Wa[e],Ja[e]),E=Va.add5H(x,g,t,m,Ma[e],Za[e]),B=0|x,A=Va.rotrSH(n,r,28)^Va.rotrBH(n,r,34)^Va.rotrBH(n,r,39),I=Va.rotrSL(n,r,28)^Va.rotrBL(n,r,34)^Va.rotrBL(n,r,39),S=n&i^n&s^i&s,k=r&o^r&a^o&a;g=0|p,w=0|y,p=0|f,y=0|l,f=0|u,l=0|h,({h:u,l:h}=Va.add(0|c,0|d,0|E,0|B)),c=0|s,d=0|a,s=0|i,a=0|o,i=0|n,o=0|r;const H=Va.add3L(B,I,k);n=Va.add3H(H,E,A,S),r=0|H}({h:n,l:r}=Va.add(0|this.Ah,0|this.Al,0|n,0|r)),({h:i,l:o}=Va.add(0|this.Bh,0|this.Bl,0|i,0|o)),({h:s,l:a}=Va.add(0|this.Ch,0|this.Cl,0|s,0|a)),({h:c,l:d}=Va.add(0|this.Dh,0|this.Dl,0|c,0|d)),({h:u,l:h}=Va.add(0|this.Eh,0|this.El,0|u,0|h)),({h:f,l}=Va.add(0|this.Fh,0|this.Fl,0|f,0|l)),({h:p,l:y}=Va.add(0|this.Gh,0|this.Gl,0|p,0|y)),({h:g,l:w}=Va.add(0|this.Hh,0|this.Hl,0|g,0|w)),this.set(n,r,i,o,s,a,c,d,u,h,f,l,p,y,g,w)}roundClean(){Za.fill(0),Ja.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Xa=xo((()=>new Ya)),Qa=BigInt(0),ec=BigInt(1),tc=BigInt(2),nc=BigInt(8),rc={zip215:!0};function ic(e){const t=function(e){const t=bs(e);return Wo(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}(e),{Fp:n,n:r,prehash:i,hash:o,randomBytes:s,nByteLength:a,h:c}=t,d=tc<<BigInt(8*a)-ec,u=n.create,h=t.uvRatio||((e,t)=>{try{return{isValid:!0,value:n.sqrt(e*n.inv(t))}}catch(e){return{isValid:!1,value:Qa}}}),f=t.adjustScalarBytes||(e=>e),l=t.domain||((e,t,n)=>{if(t.length||n)throw new Error("Contexts/pre-hash are not supported");return e}),p=e=>"bigint"==typeof e&&Qa<e,y=(e,t)=>p(e)&&p(t)&&e<t,g=e=>e===Qa||y(e,d);function w(e,t){if(y(e,t))return e;throw new Error(`Expected valid scalar < ${t}, got ${typeof e} ${e}`)}function b(e){return e===Qa?e:w(e,r)}const m=new Map;function v(e){if(!(e instanceof x))throw new Error("ExtendedPoint expected")}class x{constructor(e,t,n,r){if(this.ex=e,this.ey=t,this.ez=n,this.et=r,!g(e))throw new Error("x required");if(!g(t))throw new Error("y required");if(!g(n))throw new Error("z required");if(!g(r))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(e){if(e instanceof x)throw new Error("extended point not allowed");const{x:t,y:n}=e||{};if(!g(t)||!g(n))throw new Error("invalid affine point");return new x(t,n,ec,u(t*n))}static normalizeZ(e){const t=n.invertBatch(e.map((e=>e.ez)));return e.map(((e,n)=>e.toAffine(t[n]))).map(x.fromAffine)}_setWindowSize(e){this._WINDOW_SIZE=e,m.delete(this)}assertValidity(){const{a:e,d:n}=t;if(this.is0())throw new Error("bad point: ZERO");const{ex:r,ey:i,ez:o,et:s}=this,a=u(r*r),c=u(i*i),d=u(o*o),h=u(d*d),f=u(a*e);if(u(d*u(f+c))!==u(h+u(n*u(a*c))))throw new Error("bad point: equation left != right (1)");if(u(r*i)!==u(o*s))throw new Error("bad point: equation left != right (2)")}equals(e){v(e);const{ex:t,ey:n,ez:r}=this,{ex:i,ey:o,ez:s}=e,a=u(t*s),c=u(i*r),d=u(n*s),h=u(o*r);return a===c&&d===h}is0(){return this.equals(x.ZERO)}negate(){return new x(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:e}=t,{ex:n,ey:r,ez:i}=this,o=u(n*n),s=u(r*r),a=u(tc*u(i*i)),c=u(e*o),d=n+r,h=u(u(d*d)-o-s),f=c+s,l=f-a,p=c-s,y=u(h*l),g=u(f*p),w=u(h*p),b=u(l*f);return new x(y,g,b,w)}add(e){v(e);const{a:n,d:r}=t,{ex:i,ey:o,ez:s,et:a}=this,{ex:c,ey:d,ez:h,et:f}=e;if(n===BigInt(-1)){const e=u((o-i)*(d+c)),t=u((o+i)*(d-c)),n=u(t-e);if(n===Qa)return this.double();const r=u(s*tc*f),l=u(a*tc*h),p=l+r,y=t+e,g=l-r,w=u(p*n),b=u(y*g),m=u(p*g),v=u(n*y);return new x(w,b,v,m)}const l=u(i*c),p=u(o*d),y=u(a*r*f),g=u(s*h),w=u((i+o)*(c+d)-l-p),b=g-y,m=g+y,E=u(p-n*l),B=u(w*b),A=u(m*E),I=u(w*E),S=u(b*m);return new x(B,A,S,I)}subtract(e){return this.add(e.negate())}wNAF(e){return A.wNAFCached(this,m,e,x.normalizeZ)}multiply(e){const{p:t,f:n}=this.wNAF(w(e,r));return x.normalizeZ([t,n])[0]}multiplyUnsafe(e){let t=b(e);return t===Qa?B:this.equals(B)||t===ec?this:this.equals(E)?this.wNAF(t).p:A.unsafeLadder(this,t)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return A.unsafeLadder(this,r).is0()}toAffine(e){const{ex:t,ey:r,ez:i}=this,o=this.is0();null==e&&(e=o?nc:n.inv(i));const s=u(t*e),a=u(r*e),c=u(i*e);if(o)return{x:Qa,y:ec};if(c!==ec)throw new Error("invZ was invalid");return{x:s,y:a}}clearCofactor(){const{h:e}=t;return e===ec?this:this.multiplyUnsafe(e)}static fromHex(e,r=!1){const{d:i,a:o}=t,s=n.BYTES,a=(e=zo("pointHex",e,s)).slice(),c=e[s-1];a[s-1]=-129&c;const f=To(a);f===Qa||w(f,r?d:n.ORDER);const l=u(f*f),p=u(l-ec),y=u(i*l-o);let{isValid:g,value:b}=h(p,y);if(!g)throw new Error("Point.fromHex: invalid y coordinate");const m=(b&ec)===ec,v=0!=(128&c);if(!r&&b===Qa&&v)throw new Error("Point.fromHex: x=0 and x_0=1");return v!==m&&(b=u(-b)),x.fromAffine({x:b,y:f})}static fromPrivateKey(e){return k(e).point}toRawBytes(){const{x:e,y:t}=this.toAffine(),r=jo(t,n.BYTES);return r[r.length-1]|=e&ec?128:0,r}toHex(){return Ko(this.toRawBytes())}}x.BASE=new x(t.Gx,t.Gy,ec,u(t.Gx*t.Gy)),x.ZERO=new x(Qa,ec,ec,Qa);const{BASE:E,ZERO:B}=x,A=ws(x,8*a);function I(e){return ns(e,r)}function S(e){return I(To(e))}function k(e){const t=a;e=zo("private key",e,t);const n=zo("hashed private key",o(e),2*t),r=f(n.slice(0,t)),i=n.slice(t,2*t),s=S(r),c=E.multiply(s),d=c.toRawBytes();return{head:r,prefix:i,scalar:s,point:c,pointBytes:d}}function H(e=new Uint8Array,...t){const n=Do(...t);return S(o(l(n,zo("context",e),!!i)))}const L=rc;E._setWindowSize(8);return{CURVE:t,getPublicKey:function(e){return k(e).pointBytes},sign:function(e,t,r={}){e=zo("message",e),i&&(e=i(e));const{prefix:o,scalar:s,pointBytes:c}=k(t),d=H(r.context,o,e),u=E.multiply(d).toRawBytes(),h=I(d+H(r.context,u,c,e)*s);return b(h),zo("result",Do(u,jo(h,n.BYTES)),2*a)},verify:function(e,t,r,o=L){const{context:s,zip215:a}=o,c=n.BYTES;e=zo("signature",e,2*c),t=zo("message",t),i&&(t=i(t));const d=To(e.slice(c,2*c));let u,h,f;try{u=x.fromHex(r,a),h=x.fromHex(e.slice(0,c),a),f=E.multiplyUnsafe(d)}catch(e){return!1}if(!a&&u.isSmallOrder())return!1;const l=H(s,h.toRawBytes(),u.toRawBytes(),t);return h.add(u.multiplyUnsafe(l)).subtract(f).clearCofactor().equals(x.ZERO)},ExtendedPoint:x,utils:{getExtendedPublicKey:k,randomPrivateKey:()=>s(n.BYTES),precompute:(e=8,t=x.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}}const oc=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),sc=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),ac=(BigInt(0),BigInt(1)),cc=BigInt(2),dc=BigInt(5),uc=BigInt(10),hc=BigInt(20),fc=BigInt(40),lc=BigInt(80);function pc(e){const t=oc,n=e*e%t*e%t,r=is(n,cc,t)*n%t,i=is(r,ac,t)*e%t,o=is(i,dc,t)*i%t,s=is(o,uc,t)*o%t,a=is(s,hc,t)*s%t,c=is(a,fc,t)*a%t,d=is(c,lc,t)*c%t,u=is(d,lc,t)*c%t,h=is(u,uc,t)*o%t;return{pow_p_5_8:is(h,cc,t)*e%t,b2:n}}function yc(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function gc(e,t){const n=oc,r=ns(t*t*t,n),i=ns(r*r*t,n);let o=ns(e*r*pc(e*i).pow_p_5_8,n);const s=ns(t*o*o,n),a=o,c=ns(o*sc,n),d=s===e,u=s===ns(-e,n),h=s===ns(-e*sc,n);return d&&(o=a),(u||h)&&(o=c),as(o,n)&&(o=ns(-o,n)),{isValid:d||u,value:o}}const wc=us(oc,void 0,!0),bc={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:wc,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Xa,randomBytes:Eo,adjustScalarBytes:yc,uvRatio:gc},mc=ic(bc);function vc(e,t,n){if(t.length>255)throw new Error("Context is too big");return mo(wo("SigEd25519 no Ed25519 collisions"),new Uint8Array([n?1:0,t.length]),t,e)}ic({...bc,domain:vc}),ic({...bc,domain:vc,prehash:Xa});const xc=(wc.ORDER+BigInt(3))/BigInt(8);wc.pow(cc,xc),wc.sqrt(wc.neg(wc.ONE)),wc.ORDER,BigInt(5),BigInt(8),BigInt(486662);!function(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const n=e.sqrt(t);e.isOdd(n)&&e.neg(n)}(wc,wc.neg(BigInt(486664)));BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const Ec=mc.CURVE,Bc="ed25519",Ac=nr("ed25519 seed"),Ic=e=>!0,Sc=!1,kc=33,Hc=(e,t)=>{const n=mc.getPublicKey(e);return ir([new Uint8Array([0]),n])},Lc=(e,t)=>{throw new Error("Ed25519 does not support public key derivation.")},Uc=e=>e,Pc=e=>e,Cc=32,Oc="slip10",Kc=33,Rc=mc.CURVE,Fc="ed25519Bip32",Nc=nr("");function Tc(e,t){const n=e[t];return G(void 0!==n,"Private key is too short."),n}const $c=e=>0==(7&Tc(e,0))&&(0==(128&Tc(e,31))&&64==(64&Tc(e,31))),jc=!0,zc=32,Dc=e=>{return ze(t=Qn(Uint8Array.from(e).reverse())),BigInt(De(t));var t},_c=e=>{const t=ns(Dc(e),Rc.n);return mc.ExtendedPoint.BASE.multiply(t).toRawBytes()},qc=async(e,t)=>_c(e.slice(0,32)),Gc=(e,t)=>mc.ExtendedPoint.fromHex(_e(Qn(e))).add(mc.ExtendedPoint.fromHex(_e(Qn(t)))).toRawBytes(),Vc=e=>e,Mc=e=>e,Wc=64,Zc="cip3",Jc=32,Yc={secp256k1:r,ed25519:t,ed25519Bip32:n};function Xc(e){return Yc[e]}function Qc(e){return nd(e),`${ed(e)}'`}function ed(e){return nd(e),`bip32:${e}`}function td(e){if("number"==typeof e)return ed(e);if(!e||!Number.isInteger(e.index)||"boolean"!=typeof e.hardened)throw new Error("Invalid BIP-32 index: Must be an object containing the index and whether it is hardened.");return e.hardened?Qc(e.index):ed(e.index)}function nd(e){if(!(ad(t=e)&&t<=Qi))throw new Error("Invalid BIP-32 index: Must be a non-negative integer.");var t}function rd(e){return e.endsWith("'")}function id(e){return e instanceof Uint8Array?e:tr(e)}function od(e){if(void 0!==e)return id(e)}function sd(e,t){if(e.length!==t)return!1;for(const t of e)if(0!==t)return!0;return!1}function ad(e){return"number"==typeof e&&Number.isInteger(e)&&e>=0}function cd(e,t){if(e instanceof Uint8Array)return ud(e,t),e;if("string"==typeof e){const n=tr(e);return ud(n,t),n}throw new Error("Invalid value: Expected an instance of Uint8Array or hexadecimal string.")}function dd(e,t){if(e instanceof Uint8Array)return G(e.length===t,`Invalid value: Must be a ${t}-byte byte array.`),e;if("string"==typeof e)return dd(tr(e),t);throw new Error("Invalid value: Expected an instance of Uint8Array or hexadecimal string.")}function ud(e,t){if(!sd(e,t))throw new Error(`Invalid value: Must be a non-zero ${t}-byte byte array.`)}const hd=(e,t)=>{if(!sd(e,t))throw new Error(`Invalid public key: The key must be a ${t}-byte, non-zero byte array.`);return or(la(ba(e))).getUint32(0,!1)};function fd(e){if(!e||"string"!=typeof e)throw new Error("Invalid curve: Must specify a curve.");if(!Object.keys(Yc).includes(e))throw new Error(`Invalid curve: Only the following curves are supported: ${Object.keys(Yc).join(", ")}.`)}function ld(e,t=!1){const n=new Uint8Array(4);return or(n).setUint32(0,e,t),n}const pd=Rs.CURVE,yd="secp256k1",gd=nr("Bitcoin seed"),wd=!0,bd=65,md=e=>Rs.utils.isValidPrivateKey(e),vd=(e,t=!1)=>Rs.getPublicKey(e,t),xd=(e,t)=>{G(sd(t,32),"Invalid tweak: Tweak must be a non-zero 32-byte Uint8Array.");const n=Rs.ProjectivePoint.fromHex(e).add(Rs.ProjectivePoint.fromPrivateKey(t));return n.assertValidity(),n.toRawBytes(!1)},Ed=e=>Rs.ProjectivePoint.fromHex(e).toRawBytes(!0),Bd=e=>Rs.ProjectivePoint.fromHex(e).toRawBytes(!1),Ad=32,Id="slip10",Sd=33,kd=76067358,Hd=76066276,Ld=e=>{const t=(e=>{const t=ja(ba);try{return t.decode(e)}catch{throw new Error("Invalid extended key: Value is not base58-encoded, or the checksum is invalid.")}})(e);if(78!==t.length)throw new Error(`Invalid extended key: Expected a length of 78, got ${t.length}.`);const n=or(t),r=n.getUint32(0,!1),i=n.getUint8(4);fh(i);const o=n.getUint32(5,!1),s=n.getUint32(9,!1),a=t.slice(13,45);if(!sd(a,32))throw new Error("Invalid extended key: Chain code must be a 32-byte non-zero byte array.");const c=t.slice(45,78);if(!sd(c,33))throw new Error("Invalid extended key: Key must be a 33-byte non-zero byte array.");const d=or(c);if(r===kd){if(2!==d.getUint8(0)&&3!==d.getUint8(0))throw new Error("Invalid extended key: Public key must start with 0x02 or 0x03.");return{version:r,depth:i,parentFingerprint:o,index:s,chainCode:a,publicKey:Bd(c)}}if(r===Hd){if(0!==d.getUint8(0))throw new Error("Invalid extended key: Private key must start with 0x00.");return{version:r,depth:i,parentFingerprint:o,index:s,chainCode:a,privateKey:c.slice(1)}}throw new Error("Invalid extended key: Expected a public (xpub) or private key (xprv) version.")},Ud=e=>{const{version:t,depth:n,parentFingerprint:r,index:i,chainCode:o}=e,s=new Uint8Array(78),a=or(s);if(a.setUint32(0,t,!1),a.setUint8(4,n),a.setUint32(5,r,!1),a.setUint32(9,i,!1),s.set(o,13),e.version===kd){const{publicKey:t}=e,n=Ed(t);s.set(n,45)}if(e.version===Hd){const{privateKey:t}=e;s.set(t,46)}return c=s,ja(ba).encode(c);var c};var Pd,Cd=function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},Od=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};const Kd=2;class Rd{constructor(e,t){Pd.set(this,void 0),Cd(this,Pd,e,"f"),this.coin_type=t,this.path=function(e){return`m / ${eo} / ${Qc(e)}`}(t),Object.freeze(this)}static async fromJSON(e,t){Nd(t),Fd(e.depth);const n=await hh.fromExtendedKey({depth:e.depth,index:e.index,parentFingerprint:e.parentFingerprint,chainCode:id(e.chainCode),privateKey:od(e.privateKey),publicKey:id(e.publicKey)});return new Rd(n,t)}static async fromDerivationPath(e){Fd(e.length-1);const t=await hh.fromDerivationPath({derivationPath:e}),n=e[Kd].split(":")[1]?.replace("'","");G(n,"Invalid derivation path.");const r=Number.parseInt(n,10);return new Rd(t,r)}static async fromNode(e,t){if(!(e instanceof hh))throw new Error("Invalid node: Expected an instance of BIP44Node.");return Nd(t),Fd(e.depth),Promise.resolve(new Rd(e,t))}get depth(){return Od(this,Pd,"f").depth}get privateKeyBytes(){return Od(this,Pd,"f").privateKeyBytes}get publicKeyBytes(){return Od(this,Pd,"f").publicKeyBytes}get chainCodeBytes(){return Od(this,Pd,"f").chainCodeBytes}get privateKey(){return Od(this,Pd,"f").privateKey}get publicKey(){return Od(this,Pd,"f").publicKey}get compressedPublicKey(){return Od(this,Pd,"f").compressedPublicKey}get compressedPublicKeyBytes(){return Od(this,Pd,"f").compressedPublicKeyBytes}get chainCode(){return Od(this,Pd,"f").chainCode}get address(){return Od(this,Pd,"f").address}get masterFingerprint(){return Od(this,Pd,"f").masterFingerprint}get parentFingerprint(){return Od(this,Pd,"f").parentFingerprint}get fingerprint(){return Od(this,Pd,"f").fingerprint}get index(){return Od(this,Pd,"f").index}get curve(){return Od(this,Pd,"f").curve}get extendedKey(){return Od(this,Pd,"f").extendedKey}async deriveBIP44AddressKey({account:e=0,change:t=0,address_index:n}){return await Od(this,Pd,"f").derive(function({account:e=0,change:t=0,address_index:n}){return[Qc(e),td(t),td(n)]}({account:e,change:t,address_index:n}))}toJSON(){return{...Od(this,Pd,"f").toJSON(),coin_type:this.coin_type,path:this.path}}}function Fd(e){if(e!==Kd)throw new Error(`Invalid depth: Coin type nodes must be of depth ${Kd}. Received: "${e}"`)}function Nd(e){if("number"!=typeof e||!Number.isInteger(e)||e<0)throw new Error("Invalid coin type: The specified coin type must be a non-negative integer number.")}Pd=new WeakMap;const Td=BigInt(2**32-1),$d=BigInt(32);function jd(e,t=!1){return t?{h:Number(e&Td),l:Number(e>>$d&Td)}:{h:0|Number(e>>$d&Td),l:0|Number(e&Td)}}function zd(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:o,l:s}=jd(e[i],t);[n[i],r[i]]=[o,s]}return[n,r]}const Dd=(e,t,n)=>e<<n|t>>>32-n,_d=(e,t,n)=>t<<n|e>>>32-n,qd=(e,t,n)=>t<<n-32|e>>>64-n,Gd=(e,t,n)=>e<<n-32|t>>>64-n;const Vd={fromBig:jd,split:zd,toBig:(e,t)=>BigInt(e>>>0)<<$d|BigInt(t>>>0),shrSH:(e,t,n)=>e>>>n,shrSL:(e,t,n)=>e<<32-n|t>>>n,rotrSH:(e,t,n)=>e>>>n|t<<32-n,rotrSL:(e,t,n)=>e<<32-n|t>>>n,rotrBH:(e,t,n)=>e<<64-n|t>>>n-32,rotrBL:(e,t,n)=>e>>>n-32|t<<64-n,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:Dd,rotlSL:_d,rotlBH:qd,rotlBL:Gd,add:function(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:0|i}},add3L:(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),add3H:(e,t,n,r)=>t+n+r+(e/2**32|0)|0,add4L:(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),add4H:(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,add5H:(e,t,n,r,i,o)=>t+n+r+i+o+(e/2**32|0)|0,add5L:(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0)},Md=[],Wd=[],Zd=[],Jd=BigInt(0),Yd=BigInt(1),Xd=BigInt(2),Qd=BigInt(7),eu=BigInt(256),tu=BigInt(113);for(let e=0,t=Yd,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],Md.push(2*(5*r+n)),Wd.push((e+1)*(e+2)/2%64);let i=Jd;for(let e=0;e<7;e++)t=(t<<Yd^(t>>Qd)*tu)%eu,t&Xd&&(i^=Yd<<(Yd<<BigInt(e))-Yd);Zd.push(i)}const[nu,ru]=zd(Zd,!0),iu=(e,t,n)=>n>32?qd(e,t,n):Dd(e,t,n),ou=(e,t,n)=>n>32?Gd(e,t,n):_d(e,t,n);class su extends Zs{constructor(e,t,n,r=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=r,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Ns(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");var o;this.state=new Uint8Array(200),this.state32=(o=this.state,new Uint32Array(o.buffer,o.byteOffset,Math.floor(o.byteLength/4)))}keccak(){Gs||Ms(this.state32),function(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let t=0;t<10;t++)n[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const r=(t+8)%10,i=(t+2)%10,o=n[i],s=n[i+1],a=iu(o,s,1)^n[r],c=ou(o,s,1)^n[r+1];for(let n=0;n<50;n+=10)e[t+n]^=a,e[t+n+1]^=c}let t=e[2],i=e[3];for(let n=0;n<24;n++){const r=Wd[n],o=iu(t,i,r),s=ou(t,i,r),a=Md[n];t=e[a],i=e[a+1],e[a]=o,e[a+1]=s}for(let t=0;t<50;t+=10){for(let r=0;r<10;r++)n[r]=e[t+r];for(let r=0;r<10;r++)e[t+r]^=~n[(r+2)%10]&n[(r+4)%10]}e[0]^=nu[r],e[1]^=ru[r]}n.fill(0)}(this.state32,this.rounds),Gs||Ms(this.state32),this.posOut=0,this.pos=0}update(e){js(this);const{blockLen:t,state:n}=this,r=(e=Ws(e)).length;for(let i=0;i<r;){const o=Math.min(t-this.pos,r-i);for(let t=0;t<o;t++)n[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,0!=(128&t)&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){js(this,!1),Ts(e),this.finish();const t=this.state,{blockLen:n}=this;for(let r=0,i=e.length;r<i;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,i-r);e.set(t.subarray(this.posOut,this.posOut+o),r),this.posOut+=o,r+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Ns(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(zs(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:r,rounds:i,enableXOF:o}=this;return e||(e=new su(t,n,r,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=r,e.enableXOF=o,e.destroyed=this.destroyed,e}}const au=(e,t,n)=>Ys((()=>new su(t,e,n))),cu=au(1,136,32);class du extends Zs{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,$s(e);const n=Ws(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,i=new Uint8Array(r);i.set(n.length>r?e.create().update(n).digest():n);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),i.fill(0)}update(e){return js(this),this.iHash.update(e),this}digestInto(e){js(this),Ts(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:o,outputLen:s}=this;return e.finished=r,e.destroyed=i,e.blockLen=o,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const uu=(e,t,n)=>new du(e,t).update(n).digest();uu.create=(e,t)=>new du(e,t);const[hu,fu]=Vd.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))),lu=new Uint32Array(80),pu=new Uint32Array(80);class yu extends Qs{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:i,Cl:o,Dh:s,Dl:a,Eh:c,El:d,Fh:u,Fl:h,Gh:f,Gl:l,Hh:p,Hl:y}=this;return[e,t,n,r,i,o,s,a,c,d,u,h,f,l,p,y]}set(e,t,n,r,i,o,s,a,c,d,u,h,f,l,p,y){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|i,this.Cl=0|o,this.Dh=0|s,this.Dl=0|a,this.Eh=0|c,this.El=0|d,this.Fh=0|u,this.Fl=0|h,this.Gh=0|f,this.Gl=0|l,this.Hh=0|p,this.Hl=0|y}process(e,t){for(let n=0;n<16;n++,t+=4)lu[n]=e.getUint32(t),pu[n]=e.getUint32(t+=4);for(let e=16;e<80;e++){const t=0|lu[e-15],n=0|pu[e-15],r=Vd.rotrSH(t,n,1)^Vd.rotrSH(t,n,8)^Vd.shrSH(t,n,7),i=Vd.rotrSL(t,n,1)^Vd.rotrSL(t,n,8)^Vd.shrSL(t,n,7),o=0|lu[e-2],s=0|pu[e-2],a=Vd.rotrSH(o,s,19)^Vd.rotrBH(o,s,61)^Vd.shrSH(o,s,6),c=Vd.rotrSL(o,s,19)^Vd.rotrBL(o,s,61)^Vd.shrSL(o,s,6),d=Vd.add4L(i,c,pu[e-7],pu[e-16]),u=Vd.add4H(d,r,a,lu[e-7],lu[e-16]);lu[e]=0|u,pu[e]=0|d}let{Ah:n,Al:r,Bh:i,Bl:o,Ch:s,Cl:a,Dh:c,Dl:d,Eh:u,El:h,Fh:f,Fl:l,Gh:p,Gl:y,Hh:g,Hl:w}=this;for(let e=0;e<80;e++){const t=Vd.rotrSH(u,h,14)^Vd.rotrSH(u,h,18)^Vd.rotrBH(u,h,41),b=Vd.rotrSL(u,h,14)^Vd.rotrSL(u,h,18)^Vd.rotrBL(u,h,41),m=u&f^~u&p,v=h&l^~h&y,x=Vd.add5L(w,b,v,fu[e],pu[e]),E=Vd.add5H(x,g,t,m,hu[e],lu[e]),B=0|x,A=Vd.rotrSH(n,r,28)^Vd.rotrBH(n,r,34)^Vd.rotrBH(n,r,39),I=Vd.rotrSL(n,r,28)^Vd.rotrBL(n,r,34)^Vd.rotrBL(n,r,39),S=n&i^n&s^i&s,k=r&o^r&a^o&a;g=0|p,w=0|y,p=0|f,y=0|l,f=0|u,l=0|h,({h:u,l:h}=Vd.add(0|c,0|d,0|E,0|B)),c=0|s,d=0|a,s=0|i,a=0|o,i=0|n,o=0|r;const H=Vd.add3L(B,I,k);n=Vd.add3H(H,E,A,S),r=0|H}({h:n,l:r}=Vd.add(0|this.Ah,0|this.Al,0|n,0|r)),({h:i,l:o}=Vd.add(0|this.Bh,0|this.Bl,0|i,0|o)),({h:s,l:a}=Vd.add(0|this.Ch,0|this.Cl,0|s,0|a)),({h:c,l:d}=Vd.add(0|this.Dh,0|this.Dl,0|c,0|d)),({h:u,l:h}=Vd.add(0|this.Eh,0|this.El,0|u,0|h)),({h:f,l}=Vd.add(0|this.Fh,0|this.Fl,0|f,0|l)),({h:p,l:y}=Vd.add(0|this.Gh,0|this.Gl,0|p,0|y)),({h:g,l:w}=Vd.add(0|this.Hh,0|this.Hl,0|g,0|w)),this.set(n,r,i,o,s,a,c,d,u,h,f,l,p,y,g,w)}roundClean(){lu.fill(0),pu.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const gu=Ys((()=>new yu));async function wu({path:e,node:t,curve:n},r){Eu(t);const{childIndex:i,isHardened:o}=Bu(e,t,n),s={chainCode:t.chainCodeBytes,childIndex:i,isHardened:o,depth:t.depth,parentFingerprint:t.fingerprint,masterFingerprint:t.masterFingerprint,curve:n};if(t.privateKeyBytes){const e=await mu({privateKey:t.privateKeyBytes,childIndex:i,isHardened:o,curve:n}),a=xu({chainCode:t.chainCodeBytes,extension:e});return await bu({privateKey:t.privateKeyBytes,entropy:a,...s},r)}const a=vu({parentPublicKey:t.compressedPublicKeyBytes,childIndex:i}),c=xu({chainCode:t.chainCodeBytes,extension:a});return await bu({publicKey:t.compressedPublicKeyBytes,entropy:c,...s},r)}async function bu(e,t){const{privateKey:n,publicKey:r,entropy:i,childIndex:o,isHardened:s,depth:a,parentFingerprint:c,masterFingerprint:d,curve:u}=e;try{return n?await async function({entropy:e,privateKey:t,depth:n,masterFingerprint:r,parentFingerprint:i,childIndex:o,isHardened:s,curve:a}){const c=o+(s?so:0),{privateKey:d,chainCode:u}=await async function({privateKey:e,entropy:t,curve:n}){const r=t.slice(0,32),i=t.slice(32);if("ed25519"===n.name){return{privateKey:r,publicKey:await n.getPublicKey(r),chainCode:i}}const o=function(e,t,n){G(sd(t,32),"Invalid tweak: Tweak must be a non-zero 32-byte Uint8Array.");const r=er(e),i=er(t);if(i>=n.curve.n)throw new Error("Invalid tweak: Tweak is larger than the curve order.");const o=ns(r+i,n.curve.n),s=tr(o.toString(16).padStart(64,"0"));if(!n.isValidPrivateKey(s))throw new Error("Invalid private key or tweak: The resulting private key is invalid.");return s}(e,r,n),s=await n.getPublicKey(o);return{privateKey:o,publicKey:s,chainCode:i}}({privateKey:t,entropy:e,curve:a});return await sh.fromExtendedKey({privateKey:d,chainCode:u,depth:n+1,masterFingerprint:r,parentFingerprint:i,index:c,curve:a.name})}({entropy:i,privateKey:n,depth:a,masterFingerprint:d,parentFingerprint:c,childIndex:o,isHardened:s,curve:u}):await async function({entropy:e,publicKey:t,depth:n,masterFingerprint:r,parentFingerprint:i,childIndex:o,curve:s}){const{publicKey:a,chainCode:c}=function({publicKey:e,entropy:t,curve:n}){const r=t.slice(0,32),i=t.slice(32),o=n.publicAdd(e,r);return{publicKey:o,chainCode:i}}({publicKey:t,entropy:e,curve:s});return await sh.fromExtendedKey({publicKey:a,chainCode:c,depth:n+1,masterFingerprint:r,parentFingerprint:i,index:o,curve:s.name})}({entropy:i,publicKey:r,depth:a,masterFingerprint:d,parentFingerprint:c,childIndex:o,curve:u})}catch(n){return await bu(await t(n,e),t)}}async function mu({privateKey:e,childIndex:t,isHardened:n,curve:r}){if(n)return ir([new Uint8Array([0]),e,ld(t+so)]);return vu({parentPublicKey:await r.getPublicKey(e,!0),childIndex:t})}function vu({parentPublicKey:e,childIndex:t}){return ir([e,ld(t)])}function xu({chainCode:e,extension:t}){return uu(gu,e,t)}function Eu(e){G(e,"Invalid parameters: Must specify a node to derive from.")}function Bu(e,t,n){!function(e,t,n){G("string"==typeof e,"Invalid path: Must be a string.");const r=e.endsWith("'");G(!r||t.privateKey,"Invalid parameters: Cannot derive hardened child keys without a private key."),G(r||n.deriveUnhardenedKeys,`Invalid path: Cannot derive unhardened child keys with ${n.name}.`)}(e,t,n);const r=e.split("'")[0];G(r);const i=parseInt(r,10);if(!to.test(r)||!Number.isInteger(i)||i<0||i>=so)throw new Error(`Invalid path: The index must be a non-negative decimal integer less than ${so}.`);return{childIndex:i,isHardened:e.includes("'")}}function Au(e){G(e instanceof Uint8Array&&sd(e,Yi),"Invalid key: The key must be a 32-byte, non-zero Uint8Array.");return Iu(vd(e,!1))}function Iu(e){return G(e instanceof Uint8Array&&sd(e,bd),"Invalid key: The key must be a 65-byte, non-zero Uint8Array."),cu(e.slice(1)).slice(-20)}async function Su(e){return G("secp256k1"===e.curve.name,"Invalid curve: Only secp256k1 is supported by BIP-32."),wu(e,ku)}async function ku(e,t){const{childIndex:n,privateKey:r,publicKey:i,isHardened:o,curve:s,chainCode:a}=t;if(nd(n+1),r){const e=xu({chainCode:a,extension:await mu({privateKey:r,childIndex:n+1,isHardened:o,curve:s})});return{...t,childIndex:n+1,entropy:e}}const c=xu({chainCode:a,extension:vu({parentPublicKey:i,childIndex:n+1})});return{...t,childIndex:n+1,entropy:c}}var Hu=i(695);function Lu(e,t,n,r){$s(e);const i=function(e,t){if(void 0!==t&&"[object Object]"!==Js.call(t))throw new Error("Options should be object or undefined");return Object.assign(e,t)}({dkLen:32,asyncTick:10},r),{c:o,dkLen:s,asyncTick:a}=i;if(Ns(o),Ns(s),Ns(a),o<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const c=Ws(t),d=Ws(n),u=new Uint8Array(s),h=uu.create(e,c),f=h._cloneInto().update(d);return{c:o,dkLen:s,asyncTick:a,DK:u,PRF:h,PRFSalt:f}}function Uu(e,t,n,r,i){return e.destroy(),t.destroy(),r&&r.destroy(),i.fill(0),n}function Pu(e){return`bip39:${e.toLowerCase().trim()}`}async function Cu({path:e,curve:t}){switch(t.masterNodeGenerationSpec){case"slip10":return Ou(await(0,Hu.OI)(e,Fs.U),t);case"cip3":return Ku((0,Hu.oy)(e,Fs.U),t);default:throw new Error("Unsupported master node generation spec.")}}async function Ou(e,t){G(e.length>=16&&e.length<=64,"Invalid seed: The seed must be between 16 and 64 bytes long.");const n=uu(gu,t.secret,e),r=n.slice(0,Yi),i=n.slice(Yi);G(t.isValidPrivateKey(r),"Invalid private key: The private key must greater than 0 and less than the curve order.");const o=hd(await t.getPublicKey(r,!0),t.compressedPublicKeyLength);return sh.fromExtendedKey({privateKey:r,chainCode:i,masterFingerprint:o,depth:0,parentFingerprint:0,index:0,curve:t.name})}async function Ku(e,t){G(e.length>=16&&e.length<=64,"Invalid entropy: The entropy must be between 16 and 64 bytes long.");const n=function(e,t,n,r){const{c:i,dkLen:o,DK:s,PRF:a,PRFSalt:c}=Lu(e,t,n,r);let d;const u=new Uint8Array(4),h=Ds(u),f=new Uint8Array(a.outputLen);for(let e=1,t=0;t<o;e++,t+=a.outputLen){const n=s.subarray(t,t+a.outputLen);h.setInt32(0,e,!1),(d=c._cloneInto(d)).update(u).digestInto(f),n.set(f.subarray(0,n.length));for(let e=1;e<i;e++){a._cloneInto(d).update(f).digestInto(f);for(let e=0;e<n.length;e++)n[e]^=f[e]}}return Uu(a,c,s,d,f)}(gu,t.secret,e,{c:4096,dkLen:96});n[0]&=248,n[31]&=31,n[31]|=64;const r=n.slice(0,t.privateKeyLength),i=n.slice(t.privateKeyLength);G(t.isValidPrivateKey(r),"Invalid private key.");const o=hd(await t.getPublicKey(r),t.compressedPublicKeyLength);return sh.fromExtendedKey({privateKey:r,chainCode:i,masterFingerprint:o,depth:0,parentFingerprint:0,index:0,curve:t.name})}const Ru=e=>e.slice().reverse(),Fu=e=>{const t=Qn(Ru(e));return BigInt(t)},Nu=e=>{const t=e.toString(16);return Ru(tr(t))},Tu=e=>ir([e,new Uint8Array(Math.max(32-e.length,0)).fill(0)]),$u=e=>{const t=Fu(e.slice(0,28))*BigInt(8);return Tu(Nu(t))},ju=e=>Tu(Nu(ns(Fu(e),BigInt(2)**BigInt(256)))),zu=(e,t)=>{const n=Fu(e)+Fu(t);return Tu(Nu(n)).slice(0,32)},Du=(e,t,n)=>ir([new Uint8Array([e]),t,ld(n,!0)]),_u=2,qu=0,Gu=async({parentNode:e,childIndex:t,isHardened:n})=>{const r=n?Du(qu,e.privateKeyBytes,t+so):Du(_u,e.publicKeyBytes,t),i=xu({chainCode:e.chainCodeBytes,extension:r}),o=i.subarray(0,32),s=i.subarray(32),a=e.privateKeyBytes.subarray(0,32),c=e.privateKeyBytes.subarray(32);return ir([zu($u(o),a),zu(s,c)])},Vu=3,Mu=1,Wu=async({parentNode:e,childIndex:t,isHardened:n})=>{const r=n?Du(Mu,e.privateKeyBytes,t+so):Du(Vu,e.publicKeyBytes,t);return xu({chainCode:e.chainCodeBytes,extension:r}).subarray(32)},Zu=2,Ju=async({parentNode:e,childIndex:t,curve:n})=>{const r=Du(Zu,e.publicKeyBytes,t),i=xu({chainCode:e.chainCodeBytes,extension:r}).slice(0,32),o=await n.getPublicKey($u(i));return n.publicAdd(e.publicKeyBytes,o)};async function Yu(e){const{curve:t,node:n,path:r}=e;Eu(n);const{childIndex:i,isHardened:o}=Bu(r,n,t);if("ed25519Bip32"!==t.name||!n)throw new Error("Unsupported curve: Only ed25519Bip32 is supported by CIP3.");const s=i+(o?so:0),{privateKeyBytes:a,chainCodeBytes:c,publicKeyBytes:d,masterFingerprint:u,depth:h,fingerprint:f}=n;if(a){const e={privateKeyBytes:a,chainCodeBytes:c,publicKeyBytes:d},n=await Gu({parentNode:e,childIndex:i,isHardened:o}),r=await Wu({parentNode:e,childIndex:i,isHardened:o});return sh.fromExtendedKey({privateKey:Qn(n),chainCode:Qn(r),masterFingerprint:u,depth:h+1,parentFingerprint:f,index:s,curve:t.name})}G(!o,"Invalid parameters: Cannot derive hardened child keys without a private key.");const l={chainCodeBytes:c,publicKeyBytes:d},p=await Ju({parentNode:l,childIndex:i,isHardened:!1,curve:t}),y=await Wu({parentNode:l,childIndex:i,isHardened:!1});return sh.fromExtendedKey({publicKey:Qn(p),chainCode:Qn(y),masterFingerprint:u,depth:h+1,parentFingerprint:f,index:s,curve:t.name})}async function Xu(e){return await wu(e,Qu)}async function Qu(e,t){const{curve:n,isHardened:r,childIndex:i,entropy:o,chainCode:s}=t;if("ed25519"===n.name)throw e;const a=r?i+so:i,c=xu({chainCode:s,extension:ir([1,o.slice(32,64),ld(a)])});return{...t,entropy:c}}const eh={bip32:s,bip39:a,slip10:d,cip3:c};async function th(e){const{path:t,depth:n=t.length}=e,r="node"in e?e.node:void 0,i="curve"in e?e.curve:r?.curve;if(r&&!(r instanceof sh)&&!(r instanceof hh)&&!(r instanceof Rd))throw new Error("Invalid arguments: Node must be a SLIP-10 node or a BIP-44 node when provided.");if(!i)throw new Error("Invalid arguments: Must specify either a parent node or curve.");return function(e,t,n){if(0===e.length)throw new Error("Invalid HD path segment: The segment must not be empty.");let r=!1;if(e.forEach(((e,t)=>{if(0===t){if(r=e instanceof Uint8Array||oo.test(e),!(e instanceof Uint8Array||r||no.test(e)||ro.test(e)||io.test(e)))throw nh()}else if(e instanceof Uint8Array||!no.test(e)&&!ro.test(e)&&!io.test(e))throw nh()})),n===Xi&&(!r||1!==e.length))throw new Error(`Invalid HD path segment: The segment must consist of a single BIP-39 node for depths of ${Xi}. Received: "${String(e)}".`);if(!t&&!r)throw new Error("Invalid derivation parameters: Must specify parent key if the first node of the path segment is not a BIP-39 node.");if(t&&r)throw new Error("Invalid derivation parameters: May not specify parent key if the path segment starts with a BIP-39 node.");const i=r?e.slice(1):e;if(i.length>0){const e=i[0]?.split(":")[0];G(e),G(i.every((t=>t.startsWith(`${e}:`))),"Invalid HD path segment: Cannot mix 'bip32' and 'slip10' path segments.")}}(t,Boolean(r?.privateKey)||Boolean(r?.publicKey),n),await t.reduce((async(e,t,n)=>{const r=await e;if("string"==typeof t){const[e,n]=t.split(":");G(e),G(n),G(function(e){return e in eh}(e),`Unknown derivation type: "${e}".`);const o=eh[e];return await o.deriveChildKey({path:n,node:r,curve:Xc(i)})}return G(0===n,nh()),await eh.bip39.deriveChildKey({path:t,node:r,curve:Xc(i)})}),Promise.resolve(r))}function nh(){return new Error("Invalid HD path segment: The path segment is malformed.")}var rh,ih,oh=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};class sh{constructor({depth:e,masterFingerprint:t,parentFingerprint:n,index:r,chainCode:i,privateKey:o,publicKey:s,curve:a},c){G(c===oh(sh,rh,"f",ih),"SLIP10Node can only be constructed using `SLIP10Node.fromJSON`, `SLIP10Node.fromExtendedKey`, or `SLIP10Node.fromDerivationPath`."),this.depth=e,this.masterFingerprint=t,this.parentFingerprint=n,this.index=r,this.chainCodeBytes=i,this.privateKeyBytes=o,this.publicKeyBytes=s,this.curve=a,Object.freeze(this)}static async fromJSON(e){return sh.fromExtendedKey(e)}static async fromExtendedKey({depth:e,masterFingerprint:t,parentFingerprint:n,index:r,privateKey:i,publicKey:o,chainCode:s,curve:a}){const c=cd(s,Yi);fd(a),ah(e),nd(r),function(e,t){if(0===t&&0!==e)throw new Error(`Invalid index: The index of the root node must be 0. Received: "${String(e)}".`)}(r,e),function(e,t){if(!ad(e))throw new Error(`Invalid parent fingerprint: The fingerprint must be a positive integer. Received: "${String(e)}".`);if(0===t&&0!==e)throw new Error(`Invalid parent fingerprint: The fingerprint of the root node must be 0. Received: "${String(e)}".`);if(t>0&&0===e)throw new Error(`Invalid parent fingerprint: The fingerprint of a child node must not be 0. Received: "${String(e)}".`)}(n,e),function(e,t,n){if(!e)return;if(n>=2&&e===t)throw new Error(`Invalid parent fingerprint: The fingerprint of a child node cannot be equal to the master fingerprint. Received: "${String(t)}".`)}(t,n,e);const d=Xc(a);if(i){const o=dd(i,d.privateKeyLength);return G(d.isValidPrivateKey(o),`Invalid private key: Value is not a valid ${a} private key.`),new sh({depth:e,masterFingerprint:t,parentFingerprint:n,index:r,chainCode:c,privateKey:o,publicKey:await d.getPublicKey(o),curve:a},oh(this,rh,"f",ih))}if(o){const i=cd(o,d.publicKeyLength);return new sh({depth:e,masterFingerprint:t,parentFingerprint:n,index:r,chainCode:c,publicKey:i,curve:a},oh(this,rh,"f",ih))}throw new Error("Invalid options: Must provide either a private key or a public key.")}static async fromDerivationPath({derivationPath:e,curve:t}){if(fd(t),!e)throw new Error("Invalid options: Must provide a derivation path.");if(0===e.length)throw new Error("Invalid derivation path: May not specify an empty derivation path.");return await th({path:e,depth:e.length-1,curve:t})}get chainCode(){return Qn(this.chainCodeBytes)}get privateKey(){if(this.privateKeyBytes)return Qn(this.privateKeyBytes)}get publicKey(){return Qn(this.publicKeyBytes)}get compressedPublicKeyBytes(){return Xc(this.curve).compressPublicKey(this.publicKeyBytes)}get compressedPublicKey(){return Qn(this.compressedPublicKeyBytes)}get address(){if("secp256k1"!==this.curve)throw new Error("Unable to get address for this node: Only secp256k1 is supported.");return Qn(Iu(this.publicKeyBytes))}get fingerprint(){return hd(this.compressedPublicKeyBytes,Xc(this.curve).compressedPublicKeyLength)}neuter(){return new sh({depth:this.depth,masterFingerprint:this.masterFingerprint,parentFingerprint:this.parentFingerprint,index:this.index,chainCode:this.chainCodeBytes,publicKey:this.publicKeyBytes,curve:this.curve},oh(sh,rh,"f",ih))}async derive(e){return await async function({path:e,node:t}){if(0===e.length)throw new Error("Invalid HD tree derivation path: Deriving a path of length 0 is not defined.");const n=t.depth+e.length;return ah(n),await th({path:e,node:t,depth:n})}({path:e,node:this})}toJSON(){return{depth:this.depth,masterFingerprint:this.masterFingerprint,parentFingerprint:this.parentFingerprint,index:this.index,curve:this.curve,privateKey:this.privateKey,publicKey:this.publicKey,chainCode:this.chainCode}}}function ah(e){if(!ad(e))throw new Error(`Invalid HD tree path depth: The depth must be a positive integer. Received: "${String(e)}".`)}rh=sh,ih={value:Symbol("SLIP10Node.constructor")};var ch,dh=function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},uh=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};class hh{constructor(e){ch.set(this,void 0),dh(this,ch,e,"f"),Object.freeze(this)}static async fromJSON(e){return hh.fromExtendedKey(e)}static async fromExtendedKey(e){if("string"==typeof e){const t=Ld(e),{chainCode:n,depth:r,parentFingerprint:i,index:o}=t;if(t.version===Hd){const{privateKey:e}=t;return hh.fromExtendedKey({depth:r,parentFingerprint:i,index:o,privateKey:e,chainCode:n})}const{publicKey:s}=t;return hh.fromExtendedKey({depth:r,parentFingerprint:i,index:o,publicKey:s,chainCode:n})}const{privateKey:t,publicKey:n,chainCode:r,depth:i,parentFingerprint:o,index:s}=e;fh(i);const a=await sh.fromExtendedKey({privateKey:t,publicKey:n,chainCode:r,depth:i,parentFingerprint:o,index:s,curve:"secp256k1"});return new hh(a)}static async fromDerivationPath({derivationPath:e}){fh(e.length-1),lh(e,Xi);const t=await sh.fromDerivationPath({derivationPath:e,curve:"secp256k1"});return new hh(t)}get depth(){return uh(this,ch,"f").depth}get privateKeyBytes(){return uh(this,ch,"f").privateKeyBytes}get publicKeyBytes(){return uh(this,ch,"f").publicKeyBytes}get chainCodeBytes(){return uh(this,ch,"f").chainCodeBytes}get privateKey(){return uh(this,ch,"f").privateKey}get publicKey(){return uh(this,ch,"f").publicKey}get compressedPublicKey(){return uh(this,ch,"f").compressedPublicKey}get compressedPublicKeyBytes(){return uh(this,ch,"f").compressedPublicKeyBytes}get chainCode(){return uh(this,ch,"f").chainCode}get address(){return uh(this,ch,"f").address}get masterFingerprint(){return uh(this,ch,"f").masterFingerprint}get parentFingerprint(){return uh(this,ch,"f").parentFingerprint}get fingerprint(){return uh(this,ch,"f").fingerprint}get index(){return uh(this,ch,"f").index}get extendedKey(){const e={depth:this.depth,parentFingerprint:this.parentFingerprint,index:this.index,chainCode:this.chainCodeBytes};return this.privateKeyBytes?Ud({...e,version:Hd,privateKey:this.privateKeyBytes}):Ud({...e,version:kd,publicKey:this.publicKeyBytes})}get curve(){return uh(this,ch,"f").curve}neuter(){const e=uh(this,ch,"f").neuter();return new hh(e)}async derive(e){if(5===this.depth)throw new Error("Illegal operation: This HD tree node is already a leaf node.");fh(this.depth+e.length),lh(e,this.depth+1);const t=await uh(this,ch,"f").derive(e);return new hh(t)}toJSON(){return{depth:this.depth,masterFingerprint:this.masterFingerprint,parentFingerprint:this.parentFingerprint,index:this.index,privateKey:this.privateKey,publicKey:this.publicKey,chainCode:this.chainCode}}}function fh(e){if(ah(e),e<Xi||e>5)throw new Error(`Invalid HD tree path depth: The depth must be a positive integer N such that 0 <= N <= 5. Received: "${e}"`)}function lh(e,t){e.forEach(((e,n)=>{const r=t+n;if(r!==Xi)switch(G("string"==typeof e),r){case 1:if(e!==eo)throw new Error(`Invalid derivation path: The "purpose" node (depth 1) must be the string "${eo}".`);break;case 2:if(!no.test(e)||!rd(e))throw new Error('Invalid derivation path: The "coin_type" node (depth 2) must be a hardened BIP-32 node.');break;case 3:if(!no.test(e)||!rd(e))throw new Error('Invalid derivation path: The "account" node (depth 3) must be a hardened BIP-32 node.');break;case 4:if(!no.test(e))throw new Error('Invalid derivation path: The "change" node (depth 4) must be a BIP-32 node.');break;case 5:if(!no.test(e))throw new Error('Invalid derivation path: The "address_index" node (depth 5) must be a BIP-32 node.')}else if(!(e instanceof Uint8Array||oo.test(e)))throw new Error('Invalid derivation path: The "m" / seed node (depth 0) must be a BIP-39 node.')}))}ch=new WeakMap;const ph=async({request:e})=>{switch(e.method){case"getPublicKey":return await(async e=>await snap.request({method:"snap_getBip32PublicKey",params:e}))(e.params);case"signMessage":{const{message:t,curve:n,...r}=e.params;if(!t||"string"!=typeof t)throw new ct(`Invalid signature data: "${t}".`);const i=await(async e=>{const t=await snap.request({method:"snap_getBip32Entropy",params:e});return sh.fromJSON(t)})({...r,curve:n});G(i.privateKey),G("ed25519"===n||"ed25519Bip32"===n||"secp256k1"===n);if(!await snap.request({method:"snap_dialog",params:{type:rn.Confirmation,content:Dt([It("Signature request"),Rt(`Do you want to ${n} sign "${t}" with the following public key?`),Et(De(i.publicKey))])}}))throw new ut;if("ed25519"===n||"ed25519Bip32"===n){const e=await async function(e,t){e=Dr(e);const{prefix:n,scalar:r,pointBytes:i}=await Gr(t),o=await zr(n,e),s=Ir.BASE.multiply(o),a=Rr(o+await zr(s.toRawBytes(),i,e)*r,fr.l);return new Sr(s,a).toRawBytes()}(nr(t),_e(i.privateKey).slice(0,64));return Qn(e)}if("secp256k1"===n){return Qn(await async function(e,t,n={}){const{seed:r,m:i,d:o}=Vi(e,t,n.extraEntropy),s=new Ni(32,oi);let a;for(await s.reseed(r);!(a=ji(await s.generate(),i,o,n.canonical));)await s.reseed();return Mi(a,n)}(nr(t),_e(i.privateKey)))}throw new Error(`Unsupported curve: ${String(n)}.`)}default:throw new dt({method:e.method})}}})();var s=exports;for(var a in o)s[a]=o[a];o.__esModule&&Object.defineProperty(s,"__esModule",{value:!0})})();